(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var _m={exports:{}},Ul={};var Vv;function KA(){if(Vv)return Ul;Vv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ul.Fragment=e,Ul.jsx=n,Ul.jsxs=n,Ul}var kv;function YA(){return kv||(kv=1,_m.exports=KA()),_m.exports}var E=YA(),vm={exports:{}},Ae={};var Pv;function XA(){if(Pv)return Ae;Pv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),C=Symbol.iterator;function k(P){return P===null||typeof P!="object"?null:(P=C&&P[C]||P["@@iterator"],typeof P=="function"?P:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,L={};function Y(P,te,oe){this.props=P,this.context=te,this.refs=L,this.updater=oe||F}Y.prototype.isReactComponent={},Y.prototype.setState=function(P,te){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,te,"setState")},Y.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function ie(){}ie.prototype=Y.prototype;function re(P,te,oe){this.props=P,this.context=te,this.refs=L,this.updater=oe||F}var Z=re.prototype=new ie;Z.constructor=re,X(Z,Y.prototype),Z.isPureReactComponent=!0;var le=Array.isArray;function me(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(P,te,oe){var he=oe.ref;return{$$typeof:r,type:P,key:te,ref:he!==void 0?he:null,props:oe}}function O(P,te){return I(P.type,te,P.props)}function R(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function M(P){var te={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(oe){return te[oe]})}var N=/\/+/g;function He(P,te){return typeof P=="object"&&P!==null&&P.key!=null?M(""+P.key):te.toString(36)}function it(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(me,me):(P.status="pending",P.then(function(te){P.status==="pending"&&(P.status="fulfilled",P.value=te)},function(te){P.status==="pending"&&(P.status="rejected",P.reason=te)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function K(P,te,oe,he,Te){var Ce=typeof P;(Ce==="undefined"||Ce==="boolean")&&(P=null);var Le=!1;if(P===null)Le=!0;else switch(Ce){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(P.$$typeof){case r:case e:Le=!0;break;case T:return Le=P._init,K(Le(P._payload),te,oe,he,Te)}}if(Le)return Te=Te(P),Le=he===""?"."+He(P,0):he,le(Te)?(oe="",Le!=null&&(oe=Le.replace(N,"$&/")+"/"),K(Te,te,oe,"",function(Ts){return Ts})):Te!=null&&(R(Te)&&(Te=O(Te,oe+(Te.key==null||P&&P.key===Te.key?"":(""+Te.key).replace(N,"$&/")+"/")+Le)),te.push(Te)),1;Le=0;var Pt=he===""?".":he+":";if(le(P))for(var ut=0;ut<P.length;ut++)he=P[ut],Ce=Pt+He(he,ut),Le+=K(he,te,oe,Ce,Te);else if(ut=k(P),typeof ut=="function")for(P=ut.call(P),ut=0;!(he=P.next()).done;)he=he.value,Ce=Pt+He(he,ut++),Le+=K(he,te,oe,Ce,Te);else if(Ce==="object"){if(typeof P.then=="function")return K(it(P),te,oe,he,Te);throw te=String(P),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ae(P,te,oe){if(P==null)return P;var he=[],Te=0;return K(P,he,"","",function(Ce){return te.call(oe,Ce,Te++)}),he}function ye(P){if(P._status===-1){var te=P._result;te=te(),te.then(function(oe){(P._status===0||P._status===-1)&&(P._status=1,P._result=oe)},function(oe){(P._status===0||P._status===-1)&&(P._status=2,P._result=oe)}),P._status===-1&&(P._status=0,P._result=te)}if(P._status===1)return P._result.default;throw P._result}var Ue=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Ke={map:ae,forEach:function(P,te,oe){ae(P,function(){te.apply(this,arguments)},oe)},count:function(P){var te=0;return ae(P,function(){te++}),te},toArray:function(P){return ae(P,function(te){return te})||[]},only:function(P){if(!R(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Ae.Activity=S,Ae.Children=Ke,Ae.Component=Y,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=re,Ae.StrictMode=s,Ae.Suspense=g,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(P){return D.H.useMemoCache(P)}},Ae.cache=function(P){return function(){return P.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(P,te,oe){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var he=X({},P.props),Te=P.key;if(te!=null)for(Ce in te.key!==void 0&&(Te=""+te.key),te)!w.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(he[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)he.children=oe;else if(1<Ce){for(var Le=Array(Ce),Pt=0;Pt<Ce;Pt++)Le[Pt]=arguments[Pt+2];he.children=Le}return I(P.type,Te,he)},Ae.createContext=function(P){return P={$$typeof:f,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Ae.createElement=function(P,te,oe){var he,Te={},Ce=null;if(te!=null)for(he in te.key!==void 0&&(Ce=""+te.key),te)w.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Te[he]=te[he]);var Le=arguments.length-2;if(Le===1)Te.children=oe;else if(1<Le){for(var Pt=Array(Le),ut=0;ut<Le;ut++)Pt[ut]=arguments[ut+2];Te.children=Pt}if(P&&P.defaultProps)for(he in Le=P.defaultProps,Le)Te[he]===void 0&&(Te[he]=Le[he]);return I(P,Ce,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(P){return{$$typeof:m,render:P}},Ae.isValidElement=R,Ae.lazy=function(P){return{$$typeof:T,_payload:{_status:-1,_result:P},_init:ye}},Ae.memo=function(P,te){return{$$typeof:p,type:P,compare:te===void 0?null:te}},Ae.startTransition=function(P){var te=D.T,oe={};D.T=oe;try{var he=P(),Te=D.S;Te!==null&&Te(oe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(me,Ue)}catch(Ce){Ue(Ce)}finally{te!==null&&oe.types!==null&&(te.types=oe.types),D.T=te}},Ae.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ae.use=function(P){return D.H.use(P)},Ae.useActionState=function(P,te,oe){return D.H.useActionState(P,te,oe)},Ae.useCallback=function(P,te){return D.H.useCallback(P,te)},Ae.useContext=function(P){return D.H.useContext(P)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(P,te){return D.H.useDeferredValue(P,te)},Ae.useEffect=function(P,te){return D.H.useEffect(P,te)},Ae.useEffectEvent=function(P){return D.H.useEffectEvent(P)},Ae.useId=function(){return D.H.useId()},Ae.useImperativeHandle=function(P,te,oe){return D.H.useImperativeHandle(P,te,oe)},Ae.useInsertionEffect=function(P,te){return D.H.useInsertionEffect(P,te)},Ae.useLayoutEffect=function(P,te){return D.H.useLayoutEffect(P,te)},Ae.useMemo=function(P,te){return D.H.useMemo(P,te)},Ae.useOptimistic=function(P,te){return D.H.useOptimistic(P,te)},Ae.useReducer=function(P,te,oe){return D.H.useReducer(P,te,oe)},Ae.useRef=function(P){return D.H.useRef(P)},Ae.useState=function(P){return D.H.useState(P)},Ae.useSyncExternalStore=function(P,te,oe){return D.H.useSyncExternalStore(P,te,oe)},Ae.useTransition=function(){return D.H.useTransition()},Ae.version="19.2.3",Ae}var Lv;function pp(){return Lv||(Lv=1,vm.exports=XA()),vm.exports}var U=pp(),Em={exports:{}},zl={},Tm={exports:{}},Sm={};var jv;function $A(){return jv||(jv=1,(function(r){function e(K,ae){var ye=K.length;K.push(ae);e:for(;0<ye;){var Ue=ye-1>>>1,Ke=K[Ue];if(0<o(Ke,ae))K[Ue]=ae,K[ye]=Ke,ye=Ue;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ae=K[0],ye=K.pop();if(ye!==ae){K[0]=ye;e:for(var Ue=0,Ke=K.length,P=Ke>>>1;Ue<P;){var te=2*(Ue+1)-1,oe=K[te],he=te+1,Te=K[he];if(0>o(oe,ye))he<Ke&&0>o(Te,oe)?(K[Ue]=Te,K[he]=ye,Ue=he):(K[Ue]=oe,K[te]=ye,Ue=te);else if(he<Ke&&0>o(Te,ye))K[Ue]=Te,K[he]=ye,Ue=he;else break e}}return ae}function o(K,ae){var ye=K.sortIndex-ae.sortIndex;return ye!==0?ye:K.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],p=[],T=1,S=null,C=3,k=!1,F=!1,X=!1,L=!1,Y=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function Z(K){for(var ae=n(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=K)s(p),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(p)}}function le(K){if(X=!1,Z(K),!F)if(n(g)!==null)F=!0,me||(me=!0,M());else{var ae=n(p);ae!==null&&it(le,ae.startTime-K)}}var me=!1,D=-1,w=5,I=-1;function O(){return L?!0:!(r.unstable_now()-I<w)}function R(){if(L=!1,me){var K=r.unstable_now();I=K;var ae=!0;try{e:{F=!1,X&&(X=!1,ie(D),D=-1),k=!0;var ye=C;try{t:{for(Z(K),S=n(g);S!==null&&!(S.expirationTime>K&&O());){var Ue=S.callback;if(typeof Ue=="function"){S.callback=null,C=S.priorityLevel;var Ke=Ue(S.expirationTime<=K);if(K=r.unstable_now(),typeof Ke=="function"){S.callback=Ke,Z(K),ae=!0;break t}S===n(g)&&s(g),Z(K)}else s(g);S=n(g)}if(S!==null)ae=!0;else{var P=n(p);P!==null&&it(le,P.startTime-K),ae=!1}}break e}finally{S=null,C=ye,k=!1}ae=void 0}}finally{ae?M():me=!1}}}var M;if(typeof re=="function")M=function(){re(R)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,He=N.port2;N.port1.onmessage=R,M=function(){He.postMessage(null)}}else M=function(){Y(R,0)};function it(K,ae){D=Y(function(){K(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(K){switch(C){case 1:case 2:case 3:var ae=3;break;default:ae=C}var ye=C;C=ae;try{return K()}finally{C=ye}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ye=C;C=K;try{return ae()}finally{C=ye}},r.unstable_scheduleCallback=function(K,ae,ye){var Ue=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ue+ye:Ue):ye=Ue,K){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ye+Ke,K={id:T++,callback:ae,priorityLevel:K,startTime:ye,expirationTime:Ke,sortIndex:-1},ye>Ue?(K.sortIndex=ye,e(p,K),n(g)===null&&K===n(p)&&(X?(ie(D),D=-1):X=!0,it(le,ye-Ue))):(K.sortIndex=Ke,e(g,K),F||k||(F=!0,me||(me=!0,M()))),K},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(K){var ae=C;return function(){var ye=C;C=ae;try{return K.apply(this,arguments)}finally{C=ye}}}})(Sm)),Sm}var Uv;function JA(){return Uv||(Uv=1,Tm.exports=$A()),Tm.exports}var Am={exports:{}},en={};var zv;function ZA(){if(zv)return en;zv=1;var r=pp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:p,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(g,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,T)},en.flushSync=function(g){var p=f.T,T=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=p,s.p=T,s.d.f()}},en.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},en.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},en.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var T=p.as,S=m(T,p.crossOrigin),C=typeof p.integrity=="string"?p.integrity:void 0,k=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:k}):T==="script"&&s.d.X(g,{crossOrigin:S,integrity:C,fetchPriority:k,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},en.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},en.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,S=m(T,p.crossOrigin);s.d.L(g,T,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},en.preloadModule=function(g,p){if(typeof g=="string")if(p){var T=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},en.requestFormReset=function(g){s.d.r(g)},en.unstable_batchedUpdates=function(g,p){return g(p)},en.useFormState=function(g,p,T){return f.H.useFormState(g,p,T)},en.useFormStatus=function(){return f.H.useHostTransitionStatus()},en.version="19.2.3",en}var Bv;function WA(){if(Bv)return Am.exports;Bv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Am.exports=ZA(),Am.exports}var qv;function eb(){if(qv)return zl;qv=1;var r=JA(),e=pp(),n=WA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,A=h.child;A;){if(A===a){_=!0,a=h,l=d;break}if(A===l){_=!0,l=h,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=h;break}if(A===l){_=!0,l=d,a=h;break}A=A.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),re=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function He(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case Y:return"Profiler";case L:return"StrictMode";case le:return"Suspense";case me:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case re:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case Z:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:He(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return He(t(i))}catch{}}return null}var it=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Ue=[],Ke=-1;function P(t){return{current:t}}function te(t){0>Ke||(t.current=Ue[Ke],Ue[Ke]=null,Ke--)}function oe(t,i){Ke++,Ue[Ke]=t.current,t.current=i}var he=P(null),Te=P(null),Ce=P(null),Le=P(null);function Pt(t,i){switch(oe(Ce,i),oe(Te,t),oe(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?iv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=iv(i),t=rv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(he),oe(he,t)}function ut(){te(he),te(Te),te(Ce)}function Ts(t){t.memoizedState!==null&&oe(Le,t);var i=he.current,a=rv(i,t.type);i!==a&&(oe(Te,t),oe(he,a))}function fa(t){Te.current===t&&(te(he),te(Te)),Le.current===t&&(te(Le),kl._currentValue=ye)}var da,ma;function hi(t){if(da===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);da=i&&i[1]||"",ma=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+da+t+ma}var ko=!1;function Ss(t,i){if(!t||ko)return"";ko=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var H=Q}Reflect.construct(t,[],W)}else{try{W.call()}catch(Q){H=Q}t.call(W.prototype)}}else{try{throw Error()}catch(Q){H=Q}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var x=_.split(`
`),q=A.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===q.length)for(l=x.length-1,h=q.length-1;1<=l&&0<=h&&x[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==q[h]){var $=`
`+x[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{ko=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?hi(a):""}function Po(t,i){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return t.child!==i&&i!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Ss(t.type,!1);case 11:return Ss(t.type.render,!1);case 1:return Ss(t.type,!0);case 31:return hi("Activity");default:return""}}function Lo(t){try{var i="",a=null;do i+=Po(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var St=Object.prototype.hasOwnProperty,Lt=r.unstable_scheduleCallback,Tr=r.unstable_cancelCallback,Ef=r.unstable_shouldYield,Iu=r.unstable_requestPaint,on=r.unstable_now,As=r.unstable_getCurrentPriorityLevel,jo=r.unstable_ImmediatePriority,Uo=r.unstable_UserBlockingPriority,Sr=r.unstable_NormalPriority,Tf=r.unstable_LowPriority,Nu=r.unstable_IdlePriority,Du=r.log,xu=r.unstable_setDisableYieldValue,Yn=null,Gt=null;function Dn(t){if(typeof Du=="function"&&xu(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Yn,t)}catch{}}var gt=Math.clz32?Math.clz32:Mu,Ou=Math.log,pa=Math.LN2;function Mu(t){return t>>>=0,t===0?32:31-(Ou(t)/pa|0)|0}var fi=256,bs=262144,At=4194304;function di(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?h=di(l):(_&=A,_!==0?h=di(_):a||(a=A&~t,a!==0&&(h=di(a))))):(A=l&~d,A!==0?h=di(A):_!==0?h=di(_):a||(a=l&~t,a!==0&&(h=di(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Xn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Sf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vu(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function pi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ws(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Af(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,x=t.expirationTimes,q=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-gt(a),W=1<<$;A[$]=0,x[$]=-1;var H=q[$];if(H!==null)for(q[$]=null,$=0;$<H.length;$++){var Q=H[$];Q!==null&&(Q.lane&=-536870913)}a&=~W}l!==0&&Rs(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Rs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function zo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-gt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Bo(t,i){var a=i&-i;return a=(a&42)!==0?1:Cs(a),(a&(t.suspendedLanes|i))!==0?0:a}function Cs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ku(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Cv(t.type))}function $n(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var Jn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Jn,zt="__reactProps$"+Jn,gi="__reactContainer$"+Jn,ga="__reactEvents$"+Jn,bf="__reactListeners$"+Jn,Pu="__reactHandles$"+Jn,Lu="__reactResources$"+Jn,yi="__reactMarker$"+Jn;function ya(t){delete t[bt],delete t[zt],delete t[ga],delete t[bf],delete t[Pu]}function _i(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[gi]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=hv(t);t!==null;){if(a=t[bt])return a;t=hv(t)}return i}t=a,a=t.parentNode}return null}function xn(t){if(t=t[bt]||t[gi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function En(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function vi(t){var i=t[Lu];return i||(i=t[Lu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[yi]=!0}var qo=new Set,Ho={};function Ei(t,i){Ti(t,i),Ti(t+"Capture",i)}function Ti(t,i){for(Ho[t]=i,t=0;t<i.length;t++)qo.add(i[t])}var Fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Go={},Qo={};function ju(t){return St.call(Qo,t)?!0:St.call(Go,t)?!1:Fo.test(t)?Qo[t]=!0:(Go[t]=!0,!1)}function _a(t,i,a){if(ju(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Tn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Rt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ar(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ko(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=Ar(t)?"checked":"value";t._valueTracker=Ko(t,i,""+t[i])}}function Is(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ar(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ns=/[\n"\\]/g;function cn(t){return t.replace(Ns,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function va(t,i,a,l,h,d,_,A){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Bt(i)):t.value!==""+Bt(i)&&(t.value=""+Bt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Yo(t,_,Bt(i)):a!=null?Yo(t,_,Bt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Bt(A):t.removeAttribute("name")}function Uu(t,i,a,l,h,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+Bt(a):"",i=i!=null?""+Bt(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function Yo(t,i,a){i==="number"&&Si(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function br(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Bt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function zu(t,i,a){if(i!=null&&(i=""+Bt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Bt(a):""}function wr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(it(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Bt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function hn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Bu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function $o(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Xo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Xo(t,d,i[d])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return Rr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Zn(){}var Jo=null;function On(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,Ai=null;function Ds(t){var i=xn(t);if(i&&(t=i.stateNode)){var a=t[zt]||null;e:switch(t=i.stateNode,i.type){case"input":if(va(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[zt]||null;if(!h)throw Error(s(90));va(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Is(l)}break e;case"textarea":zu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&br(t,!!a.multiple,i,!1)}}}var Sa=!1;function Ir(t,i,a){if(Sa)return t(i,a);Sa=!0;try{var l=t(i);return l}finally{if(Sa=!1,(Cr!==null||Ai!==null)&&(kc(),Cr&&(i=Cr,t=Ai,Ai=Cr=null,Ds(i),t)))for(i=0;i<t.length;i++)Ds(t[i])}}function Wn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[zt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xs=!1;if(Mn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){xs=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{xs=!1}var bi=null,Zo=null,Os=null;function Wo(){if(Os)return Os;var t,i=Zo,a=i.length,l,h="value"in bi?bi.value:bi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Os=h.slice(t,1<l?1-l:void 0)}function Ms(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Fi(){return!0}function ei(){return!1}function Qt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fi:ei,this.isPropagationStopped=ei,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),i}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Qt(Gi),Nr=S({},Gi,{view:0,detail:0}),el=Qt(Nr),Dr,Aa,Ri,ba=S({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Dr=t.screenX-Ri.screenX,Aa=t.screenY-Ri.screenY):Aa=Dr=0,Ri=t),Dr)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),tl=Qt(ba),Vs=S({},ba,{dataTransfer:0}),Hu=Qt(Vs),Fu=S({},Nr,{relatedTarget:0}),ks=Qt(Fu),nl=S({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),Gu=Qt(nl),wa=S({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qu=Qt(wa),Ku=S({},Gi,{data:0}),Ci=Qt(Ku),Yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ju(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=$u[t])?!!i[t]:!1}function xr(){return Ju}var ln=S({},Nr,{key:function(t){if(t.key){var i=Yu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(t){return t.type==="keypress"?Ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zu=Qt(ln),Wu=S({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Qt(Wu),c=S({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),y=Qt(c),v=S({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Qt(v),z=S({},ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Qt(z),se=S({},Gi,{newState:0,oldState:0}),we=Qt(se),yt=[9,13,27,32],Fe=Mn&&"CompositionEvent"in window,ct=null;Mn&&"documentMode"in document&&(ct=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!ct,Ii=Mn&&(!Fe||ct&&8<ct&&11>=ct),ti=" ",ni=!1;function Ps(t,i){switch(t){case"keyup":return yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function yS(t,i){switch(t){case"compositionend":return Ra(i);case"keypress":return i.which!==32?null:(ni=!0,ti);case"textInput":return t=i.data,t===ti&&ni?null:t;default:return null}}function _S(t,i){if(Ca)return t==="compositionend"||!Fe&&Ps(t,i)?(t=Wo(),Os=Zo=bi=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ii&&i.locale!=="ko"?null:i.data;default:return null}}var vS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!vS[t.type]:i==="textarea"}function pg(t,i,a,l){Cr?Ai?Ai.push(l):Ai=[l]:Cr=l,i=qc(i,"onChange"),0<i.length&&(a=new wi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var il=null,rl=null;function ES(t){J_(t,0)}function ec(t){var i=En(t);if(Is(i))return t}function gg(t,i){if(t==="change")return i}var yg=!1;if(Mn){var wf;if(Mn){var Rf="oninput"in document;if(!Rf){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),Rf=typeof _g.oninput=="function"}wf=Rf}else wf=!1;yg=wf&&(!document.documentMode||9<document.documentMode)}function vg(){il&&(il.detachEvent("onpropertychange",Eg),rl=il=null)}function Eg(t){if(t.propertyName==="value"&&ec(rl)){var i=[];pg(i,rl,t,On(t)),Ir(ES,i)}}function TS(t,i,a){t==="focusin"?(vg(),il=i,rl=a,il.attachEvent("onpropertychange",Eg)):t==="focusout"&&vg()}function SS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ec(rl)}function AS(t,i){if(t==="click")return ec(i)}function bS(t,i){if(t==="input"||t==="change")return ec(i)}function wS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Sn=typeof Object.is=="function"?Object.is:wS;function sl(t,i){if(Sn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!St.call(i,h)||!Sn(t[h],i[h]))return!1}return!0}function Tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sg(t,i){var a=Tg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tg(a)}}function Ag(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ag(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Si(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Si(t.document)}return i}function Cf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var RS=Mn&&"documentMode"in document&&11>=document.documentMode,Ia=null,If=null,al=null,Nf=!1;function wg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nf||Ia==null||Ia!==Si(l)||(l=Ia,"selectionStart"in l&&Cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&sl(al,l)||(al=l,l=qc(If,"onSelect"),0<l.length&&(i=new wi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ia)))}function Ls(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Na={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},Df={},Rg={};Mn&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function js(t){if(Df[t])return Df[t];if(!Na[t])return t;var i=Na[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Rg)return Df[t]=i[a];return t}var Cg=js("animationend"),Ig=js("animationiteration"),Ng=js("animationstart"),CS=js("transitionrun"),IS=js("transitionstart"),NS=js("transitioncancel"),Dg=js("transitionend"),xg=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function ii(t,i){xg.set(t,i),Ei(i,[t])}var tc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},kn=[],Da=0,Of=0;function nc(){for(var t=Da,i=Of=Da=0;i<t;){var a=kn[i];kn[i++]=null;var l=kn[i];kn[i++]=null;var h=kn[i];kn[i++]=null;var d=kn[i];if(kn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Og(a,h,d)}}function ic(t,i,a,l){kn[Da++]=t,kn[Da++]=i,kn[Da++]=a,kn[Da++]=l,Of|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Mf(t,i,a,l){return ic(t,i,a,l),rc(t)}function Us(t,i){return ic(t,null,null,i),rc(t)}function Og(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function rc(t){if(50<Il)throw Il=0,qd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var xa={};function DS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,i,a,l){return new DS(t,i,a,l)}function Vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,i){var a=t.alternate;return a===null?(a=An(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Mg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function sc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Vf(t)&&(_=1);else if(typeof t=="string")_=kA(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=An(31,a,i,h),t.elementType=I,t.lanes=d,t;case X:return zs(a.children,h,d,i);case L:_=8,h|=24;break;case Y:return t=An(12,a,i,h|2),t.elementType=Y,t.lanes=d,t;case le:return t=An(13,a,i,h),t.elementType=le,t.lanes=d,t;case me:return t=An(19,a,i,h),t.elementType=me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case ie:_=9;break e;case Z:_=11;break e;case D:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=An(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function zs(t,i,a,l){return t=An(7,t,l,i),t.lanes=a,t}function kf(t,i,a){return t=An(6,t,null,i),t.lanes=a,t}function Vg(t){var i=An(18,null,null,0);return i.stateNode=t,i}function Pf(t,i,a){return i=An(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var kg=new WeakMap;function Pn(t,i){if(typeof t=="object"&&t!==null){var a=kg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Lo(i)},kg.set(t,i),i)}return{value:t,source:i,stack:Lo(i)}}var Oa=[],Ma=0,ac=null,ol=0,Ln=[],jn=0,Or=null,Ni=1,Di="";function Yi(t,i){Oa[Ma++]=ol,Oa[Ma++]=ac,ac=t,ol=i}function Pg(t,i,a){Ln[jn++]=Ni,Ln[jn++]=Di,Ln[jn++]=Or,Or=t;var l=Ni;t=Di;var h=32-gt(l)-1;l&=~(1<<h),a+=1;var d=32-gt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ni=1<<32-gt(i)+h|a<<h|l,Di=d+t}else Ni=1<<d|a<<h|l,Di=t}function Lf(t){t.return!==null&&(Yi(t,1),Pg(t,1,0))}function jf(t){for(;t===ac;)ac=Oa[--Ma],Oa[Ma]=null,ol=Oa[--Ma],Oa[Ma]=null;for(;t===Or;)Or=Ln[--jn],Ln[jn]=null,Di=Ln[--jn],Ln[jn]=null,Ni=Ln[--jn],Ln[jn]=null}function Lg(t,i){Ln[jn++]=Ni,Ln[jn++]=Di,Ln[jn++]=Or,Ni=i.id,Di=i.overflow,Or=t}var Kt=null,at=null,Pe=!1,Mr=null,Un=!1,Uf=Error(s(519));function Vr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ll(Pn(i,t)),Uf}function jg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[bt]=t,i[zt]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<Dl.length;a++)De(Dl[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),Uu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),wr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||tv(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Zn),i=!0):i=!1,i||Vr(t,!0)}function Ug(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Kt=Kt.return}}function Va(t){if(t!==Kt)return!1;if(!Pe)return Ug(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||im(t.type,t.memoizedProps)),a=!a),a&&at&&Vr(t),Ug(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=cv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=cv(t)}else i===27?(i=at,Yr(t.type)?(t=lm,lm=null,at=t):at=i):at=Kt?Bn(t.stateNode.nextSibling):null;return!0}function Bs(){at=Kt=null,Pe=!1}function zf(){var t=Mr;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Mr=null),t}function ll(t){Mr===null?Mr=[t]:Mr.push(t)}var Bf=P(null),qs=null,Xi=null;function kr(t,i,a){oe(Bf,i._currentValue),i._currentValue=a}function $i(t){t._currentValue=Bf.current,te(Bf)}function qf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Hf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var x=0;x<i.length;x++)if(A.context===i[x]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),qf(d.return,a,t),l||(_=null);break e}d=A.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),qf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ka(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var A=h.type;Sn(h.pendingProps.value,_.value)||(t!==null?t.push(A):t=[A])}}else if(h===Le.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}h=h.return}t!==null&&Hf(i,t,a,l),i.flags|=262144}function oc(t){for(t=t.firstContext;t!==null;){if(!Sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hs(t){qs=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return zg(qs,t)}function lc(t,i){return qs===null&&Hs(t),zg(t,i)}function zg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Xi===null){if(t===null)throw Error(s(308));Xi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Xi=Xi.next=i;return a}var xS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},OS=r.unstable_scheduleCallback,MS=r.unstable_NormalPriority,Ct={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new xS,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&OS(MS,function(){t.controller.abort()})}var cl=null,Gf=0,Pa=0,La=null;function VS(t,i){if(cl===null){var a=cl=[];Gf=0,Pa=Yd(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gf++,i.then(Bg,Bg),i}function Bg(){if(--Gf===0&&cl!==null){La!==null&&(La.status="fulfilled");var t=cl;cl=null,Pa=0,La=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function kS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var qg=K.S;K.S=function(t,i){w_=on(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&VS(t,i),qg!==null&&qg(t,i)};var Fs=P(null);function Qf(){var t=Fs.current;return t!==null?t:tt.pooledCache}function uc(t,i){i===null?oe(Fs,Fs.current):oe(Fs,i.pool)}function Hg(){var t=Qf();return t===null?null:{parent:Ct._currentValue,pool:t}}var ja=Error(s(460)),Kf=Error(s(474)),cc=Error(s(542)),hc={then:function(){}};function Fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Zn,Zn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t;default:if(typeof i.status=="string")i.then(Zn,Zn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t}throw Qs=i,ja}}function Gs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Qs=a,ja):a}}var Qs=null;function Qg(){if(Qs===null)throw Error(s(459));var t=Qs;return Qs=null,t}function Kg(t){if(t===ja||t===cc)throw Error(s(483))}var Ua=null,hl=0;function fc(t){var i=hl;return hl+=1,Ua===null&&(Ua=[]),Gg(Ua,t,i)}function fl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function dc(t,i){throw i.$$typeof===C?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Yg(t){function i(j,V){if(t){var B=j.deletions;B===null?(j.deletions=[V],j.flags|=16):B.push(V)}}function a(j,V){if(!t)return null;for(;V!==null;)i(j,V),V=V.sibling;return null}function l(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function h(j,V){return j=Ki(j,V),j.index=0,j.sibling=null,j}function d(j,V,B){return j.index=B,t?(B=j.alternate,B!==null?(B=B.index,B<V?(j.flags|=67108866,V):B):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function A(j,V,B,J){return V===null||V.tag!==6?(V=kf(B,j.mode,J),V.return=j,V):(V=h(V,B),V.return=j,V)}function x(j,V,B,J){var pe=B.type;return pe===X?$(j,V,B.props.children,J,B.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Gs(pe)===V.type)?(V=h(V,B.props),fl(V,B),V.return=j,V):(V=sc(B.type,B.key,B.props,null,j.mode,J),fl(V,B),V.return=j,V)}function q(j,V,B,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=Pf(B,j.mode,J),V.return=j,V):(V=h(V,B.children||[]),V.return=j,V)}function $(j,V,B,J,pe){return V===null||V.tag!==7?(V=zs(B,j.mode,J,pe),V.return=j,V):(V=h(V,B),V.return=j,V)}function W(j,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=kf(""+V,j.mode,B),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case k:return B=sc(V.type,V.key,V.props,null,j.mode,B),fl(B,V),B.return=j,B;case F:return V=Pf(V,j.mode,B),V.return=j,V;case w:return V=Gs(V),W(j,V,B)}if(it(V)||M(V))return V=zs(V,j.mode,B,null),V.return=j,V;if(typeof V.then=="function")return W(j,fc(V),B);if(V.$$typeof===re)return W(j,lc(j,V),B);dc(j,V)}return null}function H(j,V,B,J){var pe=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pe!==null?null:A(j,V,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case k:return B.key===pe?x(j,V,B,J):null;case F:return B.key===pe?q(j,V,B,J):null;case w:return B=Gs(B),H(j,V,B,J)}if(it(B)||M(B))return pe!==null?null:$(j,V,B,J,null);if(typeof B.then=="function")return H(j,V,fc(B),J);if(B.$$typeof===re)return H(j,V,lc(j,B),J);dc(j,B)}return null}function Q(j,V,B,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(B)||null,A(V,j,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case k:return j=j.get(J.key===null?B:J.key)||null,x(V,j,J,pe);case F:return j=j.get(J.key===null?B:J.key)||null,q(V,j,J,pe);case w:return J=Gs(J),Q(j,V,B,J,pe)}if(it(J)||M(J))return j=j.get(B)||null,$(V,j,J,pe,null);if(typeof J.then=="function")return Q(j,V,B,fc(J),pe);if(J.$$typeof===re)return Q(j,V,B,lc(V,J),pe);dc(V,J)}return null}function fe(j,V,B,J){for(var pe=null,Be=null,de=V,Ie=V=0,Oe=null;de!==null&&Ie<B.length;Ie++){de.index>Ie?(Oe=de,de=null):Oe=de.sibling;var qe=H(j,de,B[Ie],J);if(qe===null){de===null&&(de=Oe);break}t&&de&&qe.alternate===null&&i(j,de),V=d(qe,V,Ie),Be===null?pe=qe:Be.sibling=qe,Be=qe,de=Oe}if(Ie===B.length)return a(j,de),Pe&&Yi(j,Ie),pe;if(de===null){for(;Ie<B.length;Ie++)de=W(j,B[Ie],J),de!==null&&(V=d(de,V,Ie),Be===null?pe=de:Be.sibling=de,Be=de);return Pe&&Yi(j,Ie),pe}for(de=l(de);Ie<B.length;Ie++)Oe=Q(de,j,Ie,B[Ie],J),Oe!==null&&(t&&Oe.alternate!==null&&de.delete(Oe.key===null?Ie:Oe.key),V=d(Oe,V,Ie),Be===null?pe=Oe:Be.sibling=Oe,Be=Oe);return t&&de.forEach(function(Wr){return i(j,Wr)}),Pe&&Yi(j,Ie),pe}function _e(j,V,B,J){if(B==null)throw Error(s(151));for(var pe=null,Be=null,de=V,Ie=V=0,Oe=null,qe=B.next();de!==null&&!qe.done;Ie++,qe=B.next()){de.index>Ie?(Oe=de,de=null):Oe=de.sibling;var Wr=H(j,de,qe.value,J);if(Wr===null){de===null&&(de=Oe);break}t&&de&&Wr.alternate===null&&i(j,de),V=d(Wr,V,Ie),Be===null?pe=Wr:Be.sibling=Wr,Be=Wr,de=Oe}if(qe.done)return a(j,de),Pe&&Yi(j,Ie),pe;if(de===null){for(;!qe.done;Ie++,qe=B.next())qe=W(j,qe.value,J),qe!==null&&(V=d(qe,V,Ie),Be===null?pe=qe:Be.sibling=qe,Be=qe);return Pe&&Yi(j,Ie),pe}for(de=l(de);!qe.done;Ie++,qe=B.next())qe=Q(de,j,Ie,qe.value,J),qe!==null&&(t&&qe.alternate!==null&&de.delete(qe.key===null?Ie:qe.key),V=d(qe,V,Ie),Be===null?pe=qe:Be.sibling=qe,Be=qe);return t&&de.forEach(function(QA){return i(j,QA)}),Pe&&Yi(j,Ie),pe}function et(j,V,B,J){if(typeof B=="object"&&B!==null&&B.type===X&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case k:e:{for(var pe=B.key;V!==null;){if(V.key===pe){if(pe=B.type,pe===X){if(V.tag===7){a(j,V.sibling),J=h(V,B.props.children),J.return=j,j=J;break e}}else if(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Gs(pe)===V.type){a(j,V.sibling),J=h(V,B.props),fl(J,B),J.return=j,j=J;break e}a(j,V);break}else i(j,V);V=V.sibling}B.type===X?(J=zs(B.props.children,j.mode,J,B.key),J.return=j,j=J):(J=sc(B.type,B.key,B.props,null,j.mode,J),fl(J,B),J.return=j,j=J)}return _(j);case F:e:{for(pe=B.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(j,V.sibling),J=h(V,B.children||[]),J.return=j,j=J;break e}else{a(j,V);break}else i(j,V);V=V.sibling}J=Pf(B,j.mode,J),J.return=j,j=J}return _(j);case w:return B=Gs(B),et(j,V,B,J)}if(it(B))return fe(j,V,B,J);if(M(B)){if(pe=M(B),typeof pe!="function")throw Error(s(150));return B=pe.call(B),_e(j,V,B,J)}if(typeof B.then=="function")return et(j,V,fc(B),J);if(B.$$typeof===re)return et(j,V,lc(j,B),J);dc(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(a(j,V.sibling),J=h(V,B),J.return=j,j=J):(a(j,V),J=kf(B,j.mode,J),J.return=j,j=J),_(j)):a(j,V)}return function(j,V,B,J){try{hl=0;var pe=et(j,V,B,J);return Ua=null,pe}catch(de){if(de===ja||de===cc)throw de;var Be=An(29,de,null,j.mode);return Be.lanes=J,Be.return=j,Be}}}var Ks=Yg(!0),Xg=Yg(!1),Pr=!1;function Yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function jr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=rc(t),Og(t,null,a),i}return ic(t,l,i,a),rc(t)}function dl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,zo(t,a)}}function $f(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Jf=!1;function ml(){if(Jf){var t=La;if(t!==null)throw t}}function pl(t,i,a,l){Jf=!1;var h=t.updateQueue;Pr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var x=A,q=x.next;x.next=null,_===null?d=q:_.next=q,_=x;var $=t.alternate;$!==null&&($=$.updateQueue,A=$.lastBaseUpdate,A!==_&&(A===null?$.firstBaseUpdate=q:A.next=q,$.lastBaseUpdate=x))}if(d!==null){var W=h.baseState;_=0,$=q=x=null,A=d;do{var H=A.lane&-536870913,Q=H!==A.lane;if(Q?(xe&H)===H:(l&H)===H){H!==0&&H===Pa&&(Jf=!0),$!==null&&($=$.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var fe=t,_e=A;H=i;var et=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){W=fe.call(et,W,H);break e}W=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,H=typeof fe=="function"?fe.call(et,W,H):fe,H==null)break e;W=S({},W,H);break e;case 2:Pr=!0}}H=A.callback,H!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:A.tag,payload:A.payload,callback:A.callback,next:null},$===null?(q=$=Q,x=W):$=$.next=Q,_|=H;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);$===null&&(x=W),h.baseState=x,h.firstBaseUpdate=q,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Hr|=_,t.lanes=_,t.memoizedState=W}}function $g(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Jg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)$g(a[t],i)}var za=P(null),mc=P(0);function Zg(t,i){t=sr,oe(mc,t),oe(za,i),sr=t|i.baseLanes}function Zf(){oe(mc,sr),oe(za,za.current)}function Wf(){sr=mc.current,te(za),te(mc)}var bn=P(null),zn=null;function Ur(t){var i=t.alternate;oe(_t,_t.current&1),oe(bn,t),zn===null&&(i===null||za.current!==null||i.memoizedState!==null)&&(zn=t)}function ed(t){oe(_t,_t.current),oe(bn,t),zn===null&&(zn=t)}function Wg(t){t.tag===22?(oe(_t,_t.current),oe(bn,t),zn===null&&(zn=t)):zr()}function zr(){oe(_t,_t.current),oe(bn,bn.current)}function wn(t){te(bn),zn===t&&(zn=null),te(_t)}var _t=P(0);function pc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||am(a)||om(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ji=0,Re=null,Ze=null,It=null,gc=!1,Ba=!1,Ys=!1,yc=0,gl=0,qa=null,PS=0;function mt(){throw Error(s(321))}function td(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Sn(t[a],i[a]))return!1;return!0}function nd(t,i,a,l,h,d){return Ji=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?Py:yd,Ys=!1,d=a(l,h),Ys=!1,Ba&&(d=ty(i,a,l,h)),ey(t),d}function ey(t){K.H=vl;var i=Ze!==null&&Ze.next!==null;if(Ji=0,It=Ze=Re=null,gc=!1,gl=0,qa=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&oc(t)&&(Nt=!0))}function ty(t,i,a,l){Re=t;var h=0;do{if(Ba&&(qa=null),gl=0,Ba=!1,25<=h)throw Error(s(301));if(h+=1,It=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Ly,d=i(a,l)}while(Ba);return d}function LS(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?yl(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Re.flags|=1024),i}function id(){var t=yc!==0;return yc=0,t}function rd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function sd(t){if(gc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}gc=!1}Ji=0,It=Ze=Re=null,Ba=!1,gl=yc=0,qa=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Re.memoizedState=It=t:It=It.next=t,It}function vt(){if(Ze===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=It===null?Re.memoizedState:It.next;if(i!==null)It=i,Ze=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},It===null?Re.memoizedState=It=t:It=It.next=t}return It}function _c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var i=gl;return gl+=1,qa===null&&(qa=[]),t=Gg(qa,t,i),i=Re,(It===null?i.memoizedState:It.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Py:yd),t}function vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===re)return Yt(t)}throw Error(s(438,String(t)))}function ad(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=_c(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function Zi(t,i){return typeof i=="function"?i(t):i}function Ec(t){var i=vt();return od(i,Ze,t)}function od(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var A=_=null,x=null,q=i,$=!1;do{var W=q.lane&-536870913;if(W!==q.lane?(xe&W)===W:(Ji&W)===W){var H=q.revertLane;if(H===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),W===Pa&&($=!0);else if((Ji&H)===H){q=q.next,H===Pa&&($=!0);continue}else W={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(A=x=W,_=d):x=x.next=W,Re.lanes|=H,Hr|=H;W=q.action,Ys&&a(d,W),d=q.hasEagerState?q.eagerState:a(d,W)}else H={lane:W,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(A=x=H,_=d):x=x.next=H,Re.lanes|=W,Hr|=W;q=q.next}while(q!==null&&q!==i);if(x===null?_=d:x.next=A,!Sn(d,t.memoizedState)&&(Nt=!0,$&&(a=La,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ld(t){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Sn(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ny(t,i,a){var l=Re,h=vt(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Sn((Ze||h).memoizedState,a);if(_&&(h.memoizedState=a,Nt=!0),h=h.queue,hd(sy.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},ry.bind(null,l,h,a,i),null),tt===null)throw Error(s(349));d||(Ji&127)!==0||iy(l,i,a)}return a}function iy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=_c(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ry(t,i,a,l){i.value=a,i.getSnapshot=l,ay(i)&&oy(t)}function sy(t,i,a){return a(function(){ay(i)&&oy(t)})}function ay(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Sn(t,a)}catch{return!0}}function oy(t){var i=Us(t,2);i!==null&&gn(i,t,2)}function ud(t){var i=un();if(typeof t=="function"){var a=t;if(t=a(),Ys){Dn(!0);try{a()}finally{Dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},i}function ly(t,i,a,l){return t.baseState=a,od(t,Ze,typeof l=="function"?l:Zi)}function jS(t,i,a,l,h){if(Ac(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,uy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function uy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var A=a(h,l),x=K.S;x!==null&&x(_,A),cy(t,i,A)}catch(q){cd(t,i,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(h,l),cy(t,i,d)}catch(q){cd(t,i,q)}}function cy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hy(t,i,l)},function(l){return cd(t,i,l)}):hy(t,i,a)}function hy(t,i,a){i.status="fulfilled",i.value=a,fy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,uy(t,a)))}function cd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,fy(i),i=i.next;while(i!==l)}t.action=null}function fy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function dy(t,i){return i}function my(t,i){if(Pe){var a=tt.formState;if(a!==null){e:{var l=Re;if(Pe){if(at){t:{for(var h=at,d=Un;h.nodeType!==8;){if(!d){h=null;break t}if(h=Bn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){at=Bn(h.nextSibling),l=h.data==="F!";break e}}Vr(l)}l=!1}l&&(i=a[0])}}return a=un(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:i},a.queue=l,a=My.bind(null,Re,l),l.dispatch=a,l=ud(!1),d=gd.bind(null,Re,!1,l.queue),l=un(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=jS.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function py(t){var i=vt();return gy(i,Ze,t)}function gy(t,i,a){if(i=od(t,i,dy)[0],t=Ec(Zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=yl(i)}catch(_){throw _===ja?cc:_}else l=i;i=vt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Ha(9,{destroy:void 0},US.bind(null,h,a),null)),[l,d,t]}function US(t,i){t.action=i}function yy(t){var i=vt(),a=Ze;if(a!==null)return gy(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ha(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=_c(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function _y(){return vt().memoizedState}function Tc(t,i,a,l){var h=un();Re.flags|=t,h.memoizedState=Ha(1|i,{destroy:void 0},a,l===void 0?null:l)}function Sc(t,i,a,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&td(l,Ze.memoizedState.deps)?h.memoizedState=Ha(i,d,a,l):(Re.flags|=t,h.memoizedState=Ha(1|i,d,a,l))}function vy(t,i){Tc(8390656,8,t,i)}function hd(t,i){Sc(2048,8,t,i)}function zS(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=_c(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ey(t){var i=vt().memoizedState;return zS({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ty(t,i){return Sc(4,2,t,i)}function Sy(t,i){return Sc(4,4,t,i)}function Ay(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function by(t,i,a){a=a!=null?a.concat([t]):null,Sc(4,4,Ay.bind(null,i,t),a)}function fd(){}function wy(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&td(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Ry(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&td(i,l[1]))return l[0];if(l=t(),Ys){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,i],l}function dd(t,i,a){return a===void 0||(Ji&1073741824)!==0&&(xe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=C_(),Re.lanes|=t,Hr|=t,a)}function Cy(t,i,a,l){return Sn(a,i)?a:za.current!==null?(t=dd(t,a,l),Sn(t,i)||(Nt=!0),t):(Ji&42)===0||(Ji&1073741824)!==0&&(xe&261930)===0?(Nt=!0,t.memoizedState=a):(t=C_(),Re.lanes|=t,Hr|=t,i)}function Iy(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=K.T,A={};K.T=A,gd(t,!1,i,a);try{var x=h(),q=K.S;if(q!==null&&q(A,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var $=kS(x,l);_l(t,i,$,In(t))}else _l(t,i,l,In(t))}catch(W){_l(t,i,{then:function(){},status:"rejected",reason:W},In())}finally{ae.p=d,_!==null&&A.types!==null&&(_.types=A.types),K.T=_}}function BS(){}function md(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ny(t).queue;Iy(t,h,i,ye,a===null?BS:function(){return Dy(t),a(l)})}function Ny(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ye},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Dy(t){var i=Ny(t);i.next===null&&(i=t.alternate.memoizedState),_l(t,i.next.queue,{},In())}function pd(){return Yt(kl)}function xy(){return vt().memoizedState}function Oy(){return vt().memoizedState}function qS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=In();t=Lr(a);var l=jr(i,t,a);l!==null&&(gn(l,i,a),dl(l,i,a)),i={cache:Ff()},t.payload=i;return}i=i.return}}function HS(t,i,a){var l=In();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ac(t)?Vy(i,a):(a=Mf(t,i,a,l),a!==null&&(gn(a,t,l),ky(a,i,l)))}function My(t,i,a){var l=In();_l(t,i,a,l)}function _l(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ac(t))Vy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,A=d(_,a);if(h.hasEagerState=!0,h.eagerState=A,Sn(A,_))return ic(t,i,h,0),tt===null&&nc(),!1}catch{}if(a=Mf(t,i,h,l),a!==null)return gn(a,t,l),ky(a,i,l),!0}return!1}function gd(t,i,a,l){if(l={lane:2,revertLane:Yd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ac(t)){if(i)throw Error(s(479))}else i=Mf(t,a,l,2),i!==null&&gn(i,t,2)}function Ac(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function Vy(t,i){Ba=gc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ky(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,zo(t,a)}}var vl={readContext:Yt,use:vc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};vl.useEffectEvent=mt;var Py={readContext:Yt,use:vc,useCallback:function(t,i){return un().memoizedState=[t,i===void 0?null:i],t},useContext:Yt,useEffect:vy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Tc(4194308,4,Ay.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Tc(4194308,4,t,i)},useInsertionEffect:function(t,i){Tc(4,2,t,i)},useMemo:function(t,i){var a=un();i=i===void 0?null:i;var l=t();if(Ys){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=un();if(a!==void 0){var h=a(i);if(Ys){Dn(!0);try{a(i)}finally{Dn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=HS.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=un();return t={current:t},i.memoizedState=t},useState:function(t){t=ud(t);var i=t.queue,a=My.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:fd,useDeferredValue:function(t,i){var a=un();return dd(a,t,i)},useTransition:function(){var t=ud(!1);return t=Iy.bind(null,Re,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=un();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(xe&127)!==0||iy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,vy(sy.bind(null,l,d,t),[t]),l.flags|=2048,Ha(9,{destroy:void 0},ry.bind(null,l,d,a,i),null),a},useId:function(){var t=un(),i=tt.identifierPrefix;if(Pe){var a=Di,l=Ni;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=yc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=PS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:pd,useFormState:my,useActionState:my,useOptimistic:function(t){var i=un();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=gd.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:ad,useCacheRefresh:function(){return un().memoizedState=qS.bind(null,Re)},useEffectEvent:function(t){var i=un(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},yd={readContext:Yt,use:vc,useCallback:wy,useContext:Yt,useEffect:hd,useImperativeHandle:by,useInsertionEffect:Ty,useLayoutEffect:Sy,useMemo:Ry,useReducer:Ec,useRef:_y,useState:function(){return Ec(Zi)},useDebugValue:fd,useDeferredValue:function(t,i){var a=vt();return Cy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Ec(Zi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:ny,useId:xy,useHostTransitionStatus:pd,useFormState:py,useActionState:py,useOptimistic:function(t,i){var a=vt();return ly(a,Ze,t,i)},useMemoCache:ad,useCacheRefresh:Oy};yd.useEffectEvent=Ey;var Ly={readContext:Yt,use:vc,useCallback:wy,useContext:Yt,useEffect:hd,useImperativeHandle:by,useInsertionEffect:Ty,useLayoutEffect:Sy,useMemo:Ry,useReducer:ld,useRef:_y,useState:function(){return ld(Zi)},useDebugValue:fd,useDeferredValue:function(t,i){var a=vt();return Ze===null?dd(a,t,i):Cy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=ld(Zi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:ny,useId:xy,useHostTransitionStatus:pd,useFormState:yy,useActionState:yy,useOptimistic:function(t,i){var a=vt();return Ze!==null?ly(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ad,useCacheRefresh:Oy};Ly.useEffectEvent=Ey;function _d(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var vd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=In(),h=Lr(l);h.payload=i,a!=null&&(h.callback=a),i=jr(t,h,l),i!==null&&(gn(i,t,l),dl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=In(),h=Lr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=jr(t,h,l),i!==null&&(gn(i,t,l),dl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=In(),l=Lr(a);l.tag=2,i!=null&&(l.callback=i),i=jr(t,l,a),i!==null&&(gn(i,t,a),dl(i,t,a))}};function jy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!sl(a,l)||!sl(h,d):!0}function Uy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&vd.enqueueReplaceState(i,i.state,null)}function Xs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function zy(t){tc(t)}function By(t){console.error(t)}function qy(t){tc(t)}function bc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Hy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ed(t,i,a){return a=Lr(a),a.tag=3,a.payload={element:null},a.callback=function(){bc(t,i)},a}function Fy(t){return t=Lr(t),t.tag=3,t}function Gy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Hy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Hy(i,a,l),typeof h!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function FS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ka(i,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?Pc():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===hc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Gd(t,l,h)),!1;case 22:return a.flags|=65536,l===hc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Gd(t,l,h)),!1}throw Error(s(435,a.tag))}return Gd(t,l,h),Pc(),!1}if(Pe)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Uf&&(t=Error(s(422),{cause:l}),ll(Pn(t,a)))):(l!==Uf&&(i=Error(s(423),{cause:l}),ll(Pn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Pn(l,a),h=Ed(t.stateNode,l,h),$f(t,h),pt!==4&&(pt=2)),!1;var d=Error(s(520),{cause:l});if(d=Pn(d,a),Cl===null?Cl=[d]:Cl.push(d),pt!==4&&(pt=2),i===null)return!0;l=Pn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ed(a.stateNode,l,t),$f(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fr===null||!Fr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Fy(h),Gy(h,t,a,l),$f(a,h),!1}a=a.return}while(a!==null);return!1}var Td=Error(s(461)),Nt=!1;function Xt(t,i,a,l){i.child=t===null?Xg(i,null,a,l):Ks(i,t.child,a,l)}function Qy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return Hs(i),l=nd(t,i,a,_,d,h),A=id(),t!==null&&!Nt?(rd(t,i,h),Wi(t,i,h)):(Pe&&A&&Lf(i),i.flags|=1,Xt(t,i,l,h),i.child)}function Ky(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Vf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Yy(t,i,d,l,h)):(t=sc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Nd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(_,l)&&t.ref===i.ref)return Wi(t,i,h)}return i.flags|=1,t=Ki(d,l),t.ref=i.ref,t.return=i,i.child=t}function Yy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(sl(d,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=d,Nd(t,h))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,Wi(t,i,h)}return Sd(t,i,a,l,h)}function Xy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return $y(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&uc(i,d!==null?d.cachePool:null),d!==null?Zg(i,d):Zf(),Wg(i);else return l=i.lanes=536870912,$y(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(uc(i,d.cachePool),Zg(i,d),zr(),i.memoizedState=null):(t!==null&&uc(i,null),Zf(),zr());return Xt(t,i,h,a),i.child}function El(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function $y(t,i,a,l,h){var d=Qf();return d=d===null?null:{parent:Ct._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&uc(i,null),Zf(),Wg(i),t!==null&&ka(t,i,l,!0),i.childLanes=h,null}function wc(t,i){return i=Cc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Jy(t,i,a){return Ks(i,t.child,null,a),t=wc(i,i.pendingProps),t.flags|=2,wn(i),i.memoizedState=null,t}function GS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=wc(i,l),i.lanes=536870912,El(null,t);if(ed(i),(t=at)?(t=uv(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Or!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,Kt=i,at=null)):t=null,t===null)throw Vr(i);return i.lanes=536870912,null}return wc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(ed(i),h)if(i.flags&256)i.flags&=-257,i=Jy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Nt||ka(t,i,a,!1),h=(a&t.childLanes)!==0,Nt||h){if(l=tt,l!==null&&(_=Bo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Us(t,_),gn(l,t,_),Td;Pc(),i=Jy(t,i,a)}else t=d.treeContext,at=Bn(_.nextSibling),Kt=i,Pe=!0,Mr=null,Un=!1,t!==null&&Lg(i,t),i=wc(i,l),i.flags|=4096;return i}return t=Ki(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Rc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Sd(t,i,a,l,h){return Hs(i),a=nd(t,i,a,l,void 0,h),l=id(),t!==null&&!Nt?(rd(t,i,h),Wi(t,i,h)):(Pe&&l&&Lf(i),i.flags|=1,Xt(t,i,a,h),i.child)}function Zy(t,i,a,l,h,d){return Hs(i),i.updateQueue=null,a=ty(i,l,a,h),ey(t),l=id(),t!==null&&!Nt?(rd(t,i,d),Wi(t,i,d)):(Pe&&l&&Lf(i),i.flags|=1,Xt(t,i,a,d),i.child)}function Wy(t,i,a,l,h){if(Hs(i),i.stateNode===null){var d=xa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Yt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=vd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Yf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Yt(_):xa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(_d(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&vd.enqueueReplaceState(d,d.state,null),pl(i,l,d,h),ml(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,x=Xs(a,A);d.props=x;var q=d.context,$=a.contextType;_=xa,typeof $=="object"&&$!==null&&(_=Yt($));var W=a.getDerivedStateFromProps;$=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||q!==_)&&Uy(i,d,l,_),Pr=!1;var H=i.memoizedState;d.state=H,pl(i,l,d,h),ml(),q=i.memoizedState,A||H!==q||Pr?(typeof W=="function"&&(_d(i,a,W,l),q=i.memoizedState),(x=Pr||jy(i,a,x,l,H,q,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Xf(t,i),_=i.memoizedProps,$=Xs(a,_),d.props=$,W=i.pendingProps,H=d.context,q=a.contextType,x=xa,typeof q=="object"&&q!==null&&(x=Yt(q)),A=a.getDerivedStateFromProps,(q=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||H!==x)&&Uy(i,d,l,x),Pr=!1,H=i.memoizedState,d.state=H,pl(i,l,d,h),ml();var Q=i.memoizedState;_!==W||H!==Q||Pr||t!==null&&t.dependencies!==null&&oc(t.dependencies)?(typeof A=="function"&&(_d(i,a,A,l),Q=i.memoizedState),($=Pr||jy(i,a,$,l,H,Q,x)||t!==null&&t.dependencies!==null&&oc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=x,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Rc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ks(i,t.child,null,h),i.child=Ks(i,null,a,h)):Xt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Wi(t,i,h),t}function e_(t,i,a,l){return Bs(),i.flags|=256,Xt(t,i,a,l),i.child}var Ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bd(t){return{baseLanes:t,cachePool:Hg()}}function wd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Cn),t}function t_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(h?Ur(i):zr(),(t=at)?(t=uv(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Or!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,Kt=i,at=null)):t=null,t===null)throw Vr(i);return om(t)?i.lanes=32:i.lanes=536870912,null}var A=l.children;return l=l.fallback,h?(zr(),h=i.mode,A=Cc({mode:"hidden",children:A},h),l=zs(l,h,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,l=i.child,l.memoizedState=bd(a),l.childLanes=wd(t,_,a),i.memoizedState=Ad,El(null,l)):(Ur(i),Rd(i,A))}var x=t.memoizedState;if(x!==null&&(A=x.dehydrated,A!==null)){if(d)i.flags&256?(Ur(i),i.flags&=-257,i=Cd(t,i,a)):i.memoizedState!==null?(zr(),i.child=t.child,i.flags|=128,i=null):(zr(),A=l.fallback,h=i.mode,l=Cc({mode:"visible",children:l.children},h),A=zs(A,h,a,null),A.flags|=2,l.return=i,A.return=i,l.sibling=A,i.child=l,Ks(i,t.child,null,a),l=i.child,l.memoizedState=bd(a),l.childLanes=wd(t,_,a),i.memoizedState=Ad,i=El(null,l));else if(Ur(i),om(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,ll({value:l,source:null,stack:null}),i=Cd(t,i,a)}else if(Nt||ka(t,i,a,!1),_=(a&t.childLanes)!==0,Nt||_){if(_=tt,_!==null&&(l=Bo(_,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,Us(t,l),gn(_,t,l),Td;am(A)||Pc(),i=Cd(t,i,a)}else am(A)?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,at=Bn(A.nextSibling),Kt=i,Pe=!0,Mr=null,Un=!1,t!==null&&Lg(i,t),i=Rd(i,l.children),i.flags|=4096);return i}return h?(zr(),A=l.fallback,h=i.mode,x=t.child,q=x.sibling,l=Ki(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,q!==null?A=Ki(q,A):(A=zs(A,h,a,null),A.flags|=2),A.return=i,l.return=i,l.sibling=A,i.child=l,El(null,l),l=i.child,A=t.child.memoizedState,A===null?A=bd(a):(h=A.cachePool,h!==null?(x=Ct._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Hg(),A={baseLanes:A.baseLanes|a,cachePool:h}),l.memoizedState=A,l.childLanes=wd(t,_,a),i.memoizedState=Ad,El(t.child,l)):(Ur(i),a=t.child,t=a.sibling,a=Ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Rd(t,i){return i=Cc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Cc(t,i){return t=An(22,t,null,i),t.lanes=0,t}function Cd(t,i,a){return Ks(i,t.child,null,a),t=Rd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function n_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),qf(t.return,i,a)}function Id(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function i_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=_t.current,A=(_&2)!==0;if(A?(_=_&1|2,i.flags|=128):_&=1,oe(_t,_),Xt(t,i,l,a),l=Pe?ol:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n_(t,a,i);else if(t.tag===19)n_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&pc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Id(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&pc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Id(i,!0,a,null,d,l);break;case"together":Id(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Wi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Hr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ka(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ki(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ki(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Nd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&oc(t)))}function QS(t,i,a){switch(i.tag){case 3:Pt(i,i.stateNode.containerInfo),kr(i,Ct,t.memoizedState.cache),Bs();break;case 27:case 5:Ts(i);break;case 4:Pt(i,i.stateNode.containerInfo);break;case 10:kr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ed(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ur(i),i.flags|=128,null):(a&i.child.childLanes)!==0?t_(t,i,a):(Ur(i),t=Wi(t,i,a),t!==null?t.sibling:null);Ur(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ka(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return i_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(_t,_t.current),l)break;return null;case 22:return i.lanes=0,Xy(t,i,a,i.pendingProps);case 24:kr(i,Ct,t.memoizedState.cache)}return Wi(t,i,a)}function r_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!Nd(t,a)&&(i.flags&128)===0)return Nt=!1,QS(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,Pe&&(i.flags&1048576)!==0&&Pg(i,ol,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Gs(i.elementType),i.type=t,typeof t=="function")Vf(t)?(l=Xs(t,l),i.tag=1,i=Wy(null,i,t,l,a)):(i.tag=0,i=Sd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Z){i.tag=11,i=Qy(null,i,t,l,a);break e}else if(h===D){i.tag=14,i=Ky(null,i,t,l,a);break e}}throw i=He(t)||t,Error(s(306,i,""))}}return i;case 0:return Sd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Xs(l,i.pendingProps),Wy(t,i,l,h,a);case 3:e:{if(Pt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Xf(t,i),pl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,kr(i,Ct,l),l!==d.cache&&Hf(i,[Ct],a,!0),ml(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=e_(t,i,l,a);break e}else if(l!==h){h=Pn(Error(s(424)),i),ll(h),i=e_(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,at=Bn(t.firstChild),Kt=i,Pe=!0,Mr=null,Un=!0,a=Xg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Bs(),l===h){i=Wi(t,i,a);break e}Xt(t,i,l,a)}i=i.child}return i;case 26:return Rc(t,i),t===null?(a=pv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=Hc(Ce.current).createElement(a),l[bt]=i,l[zt]=t,$t(l,a,t),wt(l),i.stateNode=l):i.memoizedState=pv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ts(i),t===null&&Pe&&(l=i.stateNode=fv(i.type,i.pendingProps,Ce.current),Kt=i,Un=!0,h=at,Yr(i.type)?(lm=h,at=Bn(l.firstChild)):at=h),Xt(t,i,i.pendingProps.children,a),Rc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((h=l=at)&&(l=SA(l,i.type,i.pendingProps,Un),l!==null?(i.stateNode=l,Kt=i,at=Bn(l.firstChild),Un=!1,h=!0):h=!1),h||Vr(i)),Ts(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,im(h,d)?l=null:_!==null&&im(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=nd(t,i,LS,null,null,a),kl._currentValue=h),Rc(t,i),Xt(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=at)&&(a=AA(a,i.pendingProps,Un),a!==null?(i.stateNode=a,Kt=i,at=null,t=!0):t=!1),t||Vr(i)),null;case 13:return t_(t,i,a);case 4:return Pt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ks(i,null,l,a):Xt(t,i,l,a),i.child;case 11:return Qy(t,i,i.type,i.pendingProps,a);case 7:return Xt(t,i,i.pendingProps,a),i.child;case 8:return Xt(t,i,i.pendingProps.children,a),i.child;case 12:return Xt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,kr(i,i.type,l.value),Xt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Hs(i),h=Yt(h),l=l(h),i.flags|=1,Xt(t,i,l,a),i.child;case 14:return Ky(t,i,i.type,i.pendingProps,a);case 15:return Yy(t,i,i.type,i.pendingProps,a);case 19:return i_(t,i,a);case 31:return GS(t,i,a);case 22:return Xy(t,i,a,i.pendingProps);case 24:return Hs(i),l=Yt(Ct),t===null?(h=Qf(),h===null&&(h=tt,d=Ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Yf(i),kr(i,Ct,h)):((t.lanes&a)!==0&&(Xf(t,i),pl(i,null,null,a),ml()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),kr(i,Ct,l)):(l=d.cache,kr(i,Ct,l),l!==h.cache&&Hf(i,[Ct],a,!0))),Xt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function er(t){t.flags|=4}function Dd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(x_())t.flags|=8192;else throw Qs=hc,Kf}else t.flags&=-16777217}function s_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ev(i))if(x_())t.flags|=8192;else throw Qs=hc,Kf}function Ic(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Vu():536870912,t.lanes|=i,Ka|=i)}function Tl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function KS(t,i,a){var l=i.pendingProps;switch(jf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$i(Ct),ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Va(i)?er(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zf())),ot(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(er(i),d!==null?(ot(i),s_(i,d)):(ot(i),Dd(i,h,null,l,a))):d?d!==t.memoizedState?(er(i),ot(i),s_(i,d)):(ot(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&er(i),ot(i),Dd(i,h,t,l,a)),null;case 27:if(fa(i),a=Ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&er(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}t=he.current,Va(i)?jg(i):(t=fv(h,l,a),i.stateNode=t,er(i))}return ot(i),null;case 5:if(fa(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&er(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}if(d=he.current,Va(i))jg(i);else{var _=Hc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[bt]=i,d[zt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch($t(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&er(i)}}return ot(i),Dd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&er(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,Va(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Kt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||tv(t.nodeValue,a)),t||Vr(i,!0)}else t=Hc(t).createTextNode(l),t[bt]=i,i.stateNode=t}return ot(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Va(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[bt]=i}else Bs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),t=!1}else a=zf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(wn(i),i):(wn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Va(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[bt]=i}else Bs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),h=!1}else h=zf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(wn(i),i):(wn(i),null)}return wn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Ic(i,i.updateQueue),ot(i),null);case 4:return ut(),t===null&&Zd(i.stateNode.containerInfo),ot(i),null;case 10:return $i(i.type),ot(i),null;case 19:if(te(_t),l=i.memoizedState,l===null)return ot(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Tl(l,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=pc(t),d!==null){for(i.flags|=128,Tl(l,!1),t=d.updateQueue,i.updateQueue=t,Ic(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Mg(a,t),a=a.sibling;return oe(_t,_t.current&1|2),Pe&&Yi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&on()>Mc&&(i.flags|=128,h=!0,Tl(l,!1),i.lanes=4194304)}else{if(!h)if(t=pc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Ic(i,t),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return ot(i),null}else 2*on()-l.renderingStartTime>Mc&&a!==536870912&&(i.flags|=128,h=!0,Tl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=on(),t.sibling=null,a=_t.current,oe(_t,h?a&1|2:a&1),Pe&&Yi(i,l.treeForkCount),t):(ot(i),null);case 22:case 23:return wn(i),Wf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&Ic(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&te(Fs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$i(Ct),ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function YS(t,i){switch(jf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $i(Ct),ut(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return fa(i),null;case 31:if(i.memoizedState!==null){if(wn(i),i.alternate===null)throw Error(s(340));Bs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(wn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Bs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(_t),null;case 4:return ut(),null;case 10:return $i(i.type),null;case 22:case 23:return wn(i),Wf(),t!==null&&te(Fs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $i(Ct),null;case 25:return null;default:return null}}function a_(t,i){switch(jf(i),i.tag){case 3:$i(Ct),ut();break;case 26:case 27:case 5:fa(i);break;case 4:ut();break;case 31:i.memoizedState!==null&&wn(i);break;case 13:wn(i);break;case 19:te(_t);break;case 10:$i(i.type);break;case 22:case 23:wn(i),Wf(),t!==null&&te(Fs);break;case 24:$i(Ct)}}function Sl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(A){$e(i,i.return,A)}}function Br(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,h=i;var x=a,q=A;try{q()}catch($){$e(h,x,$)}}}l=l.next}while(l!==d)}}catch($){$e(i,i.return,$)}}function o_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Jg(i,a)}catch(l){$e(t,t.return,l)}}}function l_(t,i,a){a.props=Xs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,i,l)}}function Al(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){$e(t,i,h)}}function xi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function u_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function xd(t,i,a){try{var l=t.stateNode;gA(l,t.type,a,i),l[zt]=i}catch(h){$e(t,t.return,h)}}function c_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yr(t.type)||t.tag===4}function Od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||c_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Md(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Zn));else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Md(t,i,a),t=t.sibling;t!==null;)Md(t,i,a),t=t.sibling}function Nc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Nc(t,i,a),t=t.sibling;t!==null;)Nc(t,i,a),t=t.sibling}function h_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);$t(i,l,a),i[bt]=t,i[zt]=a}catch(d){$e(t,t.return,d)}}var tr=!1,Dt=!1,Vd=!1,f_=typeof WeakSet=="function"?WeakSet:Set,qt=null;function XS(t,i){if(t=t.containerInfo,tm=$c,t=bg(t),Cf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,A=-1,x=-1,q=0,$=0,W=t,H=null;t:for(;;){for(var Q;W!==a||h!==0&&W.nodeType!==3||(A=_+h),W!==d||l!==0&&W.nodeType!==3||(x=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(Q=W.firstChild)!==null;)H=W,W=Q;for(;;){if(W===t)break t;if(H===a&&++q===h&&(A=_),H===d&&++$===l&&(x=_),(Q=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=Q}a=A===-1||x===-1?null:{start:A,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(nm={focusedElem:t,selectionRange:a},$c=!1,qt=i;qt!==null;)if(i=qt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,qt=t;else for(;qt!==null;){switch(i=qt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Xs(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){$e(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,qt=t;break}qt=i.return}}function d_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ir(t,a),l&4&&Sl(5,a);break;case 1:if(ir(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var h=Xs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}l&64&&o_(a),l&512&&Al(a,a.return);break;case 3:if(ir(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Jg(t,i)}catch(_){$e(a,a.return,_)}}break;case 27:i===null&&l&4&&h_(a);case 26:case 5:ir(t,a),i===null&&l&4&&u_(a),l&512&&Al(a,a.return);break;case 12:ir(t,a);break;case 31:ir(t,a),l&4&&g_(t,a);break;case 13:ir(t,a),l&4&&y_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=rA.bind(null,a),bA(t,a))));break;case 22:if(l=a.memoizedState!==null||tr,!l){i=i!==null&&i.memoizedState!==null||Dt,h=tr;var d=Dt;tr=l,(Dt=i)&&!d?rr(t,a,(a.subtreeFlags&8772)!==0):ir(t,a),tr=h,Dt=d}break;case 30:break;default:ir(t,a)}}function m_(t){var i=t.alternate;i!==null&&(t.alternate=null,m_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ya(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,fn=!1;function nr(t,i,a){for(a=a.child;a!==null;)p_(t,i,a),a=a.sibling}function p_(t,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Dt||xi(a,i),nr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dt||xi(a,i);var l=ht,h=fn;Yr(a.type)&&(ht=a.stateNode,fn=!1),nr(t,i,a),Ol(a.stateNode),ht=l,fn=h;break;case 5:Dt||xi(a,i);case 6:if(l=ht,h=fn,ht=null,nr(t,i,a),ht=l,fn=h,ht!==null)if(fn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(d){$e(a,i,d)}else try{ht.removeChild(a.stateNode)}catch(d){$e(a,i,d)}break;case 18:ht!==null&&(fn?(t=ht,ov(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),to(t)):ov(ht,a.stateNode));break;case 4:l=ht,h=fn,ht=a.stateNode.containerInfo,fn=!0,nr(t,i,a),ht=l,fn=h;break;case 0:case 11:case 14:case 15:Br(2,a,i),Dt||Br(4,a,i),nr(t,i,a);break;case 1:Dt||(xi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&l_(a,i,l)),nr(t,i,a);break;case 21:nr(t,i,a);break;case 22:Dt=(l=Dt)||a.memoizedState!==null,nr(t,i,a),Dt=l;break;default:nr(t,i,a)}}function g_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(a){$e(i,i.return,a)}}}function y_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(a){$e(i,i.return,a)}}function $S(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new f_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new f_),i;default:throw Error(s(435,t.tag))}}function Dc(t,i){var a=$S(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=sA.bind(null,t,l);l.then(h,h)}})}function dn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(Yr(A.type)){ht=A.stateNode,fn=!1;break e}break;case 5:ht=A.stateNode,fn=!1;break e;case 3:case 4:ht=A.stateNode.containerInfo,fn=!0;break e}A=A.return}if(ht===null)throw Error(s(160));p_(d,_,h),ht=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)__(i,t),i=i.sibling}var ri=null;function __(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),mn(t),l&4&&(Br(3,t,t.return),Sl(3,t),Br(5,t,t.return));break;case 1:dn(i,t),mn(t),l&512&&(Dt||a===null||xi(a,a.return)),l&64&&tr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ri;if(dn(i,t),mn(t),l&512&&(Dt||a===null||xi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[yi]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),$t(d,l,a),d[bt]=t,wt(d),l=d;break e;case"link":var _=_v("link","href",h).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break t}}d=h.createElement(l),$t(d,l,a),h.head.appendChild(d);break;case"meta":if(_=_v("meta","content",h).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break t}}d=h.createElement(l),$t(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,wt(d),l=d}t.stateNode=l}else vv(h,t.type,t.stateNode);else t.stateNode=yv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?vv(h,t.type,t.stateNode):yv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&xd(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(i,t),mn(t),l&512&&(Dt||a===null||xi(a,a.return)),a!==null&&l&4&&xd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,t),mn(t),l&512&&(Dt||a===null||xi(a,a.return)),t.flags&32){h=t.stateNode;try{hn(h,"")}catch(fe){$e(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,xd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Vd=!0);break;case 6:if(dn(i,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){$e(t,t.return,fe)}}break;case 3:if(Qc=null,h=ri,ri=Fc(i.containerInfo),dn(i,t),ri=h,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{to(i.containerInfo)}catch(fe){$e(t,t.return,fe)}Vd&&(Vd=!1,v_(t));break;case 4:l=ri,ri=Fc(t.stateNode.containerInfo),dn(i,t),mn(t),ri=l;break;case 12:dn(i,t),mn(t);break;case 31:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 13:dn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Oc=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,q=tr,$=Dt;if(tr=q||h,Dt=$||x,dn(i,t),Dt=$,tr=q,mn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||tr||Dt||$s(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=x.stateNode;var W=x.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;A.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(fe){$e(x,x.return,fe)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(fe){$e(x,x.return,fe)}}}else if(i.tag===18){if(a===null){x=i;try{var Q=x.stateNode;h?lv(Q,!0):lv(x.stateNode,!1)}catch(fe){$e(x,x.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Dc(t,a))));break;case 19:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 30:break;case 21:break;default:dn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(c_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Od(t);Nc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(hn(_,""),a.flags&=-33);var A=Od(t);Nc(t,A,_);break;case 3:case 4:var x=a.stateNode.containerInfo,q=Od(t);Md(t,q,x);break;default:throw Error(s(161))}}catch($){$e(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function v_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;v_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ir(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)d_(t,i.alternate,i),i=i.sibling}function $s(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Br(4,i,i.return),$s(i);break;case 1:xi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&l_(i,i.return,a),$s(i);break;case 27:Ol(i.stateNode);case 26:case 5:xi(i,i.return),$s(i);break;case 22:i.memoizedState===null&&$s(i);break;case 30:$s(i);break;default:$s(i)}t=t.sibling}}function rr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:rr(h,d,a),Sl(4,d);break;case 1:if(rr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){$e(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)$g(x[h],A)}catch(q){$e(l,l.return,q)}}a&&_&64&&o_(d),Al(d,d.return);break;case 27:h_(d);case 26:case 5:rr(h,d,a),a&&l===null&&_&4&&u_(d),Al(d,d.return);break;case 12:rr(h,d,a);break;case 31:rr(h,d,a),a&&_&4&&g_(h,d);break;case 13:rr(h,d,a),a&&_&4&&y_(h,d);break;case 22:d.memoizedState===null&&rr(h,d,a),Al(d,d.return);break;case 30:break;default:rr(h,d,a)}i=i.sibling}}function kd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function Pd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t))}function si(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)E_(t,i,a,l),i=i.sibling}function E_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:si(t,i,a,l),h&2048&&Sl(9,i);break;case 1:si(t,i,a,l);break;case 3:si(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t)));break;case 12:if(h&2048){si(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){$e(i,i.return,x)}}else si(t,i,a,l);break;case 31:si(t,i,a,l);break;case 13:si(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?si(t,i,a,l):bl(t,i):d._visibility&2?si(t,i,a,l):(d._visibility|=2,Fa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&kd(_,i);break;case 24:si(t,i,a,l),h&2048&&Pd(i.alternate,i);break;default:si(t,i,a,l)}}function Fa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,A=a,x=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:Fa(d,_,A,x,h),Sl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Fa(d,_,A,x,h):bl(d,_):($._visibility|=2,Fa(d,_,A,x,h)),h&&q&2048&&kd(_.alternate,_);break;case 24:Fa(d,_,A,x,h),h&&q&2048&&Pd(_.alternate,_);break;default:Fa(d,_,A,x,h)}i=i.sibling}}function bl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:bl(a,l),h&2048&&kd(l.alternate,l);break;case 24:bl(a,l),h&2048&&Pd(l.alternate,l);break;default:bl(a,l)}i=i.sibling}}var wl=8192;function Ga(t,i,a){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)T_(t,i,a),t=t.sibling}function T_(t,i,a){switch(t.tag){case 26:Ga(t,i,a),t.flags&wl&&t.memoizedState!==null&&PA(a,ri,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,i,a);break;case 3:case 4:var l=ri;ri=Fc(t.stateNode.containerInfo),Ga(t,i,a),ri=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=wl,wl=16777216,Ga(t,i,a),wl=l):Ga(t,i,a));break;default:Ga(t,i,a)}}function S_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Rl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];qt=l,b_(l,t)}S_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)A_(t),t=t.sibling}function A_(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&Br(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,xc(t)):Rl(t);break;default:Rl(t)}}function xc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];qt=l,b_(l,t)}S_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Br(8,i,i.return),xc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,xc(i));break;default:xc(i)}t=t.sibling}}function b_(t,i){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:Br(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=t;qt!==null;){l=qt;var h=l.sibling,d=l.return;if(m_(l),l===a){qt=null;break e}if(h!==null){h.return=d,qt=h;break e}qt=d}}}var JS={getCacheForType:function(t){var i=Yt(Ct),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Yt(Ct).controller.signal}},ZS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,Ne=null,xe=0,Xe=0,Rn=null,qr=!1,Qa=!1,Ld=!1,sr=0,pt=0,Hr=0,Js=0,jd=0,Cn=0,Ka=0,Cl=null,pn=null,Ud=!1,Oc=0,w_=0,Mc=1/0,Vc=null,Fr=null,jt=0,Gr=null,Ya=null,ar=0,zd=0,Bd=null,R_=null,Il=0,qd=null;function In(){return(Ge&2)!==0&&xe!==0?xe&-xe:K.T!==null?Yd():ku()}function C_(){if(Cn===0)if((xe&536870912)===0||Pe){var t=bs;bs<<=1,(bs&3932160)===0&&(bs=262144),Cn=t}else Cn=536870912;return t=bn.current,t!==null&&(t.flags|=32),Cn}function gn(t,i,a){(t===tt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),Qr(t,xe,Cn,!1)),ws(t,a),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(Js|=a),pt===4&&Qr(t,xe,Cn,!1)),Oi(t))}function I_(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Xn(t,i),h=l?tA(t,i):Fd(t,i,!0),d=l;do{if(h===0){Qa&&!l&&Qr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!WS(a)){h=Fd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var A=t;h=Cl;var x=A.current.memoizedState.isDehydrated;if(x&&(Xa(A,_).flags|=256),_=Fd(A,_,!1),_!==2){if(Ld&&!x){A.errorRecoveryDisabledLanes|=d,Js|=d,h=4;break e}d=pn,pn=h,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Xa(t,0),Qr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Qr(l,i,Cn,!qr);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Oc+300-on(),10<h)){if(Qr(l,i,Cn,!qr),mi(l,0,!0)!==0)break e;ar=i,l.timeoutHandle=sv(N_.bind(null,l,a,pn,Vc,Ud,i,Cn,Js,Ka,qr,d,"Throttled",-0,0),h);break e}N_(l,a,pn,Vc,Ud,i,Cn,Js,Ka,qr,d,null,-0,0)}}break}while(!0);Oi(t)}function N_(t,i,a,l,h,d,_,A,x,q,$,W,H,Q){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},T_(i,d,W);var fe=(d&62914560)===d?Oc-on():(d&4194048)===d?w_-on():0;if(fe=LA(W,fe),fe!==null){ar=d,t.cancelPendingCommit=fe(L_.bind(null,t,i,d,a,l,h,_,A,x,$,W,null,H,Q)),Qr(t,d,_,!q);return}}L_(t,i,d,a,l,h,_,A,x)}function WS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Sn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qr(t,i,a,l){i&=~jd,i&=~Js,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-gt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Rs(t,a,i)}function kc(){return(Ge&6)===0?(Nl(0),!1):!0}function Hd(){if(Ne!==null){if(Xe===0)var t=Ne.return;else t=Ne,Xi=qs=null,sd(t),Ua=null,hl=0,t=Ne;for(;t!==null;)a_(t.alternate,t),t=t.return;Ne=null}}function Xa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,vA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ar=0,Hd(),tt=t,Ne=a=Ki(t.current,null),xe=i,Xe=0,Rn=null,qr=!1,Qa=Xn(t,i),Ld=!1,Ka=Cn=jd=Js=Hr=pt=0,pn=Cl=null,Ud=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-gt(l),d=1<<h;i|=t[h],l&=~d}return sr=i,nc(),a}function D_(t,i){Re=null,K.H=vl,i===ja||i===cc?(i=Qg(),Xe=3):i===Kf?(i=Qg(),Xe=4):Xe=i===Td?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,Ne===null&&(pt=1,bc(t,Pn(i,t.current)))}function x_(){var t=bn.current;return t===null?!0:(xe&4194048)===xe?zn===null:(xe&62914560)===xe||(xe&536870912)!==0?t===zn:!1}function O_(){var t=K.H;return K.H=vl,t===null?vl:t}function M_(){var t=K.A;return K.A=JS,t}function Pc(){pt=4,qr||(xe&4194048)!==xe&&bn.current!==null||(Qa=!0),(Hr&134217727)===0&&(Js&134217727)===0||tt===null||Qr(tt,xe,Cn,!1)}function Fd(t,i,a){var l=Ge;Ge|=2;var h=O_(),d=M_();(tt!==t||xe!==i)&&(Vc=null,Xa(t,i)),i=!1;var _=pt;e:do try{if(Xe!==0&&Ne!==null){var A=Ne,x=Rn;switch(Xe){case 8:Hd(),_=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var q=Xe;if(Xe=0,Rn=null,$a(t,A,x,q),a&&Qa){_=0;break e}break;default:q=Xe,Xe=0,Rn=null,$a(t,A,x,q)}}eA(),_=pt;break}catch($){D_(t,$)}while(!0);return i&&t.shellSuspendCounter++,Xi=qs=null,Ge=l,K.H=h,K.A=d,Ne===null&&(tt=null,xe=0,nc()),_}function eA(){for(;Ne!==null;)V_(Ne)}function tA(t,i){var a=Ge;Ge|=2;var l=O_(),h=M_();tt!==t||xe!==i?(Vc=null,Mc=on()+500,Xa(t,i)):Qa=Xn(t,i);e:do try{if(Xe!==0&&Ne!==null){i=Ne;var d=Rn;t:switch(Xe){case 1:Xe=0,Rn=null,$a(t,i,d,1);break;case 2:case 9:if(Fg(d)){Xe=0,Rn=null,k_(i);break}i=function(){Xe!==2&&Xe!==9||tt!==t||(Xe=7),Oi(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Fg(d)?(Xe=0,Rn=null,k_(i)):(Xe=0,Rn=null,$a(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var A=Ne;if(_?Ev(_):A.stateNode.complete){Xe=0,Rn=null;var x=A.sibling;if(x!==null)Ne=x;else{var q=A.return;q!==null?(Ne=q,Lc(q)):Ne=null}break t}}Xe=0,Rn=null,$a(t,i,d,5);break;case 6:Xe=0,Rn=null,$a(t,i,d,6);break;case 8:Hd(),pt=6;break e;default:throw Error(s(462))}}nA();break}catch($){D_(t,$)}while(!0);return Xi=qs=null,K.H=l,K.A=h,Ge=a,Ne!==null?0:(tt=null,xe=0,nc(),pt)}function nA(){for(;Ne!==null&&!Ef();)V_(Ne)}function V_(t){var i=r_(t.alternate,t,sr);t.memoizedProps=t.pendingProps,i===null?Lc(t):Ne=i}function k_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Zy(a,i,i.pendingProps,i.type,void 0,xe);break;case 11:i=Zy(a,i,i.pendingProps,i.type.render,i.ref,xe);break;case 5:sd(i);default:a_(a,i),i=Ne=Mg(i,sr),i=r_(a,i,sr)}t.memoizedProps=t.pendingProps,i===null?Lc(t):Ne=i}function $a(t,i,a,l){Xi=qs=null,sd(i),Ua=null,hl=0;var h=i.return;try{if(FS(t,h,i,a,xe)){pt=1,bc(t,Pn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;pt=1,bc(t,Pn(a,t.current)),Ne=null;return}i.flags&32768?(Pe||l===1?t=!0:Qa||(xe&536870912)!==0?t=!1:(qr=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),P_(i,t)):Lc(i)}function Lc(t){var i=t;do{if((i.flags&32768)!==0){P_(i,qr);return}t=i.return;var a=KS(i.alternate,i,sr);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);pt===0&&(pt=5)}function P_(t,i){do{var a=YS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);pt=6,Ne=null}function L_(t,i,a,l,h,d,_,A,x){t.cancelPendingCommit=null;do jc();while(jt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Of,Af(t,a,d,_,A,x),t===tt&&(Ne=tt=null,xe=0),Ya=i,Gr=t,ar=a,zd=d,Bd=h,R_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,aA(Sr,function(){return q_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ae.p,ae.p=2,_=Ge,Ge|=4;try{XS(t,i,a)}finally{Ge=_,ae.p=h,K.T=l}}jt=1,j_(),U_(),z_()}}function j_(){if(jt===1){jt=0;var t=Gr,i=Ya,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{__(i,t);var d=nm,_=bg(t.containerInfo),A=d.focusedElem,x=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&Ag(A.ownerDocument.documentElement,A)){if(x!==null&&Cf(A)){var q=x.start,$=x.end;if($===void 0&&($=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min($,A.value.length);else{var W=A.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var Q=H.getSelection(),fe=A.textContent.length,_e=Math.min(x.start,fe),et=x.end===void 0?_e:Math.min(x.end,fe);!Q.extend&&_e>et&&(_=et,et=_e,_e=_);var j=Sg(A,_e),V=Sg(A,et);if(j&&V&&(Q.rangeCount!==1||Q.anchorNode!==j.node||Q.anchorOffset!==j.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var B=W.createRange();B.setStart(j.node,j.offset),Q.removeAllRanges(),_e>et?(Q.addRange(B),Q.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),Q.addRange(B))}}}}for(W=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&W.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<W.length;A++){var J=W[A];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}$c=!!tm,nm=tm=null}finally{Ge=h,ae.p=l,K.T=a}}t.current=i,jt=2}}function U_(){if(jt===2){jt=0;var t=Gr,i=Ya,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{d_(t,i.alternate,i)}finally{Ge=h,ae.p=l,K.T=a}}jt=3}}function z_(){if(jt===4||jt===3){jt=0,Iu();var t=Gr,i=Ya,a=ar,l=R_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,Ya=Gr=null,B_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fr=null),Hi(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Yn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=ae.p,ae.p=2,K.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{K.T=i,ae.p=h}}(ar&3)!==0&&jc(),Oi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===qd?Il++:(Il=0,qd=t):Il=0,Nl(0)}}function B_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ul(i)))}function jc(){return j_(),U_(),z_(),q_()}function q_(){if(jt!==5)return!1;var t=Gr,i=zd;zd=0;var a=Hi(ar),l=K.T,h=ae.p;try{ae.p=32>a?32:a,K.T=null,a=Bd,Bd=null;var d=Gr,_=ar;if(jt=0,Ya=Gr=null,ar=0,(Ge&6)!==0)throw Error(s(331));var A=Ge;if(Ge|=4,A_(d.current),E_(d,d.current,_,a),Ge=A,Nl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Yn,d)}catch{}return!0}finally{ae.p=h,K.T=l,B_(t,i)}}function H_(t,i,a){i=Pn(a,i),i=Ed(t.stateNode,i,2),t=jr(t,i,2),t!==null&&(ws(t,2),Oi(t))}function $e(t,i,a){if(t.tag===3)H_(t,t,a);else for(;i!==null;){if(i.tag===3){H_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fr===null||!Fr.has(l))){t=Pn(a,t),a=Fy(2),l=jr(i,a,2),l!==null&&(Gy(a,l,i,t),ws(l,2),Oi(l));break}}i=i.return}}function Gd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ZS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ld=!0,h.add(a),t=iA.bind(null,t,i,a),i.then(t,t))}function iA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(xe&a)===a&&(pt===4||pt===3&&(xe&62914560)===xe&&300>on()-Oc?(Ge&2)===0&&Xa(t,0):jd|=a,Ka===xe&&(Ka=0)),Oi(t)}function F_(t,i){i===0&&(i=Vu()),t=Us(t,i),t!==null&&(ws(t,i),Oi(t))}function rA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),F_(t,a)}function sA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),F_(t,a)}function aA(t,i){return Lt(t,i)}var Uc=null,Ja=null,Qd=!1,zc=!1,Kd=!1,Kr=0;function Oi(t){t!==Ja&&t.next===null&&(Ja===null?Uc=Ja=t:Ja=Ja.next=t),zc=!0,Qd||(Qd=!0,lA())}function Nl(t,i){if(!Kd&&zc){Kd=!0;do for(var a=!1,l=Uc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=h&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Y_(l,d))}else d=xe,d=mi(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Xn(l,d)||(a=!0,Y_(l,d));l=l.next}while(a);Kd=!1}}function oA(){G_()}function G_(){zc=Qd=!1;var t=0;Kr!==0&&_A()&&(t=Kr);for(var i=on(),a=null,l=Uc;l!==null;){var h=l.next,d=Q_(l,i);d===0?(l.next=null,a===null?Uc=h:a.next=h,h===null&&(Ja=a)):(a=l,(t!==0||(d&3)!==0)&&(zc=!0)),l=h}jt!==0&&jt!==5||Nl(t),Kr!==0&&(Kr=0)}function Q_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-gt(d),A=1<<_,x=h[_];x===-1?((A&a)===0||(A&l)!==0)&&(h[_]=Sf(A,i)):x<=i&&(t.expiredLanes|=A),d&=~A}if(i=tt,a=xe,a=mi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Tr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Xn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Tr(l),Hi(a)){case 2:case 8:a=Uo;break;case 32:a=Sr;break;case 268435456:a=Nu;break;default:a=Sr}return l=K_.bind(null,t),a=Lt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Tr(l),t.callbackPriority=2,t.callbackNode=null,2}function K_(t,i){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(jc()&&t.callbackNode!==a)return null;var l=xe;return l=mi(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(I_(t,l,i),Q_(t,on()),t.callbackNode!=null&&t.callbackNode===a?K_.bind(null,t):null)}function Y_(t,i){if(jc())return null;I_(t,i,!0)}function lA(){EA(function(){(Ge&6)!==0?Lt(jo,oA):G_()})}function Yd(){if(Kr===0){var t=Pa;t===0&&(t=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Kr=t}return Kr}function X_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function $_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function uA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=X_((h[zt]||null).action),_=l.submitter;_&&(i=(i=_[zt]||null)?X_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var A=new wi("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Kr!==0){var x=_?$_(h,_):new FormData(h);md(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(A.preventDefault(),x=_?$_(h,_):new FormData(h),md(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var Xd=0;Xd<xf.length;Xd++){var $d=xf[Xd],cA=$d.toLowerCase(),hA=$d[0].toUpperCase()+$d.slice(1);ii(cA,"on"+hA)}ii(Cg,"onAnimationEnd"),ii(Ig,"onAnimationIteration"),ii(Ng,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(CS,"onTransitionRun"),ii(IS,"onTransitionStart"),ii(NS,"onTransitionCancel"),ii(Dg,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function J_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var A=l[_],x=A.instance,q=A.currentTarget;if(A=A.listener,x!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=q;try{d(h)}catch($){tc($)}h.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(A=l[_],x=A.instance,q=A.currentTarget,A=A.listener,x!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=q;try{d(h)}catch($){tc($)}h.currentTarget=null,d=x}}}}function De(t,i){var a=i[ga];a===void 0&&(a=i[ga]=new Set);var l=t+"__bubble";a.has(l)||(Z_(i,t,2,!1),a.add(l))}function Jd(t,i,a){var l=0;i&&(l|=4),Z_(a,t,l,i)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function Zd(t){if(!t[Bc]){t[Bc]=!0,qo.forEach(function(a){a!=="selectionchange"&&(fA.has(a)||Jd(a,!1,t),Jd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Bc]||(i[Bc]=!0,Jd("selectionchange",!1,i))}}function Z_(t,i,a,l){switch(Cv(i)){case 2:var h=zA;break;case 8:h=BA;break;default:h=dm}a=h.bind(null,i,a,t),h=void 0,!xs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Wd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===h)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;A!==null;){if(_=_i(A),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue e}A=A.parentNode}}l=l.return}Ir(function(){var q=d,$=On(a),W=[];e:{var H=xg.get(t);if(H!==void 0){var Q=wi,fe=t;switch(t){case"keypress":if(Ms(a)===0)break e;case"keydown":case"keyup":Q=Zu;break;case"focusin":fe="focus",Q=ks;break;case"focusout":fe="blur",Q=ks;break;case"beforeblur":case"afterblur":Q=ks;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case Cg:case Ig:case Ng:Q=Gu;break;case Dg:Q=b;break;case"scroll":case"scrollend":Q=el;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Qi;break;case"toggle":case"beforetoggle":Q=we}var _e=(i&4)!==0,et=!_e&&(t==="scroll"||t==="scrollend"),j=_e?H!==null?H+"Capture":null:H;_e=[];for(var V=q,B;V!==null;){var J=V;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||j===null||(J=Wn(V,j),J!=null&&_e.push(xl(V,J,B))),et)break;V=V.return}0<_e.length&&(H=new Q(H,fe,null,a,$),W.push({event:H,listeners:_e}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",H&&a!==Jo&&(fe=a.relatedTarget||a.fromElement)&&(_i(fe)||fe[gi]))break e;if((Q||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(fe=a.relatedTarget||a.toElement,Q=q,fe=fe?_i(fe):null,fe!==null&&(et=u(fe),_e=fe.tag,fe!==et||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(Q=null,fe=q),Q!==fe)){if(_e=tl,J="onMouseLeave",j="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Qi,J="onPointerLeave",j="onPointerEnter",V="pointer"),et=Q==null?H:En(Q),B=fe==null?H:En(fe),H=new _e(J,V+"leave",Q,a,$),H.target=et,H.relatedTarget=B,J=null,_i($)===q&&(_e=new _e(j,V+"enter",fe,a,$),_e.target=B,_e.relatedTarget=et,J=_e),et=J,Q&&fe)t:{for(_e=dA,j=Q,V=fe,B=0,J=j;J;J=_e(J))B++;J=0;for(var pe=V;pe;pe=_e(pe))J++;for(;0<B-J;)j=_e(j),B--;for(;0<J-B;)V=_e(V),J--;for(;B--;){if(j===V||V!==null&&j===V.alternate){_e=j;break t}j=_e(j),V=_e(V)}_e=null}else _e=null;Q!==null&&W_(W,H,Q,_e,!1),fe!==null&&et!==null&&W_(W,et,fe,_e,!0)}}e:{if(H=q?En(q):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var Be=gg;else if(mg(H))if(yg)Be=bS;else{Be=SS;var de=TS}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Ea(q.elementType)&&(Be=gg):Be=AS;if(Be&&(Be=Be(t,q))){pg(W,Be,a,$);break e}de&&de(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Yo(H,"number",H.value)}switch(de=q?En(q):window,t){case"focusin":(mg(de)||de.contentEditable==="true")&&(Ia=de,If=q,al=null);break;case"focusout":al=If=Ia=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,wg(W,a,$);break;case"selectionchange":if(RS)break;case"keydown":case"keyup":wg(W,a,$)}var Ie;if(Fe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ca?Ps(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ii&&a.locale!=="ko"&&(Ca||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ca&&(Ie=Wo()):(bi=$,Zo="value"in bi?bi.value:bi.textContent,Ca=!0)),de=qc(q,Oe),0<de.length&&(Oe=new Ci(Oe,t,null,a,$),W.push({event:Oe,listeners:de}),Ie?Oe.data=Ie:(Ie=Ra(a),Ie!==null&&(Oe.data=Ie)))),(Ie=Vn?yS(t,a):_S(t,a))&&(Oe=qc(q,"onBeforeInput"),0<Oe.length&&(de=new Ci("onBeforeInput","beforeinput",null,a,$),W.push({event:de,listeners:Oe}),de.data=Ie)),uA(W,t,q,a,$)}J_(W,i)})}function xl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function qc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Wn(t,a),h!=null&&l.unshift(xl(t,h,d)),h=Wn(t,i),h!=null&&l.push(xl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function dA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function W_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var A=a,x=A.alternate,q=A.stateNode;if(A=A.tag,x!==null&&x===l)break;A!==5&&A!==26&&A!==27||q===null||(x=q,h?(q=Wn(a,d),q!=null&&_.unshift(xl(a,q,x))):h||(q=Wn(a,d),q!=null&&_.push(xl(a,q,x)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var mA=/\r\n?/g,pA=/\u0000|\uFFFD/g;function ev(t){return(typeof t=="string"?t:""+t).replace(mA,`
`).replace(pA,"")}function tv(t,i){return i=ev(i),ev(t)===i}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||hn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&hn(t,""+l);break;case"className":Tn(t,"class",l);break;case"tabIndex":Tn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(t,a,l);break;case"style":$o(t,l,d);break;case"data":if(i!=="object"){Tn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ta(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),_a(t,"popover",l);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qu.get(a)||a,_a(t,a,l))}}function em(t,i,a,l,h,d){switch(a){case"style":$o(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?hn(t,l):(typeof l=="number"||typeof l=="bigint")&&hn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ho.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[zt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):_a(t,a,l)}}}function $t(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,_,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var A=d=_=h=null,x=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":x=$;break;case"defaultChecked":q=$;break;case"value":d=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:We(t,i,l,$,a,null)}}Uu(t,d,A,x,q,_,h,!1);return;case"select":De("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:We(t,i,h,A,a,null)}i=d,a=_,t.multiple=!!l,i!=null?br(t,!!l,i,!1):a!=null&&br(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:We(t,i,_,A,a,null)}wr(t,l,h,d);return;case"option":for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null)&&(x==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":We(t,i,x,l,a,null));return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)De(Dl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,q,l,a,null)}return;default:if(Ea(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&em(t,i,$,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&We(t,i,A,l,a,null))}function gA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,A=null,x=null,q=null,$=null;for(Q in a){var W=a[Q];if(a.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":x=W;default:l.hasOwnProperty(Q)||We(t,i,Q,null,l,W)}}for(var H in l){var Q=l[H];if(W=a[H],l.hasOwnProperty(H)&&(Q!=null||W!=null))switch(H){case"type":d=Q;break;case"name":h=Q;break;case"checked":q=Q;break;case"defaultChecked":$=Q;break;case"value":_=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==W&&We(t,i,H,Q,l,W)}}va(t,_,A,x,q,$,d,h);return;case"select":Q=_=A=H=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":Q=x;default:l.hasOwnProperty(d)||We(t,i,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":H=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==x&&We(t,i,h,d,l,x)}i=A,a=_,l=Q,H!=null?br(t,!!a,H,!1):!!l!=!!a&&(i!=null?br(t,!!a,i,!0):br(t,!!a,a?[]:"",!1));return;case"textarea":Q=H=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:We(t,i,A,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,_,h,l,d)}zu(t,H,Q);return;case"option":for(var fe in a)H=a[fe],a.hasOwnProperty(fe)&&H!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:We(t,i,fe,null,l,H));for(x in l)H=l[x],Q=a[x],l.hasOwnProperty(x)&&H!==Q&&(H!=null||Q!=null)&&(x==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":We(t,i,x,H,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&We(t,i,_e,null,l,H);for(q in l)if(H=l[q],Q=a[q],l.hasOwnProperty(q)&&H!==Q&&(H!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:We(t,i,q,H,l,Q)}return;default:if(Ea(i)){for(var et in a)H=a[et],a.hasOwnProperty(et)&&H!==void 0&&!l.hasOwnProperty(et)&&em(t,i,et,void 0,l,H);for($ in l)H=l[$],Q=a[$],!l.hasOwnProperty($)||H===Q||H===void 0&&Q===void 0||em(t,i,$,H,l,Q);return}}for(var j in a)H=a[j],a.hasOwnProperty(j)&&H!=null&&!l.hasOwnProperty(j)&&We(t,i,j,null,l,H);for(W in l)H=l[W],Q=a[W],!l.hasOwnProperty(W)||H===Q||H==null&&Q==null||We(t,i,W,H,l,Q)}function nv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,A=h.duration;if(d&&A&&nv(_)){for(_=0,A=h.responseEnd,l+=1;l<a.length;l++){var x=a[l],q=x.startTime;if(q>A)break;var $=x.transferSize,W=x.initiatorType;$&&nv(W)&&(x=x.responseEnd,_+=$*(x<A?1:(A-q)/(x-q)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var tm=null,nm=null;function Hc(t){return t.nodeType===9?t:t.ownerDocument}function iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function im(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rm=null;function _A(){var t=window.event;return t&&t.type==="popstate"?t===rm?!1:(rm=t,!0):(rm=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,vA=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,EA=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(t){return av.resolve(null).then(t).catch(TA)}:sv;function TA(t){setTimeout(function(){throw t})}function Yr(t){return t==="head"}function ov(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),to(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ol(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ol(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[yi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ol(t.ownerDocument.body);a=h}while(a);to(i)}function lv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function sm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sm(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function SA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function AA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function uv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Bn(t.nextSibling),t===null))return null;return t}function am(t){return t.data==="$?"||t.data==="$~"}function om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function bA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var lm=null;function cv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Bn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function hv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function fv(t,i,a){switch(i=Hc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ol(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ya(t)}var qn=new Map,dv=new Set;function Fc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var or=ae.d;ae.d={f:wA,r:RA,D:CA,C:IA,L:NA,m:DA,X:OA,S:xA,M:MA};function wA(){var t=or.f(),i=kc();return t||i}function RA(t){var i=xn(t);i!==null&&i.tag===5&&i.type==="form"?Dy(i):or.r(t)}var Za=typeof document>"u"?null:document;function mv(t,i,a){var l=Za;if(l&&typeof i=="string"&&i){var h=cn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),dv.has(h)||(dv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),$t(i,"link",t),wt(i),l.head.appendChild(i)))}}function CA(t){or.D(t),mv("dns-prefetch",t,null)}function IA(t,i){or.C(t,i),mv("preconnect",t,i)}function NA(t,i,a){or.L(t,i,a);var l=Za;if(l&&t&&i){var h='link[rel="preload"][as="'+cn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+cn(a.imageSizes)+'"]')):h+='[href="'+cn(t)+'"]';var d=h;switch(i){case"style":d=Wa(t);break;case"script":d=eo(t)}qn.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),qn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ml(d))||i==="script"&&l.querySelector(Vl(d))||(i=l.createElement("link"),$t(i,"link",t),wt(i),l.head.appendChild(i)))}}function DA(t,i){or.m(t,i);var a=Za;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(t)}if(!qn.has(d)&&(t=S({rel:"modulepreload",href:t},i),qn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(d)))return}l=a.createElement("link"),$t(l,"link",t),wt(l),a.head.appendChild(l)}}}function xA(t,i,a){or.S(t,i,a);var l=Za;if(l&&t){var h=vi(l).hoistableStyles,d=Wa(t);i=i||"default";var _=h.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(Ml(d)))A.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=qn.get(d))&&um(t,a);var x=_=l.createElement("link");wt(x),$t(x,"link",t),x._p=new Promise(function(q,$){x.onload=q,x.onerror=$}),x.addEventListener("load",function(){A.loading|=1}),x.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Gc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:A},h.set(d,_)}}}function OA(t,i){or.X(t,i);var a=Za;if(a&&t){var l=vi(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(Vl(h)),d||(t=S({src:t,async:!0},i),(i=qn.get(h))&&cm(t,i),d=a.createElement("script"),wt(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function MA(t,i){or.M(t,i);var a=Za;if(a&&t){var l=vi(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(Vl(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=qn.get(h))&&cm(t,i),d=a.createElement("script"),wt(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function pv(t,i,a,l){var h=(h=Ce.current)?Fc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Wa(a.href),a=vi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var d=vi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Ml(t)))&&!d._p&&(_.instance=d,_.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),d||VA(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(a),a=vi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Wa(t){return'href="'+cn(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function gv(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function VA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),$t(i,"link",a),wt(i),t.head.appendChild(i))}function eo(t){return'[src="'+cn(t)+'"]'}function Vl(t){return"script[async]"+t}function yv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return i.instance=l,wt(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),$t(l,"style",h),Gc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Wa(a.href);var d=t.querySelector(Ml(h));if(d)return i.state.loading|=4,i.instance=d,wt(d),d;l=gv(a),(h=qn.get(h))&&um(l,h),d=(t.ownerDocument||t).createElement("link"),wt(d);var _=d;return _._p=new Promise(function(A,x){_.onload=A,_.onerror=x}),$t(d,"link",l),i.state.loading|=4,Gc(d,a.precedence,t),i.instance=d;case"script":return d=eo(a.src),(h=t.querySelector(Vl(d)))?(i.instance=h,wt(h),h):(l=a,(h=qn.get(d))&&(l=S({},a),cm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),wt(h),$t(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Gc(l,a.precedence,t));return i.instance}function Gc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function um(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Qc=null;function _v(t,i,a){if(Qc===null){var l=new Map,h=Qc=new Map;h.set(a,l)}else h=Qc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[yi]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function vv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function kA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ev(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function PA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Wa(l.href),d=i.querySelector(Ml(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Kc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,wt(d);return}d=i.ownerDocument||i,l=gv(l),(h=qn.get(h))&&um(l,h),d=d.createElement("link"),wt(d);var _=d;_._p=new Promise(function(A,x){_.onload=A,_.onerror=x}),$t(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Kc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var hm=0;function LA(t,i){return t.stylesheets&&t.count===0&&Xc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Xc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&hm===0&&(hm=62500*yA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Xc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>hm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yc=null;function Xc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yc=new Map,i.forEach(jA,t),Yc=null,Kc.call(t))}function jA(t,i){if(!(i.state.loading&4)){var a=Yc.get(t);if(a)var l=a.get(null);else{a=new Map,Yc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Kc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var kl={$$typeof:re,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function UA(t,i,a,l,h,d,_,A,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Tv(t,i,a,l,h,d,_,A,x,q,$,W){return t=new UA(t,i,a,_,x,q,$,W,A),i=1,d===!0&&(i|=24),d=An(3,null,null,i),t.current=d,d.stateNode=t,i=Ff(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Yf(d),t}function Sv(t){return t?(t=xa,t):xa}function Av(t,i,a,l,h,d){h=Sv(h),l.context===null?l.context=h:l.pendingContext=h,l=Lr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=jr(t,l,i),a!==null&&(gn(a,t,i),dl(a,t,i))}function bv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function fm(t,i){bv(t,i),(t=t.alternate)&&bv(t,i)}function wv(t){if(t.tag===13||t.tag===31){var i=Us(t,67108864);i!==null&&gn(i,t,67108864),fm(t,67108864)}}function Rv(t){if(t.tag===13||t.tag===31){var i=In();i=Cs(i);var a=Us(t,i);a!==null&&gn(a,t,i),fm(t,i)}}var $c=!0;function zA(t,i,a,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=2,dm(t,i,a,l)}finally{ae.p=d,K.T=h}}function BA(t,i,a,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=8,dm(t,i,a,l)}finally{ae.p=d,K.T=h}}function dm(t,i,a,l){if($c){var h=mm(l);if(h===null)Wd(t,i,l,Jc,a),Iv(t,l);else if(HA(h,t,i,a,l))l.stopPropagation();else if(Iv(t,l),i&4&&-1<qA.indexOf(t)){for(;h!==null;){var d=xn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=di(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var x=1<<31-gt(_);A.entanglements[1]|=x,_&=~x}Oi(d),(Ge&6)===0&&(Mc=on()+500,Nl(0))}}break;case 31:case 13:A=Us(d,2),A!==null&&gn(A,d,2),kc(),fm(d,2)}if(d=mm(l),d===null&&Wd(t,i,l,Jc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Wd(t,i,l,null,a)}}function mm(t){return t=On(t),pm(t)}var Jc=null;function pm(t){if(Jc=null,t=_i(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Jc=t,null}function Cv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(As()){case jo:return 2;case Uo:return 8;case Sr:case Tf:return 32;case Nu:return 268435456;default:return 32}default:return 32}}var gm=!1,Xr=null,$r=null,Jr=null,Pl=new Map,Ll=new Map,Zr=[],qA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(t,i){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Pl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(i.pointerId)}}function jl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=xn(i),i!==null&&wv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function HA(t,i,a,l,h){switch(i){case"focusin":return Xr=jl(Xr,t,i,a,l,h),!0;case"dragenter":return $r=jl($r,t,i,a,l,h),!0;case"mouseover":return Jr=jl(Jr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Pl.set(d,jl(Pl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ll.set(d,jl(Ll.get(d)||null,t,i,a,l,h)),!0}return!1}function Nv(t){var i=_i(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,$n(t.priority,function(){Rv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,$n(t.priority,function(){Rv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=mm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Jo=l,a.target.dispatchEvent(l),Jo=null}else return i=xn(a),i!==null&&wv(i),t.blockedOn=a,!1;i.shift()}return!0}function Dv(t,i,a){Zc(t)&&a.delete(i)}function FA(){gm=!1,Xr!==null&&Zc(Xr)&&(Xr=null),$r!==null&&Zc($r)&&($r=null),Jr!==null&&Zc(Jr)&&(Jr=null),Pl.forEach(Dv),Ll.forEach(Dv)}function Wc(t,i){t.blockedOn===i&&(t.blockedOn=null,gm||(gm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,FA)))}var eh=null;function xv(t){eh!==t&&(eh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){eh===t&&(eh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(pm(l||a)===null)continue;break}var d=xn(a);d!==null&&(t.splice(i,3),i-=3,md(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function to(t){function i(x){return Wc(x,t)}Xr!==null&&Wc(Xr,t),$r!==null&&Wc($r,t),Jr!==null&&Wc(Jr,t),Pl.forEach(i),Ll.forEach(i);for(var a=0;a<Zr.length;a++){var l=Zr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Zr.length&&(a=Zr[0],a.blockedOn===null);)Nv(a),a.blockedOn===null&&Zr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[zt]||null;if(typeof d=="function")_||xv(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[zt]||null)A=_.formAction;else if(pm(h)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),xv(a)}}}function Ov(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function ym(t){this._internalRoot=t}th.prototype.render=ym.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=In();Av(a,l,t,i,null,null)},th.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Av(t.current,2,null,t,null,null),kc(),i[gi]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var i=ku();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Zr.length&&i!==0&&i<Zr[a].priority;a++);Zr.splice(a,0,t),a===0&&Nv(t)}};var Mv=e.version;if(Mv!=="19.2.3")throw Error(s(527,Mv,"19.2.3"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var GA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{Yn=nh.inject(GA),Gt=nh}catch{}}return zl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=zy,d=By,_=qy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Tv(t,1,!1,null,null,a,l,null,h,d,_,Ov),t[gi]=i.current,Zd(t),new ym(i)},zl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=zy,_=By,A=qy,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),i=Tv(t,1,!0,i,a??null,l,h,x,d,_,A,Ov),i.context=Sv(null),a=i.current,l=In(),l=Cs(l),h=Lr(l),h.callback=null,jr(a,h,l),a=l,i.current.lanes=a,ws(i,a),Oi(i),t[gi]=i.current,Zd(t),new th(i)},zl.version="19.2.3",zl}var Hv;function tb(){if(Hv)return Em.exports;Hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Em.exports=eb(),Em.exports}var nb=tb();var Fv="popstate";function ib(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Um("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:eu(o)}return sb(e,n,null,r)}function ft(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Qn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rb(){return Math.random().toString(36).substring(2,10)}function Gv(r,e){return{usr:r.state,key:r.key,idx:e}}function Um(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?bo(e):e,state:n,key:e&&e.key||s||rb()}}function eu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function bo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function sb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,p=T();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function T(){return(f.state||{idx:null}).idx}function S(){m="POP";let L=T(),Y=L==null?null:L-p;p=L,g&&g({action:m,location:X.location,delta:Y})}function C(L,Y){m="PUSH";let ie=Um(X.location,L,Y);p=T()+1;let re=Gv(ie,p),Z=X.createHref(ie);try{f.pushState(re,"",Z)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(Z)}u&&g&&g({action:m,location:X.location,delta:1})}function k(L,Y){m="REPLACE";let ie=Um(X.location,L,Y);p=T();let re=Gv(ie,p),Z=X.createHref(ie);f.replaceState(re,"",Z),u&&g&&g({action:m,location:X.location,delta:0})}function F(L){return ab(L)}let X={get action(){return m},get location(){return r(o,f)},listen(L){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Fv,S),g=L,()=>{o.removeEventListener(Fv,S),g=null}},createHref(L){return e(o,L)},createURL:F,encodeLocation(L){let Y=F(L);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:C,replace:k,go(L){return f.go(L)}};return X}function ab(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:eu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function R0(r,e,n="/"){return ob(r,e,n,!1)}function ob(r,e,n,s){let o=typeof e=="string"?bo(e):e,u=mr(o.pathname||"/",n);if(u==null)return null;let f=C0(r);lb(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=vb(u);m=yb(f[g],p,s)}return m}function C0(r,e=[],n=[],s="",o=!1){let u=(f,m,g=o,p)=>{let T={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&g)return;ft(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let S=hr([s,T.relativePath]),C=n.concat(T);f.children&&f.children.length>0&&(ft(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),C0(f.children,e,C,S,g)),!(f.path==null&&!f.index)&&e.push({path:S,score:pb(S,f.index),routesMeta:C})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of I0(f.path))u(f,m,!0,g)}),e}function I0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=I0(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function lb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:gb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var ub=/^:[\w-]+$/,cb=3,hb=2,fb=1,db=10,mb=-2,Qv=r=>r==="*";function pb(r,e){let n=r.split("/"),s=n.length;return n.some(Qv)&&(s+=mb),e&&(s+=hb),n.filter(o=>!Qv(o)).reduce((o,u)=>o+(ub.test(u)?cb:u===""?fb:db),s)}function gb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function yb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",S=Ah({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},T),C=g.route;if(!S&&p&&n&&!s[s.length-1].route.index&&(S=Ah({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:hr([u,S.pathname]),pathnameBase:bb(hr([u,S.pathnameBase])),route:C}),S.pathnameBase!=="/"&&(u=hr([u,S.pathnameBase]))}return f}function Ah(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=_b(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:T,isOptional:S},C)=>{if(T==="*"){let F=m[C]||"";f=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const k=m[C];return S&&!k?p[T]=void 0:p[T]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:r}}function _b(r,e=!1,n=!0){Qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function vb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function mr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var Eb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tb=r=>Eb.test(r);function Sb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?bo(r):r,u;if(n)if(Tb(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Kv(n.substring(1),"/"):u=Kv(n,e)}else u=e;return{pathname:u,search:wb(s),hash:Rb(o)}}function Kv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function bm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ab(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gp(r){let e=Ab(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function yp(r,e,n,s=!1){let o;typeof r=="string"?o=bo(r):(o={...r},ft(!o.pathname||!o.pathname.includes("?"),bm("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),bm("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),bm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),S-=1;o.pathname=C.join("/")}m=S>=0?e[S]:"/"}let g=Sb(o,m),p=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||T)&&(g.pathname+="/"),g}var hr=r=>r.join("/").replace(/\/\/+/g,"/"),bb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),wb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Rb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Cb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Ib(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var N0=["POST","PUT","PATCH","DELETE"];new Set(N0);var Nb=["GET",...N0];new Set(Nb);var wo=U.createContext(null);wo.displayName="DataRouter";var Gh=U.createContext(null);Gh.displayName="DataRouterState";U.createContext(!1);var D0=U.createContext({isTransitioning:!1});D0.displayName="ViewTransition";var Db=U.createContext(new Map);Db.displayName="Fetchers";var xb=U.createContext(null);xb.displayName="Await";var Kn=U.createContext(null);Kn.displayName="Navigation";var du=U.createContext(null);du.displayName="Location";var ci=U.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var _p=U.createContext(null);_p.displayName="RouteError";function Ob(r,{relative:e}={}){ft(Ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(Kn),{hash:o,pathname:u,search:f}=mu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:hr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Ro(){return U.useContext(du)!=null}function vr(){return ft(Ro(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(du).location}var x0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function O0(r){U.useContext(Kn).static||U.useLayoutEffect(r)}function Qh(){let{isDataRoute:r}=U.useContext(ci);return r?Kb():Mb()}function Mb(){ft(Ro(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(wo),{basename:e,navigator:n}=U.useContext(Kn),{matches:s}=U.useContext(ci),{pathname:o}=vr(),u=JSON.stringify(gp(s)),f=U.useRef(!1);return O0(()=>{f.current=!0}),U.useCallback((g,p={})=>{if(Qn(f.current,x0),!f.current)return;if(typeof g=="number"){n.go(g);return}let T=yp(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:hr([e,T.pathname])),(p.replace?n.replace:n.push)(T,p.state,p)},[e,n,u,o,r])}var Vb=U.createContext(null);function kb(r){let e=U.useContext(ci).outlet;return U.useMemo(()=>e&&U.createElement(Vb.Provider,{value:r},e),[e,r])}function mu(r,{relative:e}={}){let{matches:n}=U.useContext(ci),{pathname:s}=vr(),o=JSON.stringify(gp(n));return U.useMemo(()=>yp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Pb(r,e){return M0(r,e)}function M0(r,e,n,s,o){ft(Ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(Kn),{matches:f}=U.useContext(ci),m=f[f.length-1],g=m?m.params:{},p=m?m.pathname:"/",T=m?m.pathnameBase:"/",S=m&&m.route;{let ie=S&&S.path||"";V0(p,!S||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let C=vr(),k;if(e){let ie=typeof e=="string"?bo(e):e;ft(T==="/"||ie.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),k=ie}else k=C;let F=k.pathname||"/",X=F;if(T!=="/"){let ie=T.replace(/^\//,"").split("/");X="/"+F.replace(/^\//,"").split("/").slice(ie.length).join("/")}let L=R0(r,{pathname:X});Qn(S||L!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Qn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=Bb(L&&L.map(ie=>Object.assign({},ie,{params:Object.assign({},g,ie.params),pathname:hr([T,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?T:hr([T,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),f,n,s,o);return e&&Y?U.createElement(du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},Y):Y}function Lb(){let r=Qb(),e=Cb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var jb=U.createElement(Lb,null),Ub=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?U.createElement(ci.Provider,{value:this.props.routeContext},U.createElement(_p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zb({routeContext:r,match:e,children:n}){let s=U.useContext(wo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(ci.Provider,{value:r},n)}function Bb(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let T=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);ft(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let m=!1,g=-1;if(n)for(let T=0;T<u.length;T++){let S=u[T];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=T),S.route.id){let{loaderData:C,errors:k}=n,F=S.route.loader&&!C.hasOwnProperty(S.route.id)&&(!k||k[S.route.id]===void 0);if(S.route.lazy||F){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&s?(T,S)=>{s(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Ib(n.matches),errorInfo:S})}:void 0;return u.reduceRight((T,S,C)=>{let k,F=!1,X=null,L=null;n&&(k=f&&S.route.id?f[S.route.id]:void 0,X=S.route.errorElement||jb,m&&(g<0&&C===0?(V0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,L=null):g===C&&(F=!0,L=S.route.hydrateFallbackElement||null)));let Y=e.concat(u.slice(0,C+1)),ie=()=>{let re;return k?re=X:F?re=L:S.route.Component?re=U.createElement(S.route.Component,null):S.route.element?re=S.route.element:re=T,U.createElement(zb,{match:S,routeContext:{outlet:T,matches:Y,isDataRoute:n!=null},children:re})};return n&&(S.route.ErrorBoundary||S.route.errorElement||C===0)?U.createElement(Ub,{location:n.location,revalidation:n.revalidation,component:X,error:k,children:ie(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:p}):ie()},null)}function vp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qb(r){let e=U.useContext(wo);return ft(e,vp(r)),e}function Hb(r){let e=U.useContext(Gh);return ft(e,vp(r)),e}function Fb(r){let e=U.useContext(ci);return ft(e,vp(r)),e}function Ep(r){let e=Fb(r),n=e.matches[e.matches.length-1];return ft(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Gb(){return Ep("useRouteId")}function Qb(){let r=U.useContext(_p),e=Hb("useRouteError"),n=Ep("useRouteError");return r!==void 0?r:e.errors?.[n]}function Kb(){let{router:r}=qb("useNavigate"),e=Ep("useNavigate"),n=U.useRef(!1);return O0(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{Qn(n.current,x0),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Yv={};function V0(r,e,n){!e&&!Yv[r]&&(Yv[r]=!0,Qn(!1,n))}U.memo(Yb);function Yb({routes:r,future:e,state:n,unstable_onError:s}){return M0(r,void 0,n,s,e)}function Xb({to:r,replace:e,state:n,relative:s}){ft(Ro(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(Kn);Qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(ci),{pathname:f}=vr(),m=Qh(),g=yp(r,gp(u),f,s==="path"),p=JSON.stringify(g);return U.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function $b(r){return kb(r.context)}function Mi(r){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jb({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ft(!Ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=U.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=bo(n));let{pathname:p="/",search:T="",hash:S="",state:C=null,key:k="default"}=n,F=U.useMemo(()=>{let X=mr(p,m);return X==null?null:{location:{pathname:X,search:T,hash:S,state:C,key:k},navigationType:s}},[m,p,T,S,C,k,s]);return Qn(F!=null,`<Router basename="${m}"> is not able to match the URL "${p}${T}${S}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:U.createElement(Kn.Provider,{value:g},U.createElement(du.Provider,{children:e,value:F}))}function Zb({children:r,location:e}){return Pb(zm(r),e)}function zm(r,e=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,zm(s.props.children,u));return}ft(s.type===Mi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=zm(s.props.children,u)),n.push(f)}),n}var hh="get",fh="application/x-www-form-urlencoded";function Kh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Wb(r){return Kh(r)&&r.tagName.toLowerCase()==="button"}function ew(r){return Kh(r)&&r.tagName.toLowerCase()==="form"}function tw(r){return Kh(r)&&r.tagName.toLowerCase()==="input"}function nw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function iw(r,e){return r.button===0&&(!e||e==="_self")&&!nw(r)}var ih=null;function rw(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var sw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wm(r){return r!=null&&!sw.has(r)?(Qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):r}function aw(r,e){let n,s,o,u,f;if(ew(r)){let m=r.getAttribute("action");s=m?mr(m,e):null,n=r.getAttribute("method")||hh,o=wm(r.getAttribute("enctype"))||fh,u=new FormData(r)}else if(Wb(r)||tw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?mr(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||hh,o=wm(r.getAttribute("formenctype"))||wm(m.getAttribute("enctype"))||fh,u=new FormData(m,r),!rw()){let{name:p,type:T,value:S}=r;if(T==="image"){let C=p?`${p}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else p&&u.append(p,S)}}else{if(Kh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hh,s=null,o=fh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ow(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&mr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function lw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function cw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await lw(u,n);return f.links?f.links():[]}return[]}));return mw(s.flat(1).filter(uw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Xv(r,e,n,s,o,u){let f=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let T=s.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function hw(r,e,{includeHydrateFallback:n}={}){return fw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function fw(r){return[...new Set(r)]}function dw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function mw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(dw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function k0(){let r=U.useContext(wo);return Tp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function pw(){let r=U.useContext(Gh);return Tp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Sp=U.createContext(void 0);Sp.displayName="FrameworkContext";function P0(){let r=U.useContext(Sp);return Tp(r,"You must render this element inside a <HydratedRouter> element"),r}function gw(r,e){let n=U.useContext(Sp),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:T,onTouchStart:S}=e,C=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=Y=>{Y.forEach(ie=>{f(ie.isIntersecting)})},L=new IntersectionObserver(X,{threshold:.5});return C.current&&L.observe(C.current),()=>{L.disconnect()}}},[r]),U.useEffect(()=>{if(s){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[s]);let k=()=>{o(!0)},F=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,C,{}]:[u,C,{onFocus:Bl(m,k),onBlur:Bl(g,F),onMouseEnter:Bl(p,k),onMouseLeave:Bl(T,F),onTouchStart:Bl(S,k)}]:[!1,C,{}]}function Bl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function yw({page:r,...e}){let{router:n}=k0(),s=U.useMemo(()=>R0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(vw,{page:r,matches:s,...e}):null}function _w(r){let{manifest:e,routeModules:n}=P0(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return cw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function vw({page:r,matches:e,...n}){let s=vr(),{manifest:o,routeModules:u}=P0(),{basename:f}=k0(),{loaderData:m,matches:g}=pw(),p=U.useMemo(()=>Xv(r,e,g,o,s,"data"),[r,e,g,o,s]),T=U.useMemo(()=>Xv(r,e,g,o,s,"assets"),[r,e,g,o,s]),S=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,X=!1;if(e.forEach(Y=>{let ie=o.routes[Y.route.id];!ie||!ie.hasLoader||(!p.some(re=>re.route.id===Y.route.id)&&Y.route.id in m&&u[Y.route.id]?.shouldRevalidate||ie.hasClientLoader?X=!0:F.add(Y.route.id))}),F.size===0)return[];let L=ow(r,f,"data");return X&&F.size>0&&L.searchParams.set("_routes",e.filter(Y=>F.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[L.pathname+L.search]},[f,m,s,o,p,e,r,u]),C=U.useMemo(()=>hw(T,o),[T,o]),k=_w(T);return U.createElement(U.Fragment,null,S.map(F=>U.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),C.map(F=>U.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),k.map(({key:F,link:X})=>U.createElement("link",{key:F,nonce:n.nonce,...X})))}function Ew(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var L0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{L0&&(window.__reactRouterVersion="7.10.1")}catch{}function Tw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=U.useRef();o.current==null&&(o.current=ib({window:s,v5Compat:!0}));let u=o.current,[f,m]=U.useState({action:u.action,location:u.location}),g=U.useCallback(p=>{n===!1?m(p):U.startTransition(()=>m(p))},[n]);return U.useLayoutEffect(()=>u.listen(g),[u,g]),U.createElement(Jb,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n===!0})}var j0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lr=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:T,viewTransition:S,...C},k){let{basename:F,unstable_useTransitions:X}=U.useContext(Kn),L=typeof p=="string"&&j0.test(p),Y,ie=!1;if(typeof p=="string"&&L&&(Y=p,L0))try{let O=new URL(window.location.href),R=p.startsWith("//")?new URL(O.protocol+p):new URL(p),M=mr(R.pathname,F);R.origin===O.origin&&M!=null?p=M+R.search+R.hash:ie=!0}catch{Qn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=Ob(p,{relative:o}),[Z,le,me]=gw(s,C),D=ww(p,{replace:f,state:m,target:g,preventScrollReset:T,relative:o,viewTransition:S,unstable_useTransitions:X});function w(O){e&&e(O),O.defaultPrevented||D(O)}let I=U.createElement("a",{...C,...me,href:Y||re,onClick:ie||u?e:w,ref:Ew(k,le),target:g,"data-discover":!L&&n==="render"?"true":void 0});return Z&&!L?U.createElement(U.Fragment,null,I,U.createElement(yw,{page:re})):I});lr.displayName="Link";var Sw=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...p},T){let S=mu(f,{relative:p.relative}),C=vr(),k=U.useContext(Gh),{navigator:F,basename:X}=U.useContext(Kn),L=k!=null&&Dw(S)&&m===!0,Y=F.encodeLocation?F.encodeLocation(S).pathname:S.pathname,ie=C.pathname,re=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),re=re?re.toLowerCase():null,Y=Y.toLowerCase()),re&&X&&(re=mr(re,X)||re);const Z=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let le=ie===Y||!o&&ie.startsWith(Y)&&ie.charAt(Z)==="/",me=re!=null&&(re===Y||!o&&re.startsWith(Y)&&re.charAt(Y.length)==="/"),D={isActive:le,isPending:me,isTransitioning:L},w=le?e:void 0,I;typeof s=="function"?I=s(D):I=[s,le?"active":null,me?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(D):u;return U.createElement(lr,{...p,"aria-current":w,className:I,ref:T,style:O,to:f,viewTransition:m},typeof g=="function"?g(D):g)});Sw.displayName="NavLink";var Aw=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=hh,action:m,onSubmit:g,relative:p,preventScrollReset:T,viewTransition:S,...C},k)=>{let{unstable_useTransitions:F}=U.useContext(Kn),X=Iw(),L=Nw(m,{relative:p}),Y=f.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&j0.test(m),re=Z=>{if(g&&g(Z),Z.defaultPrevented)return;Z.preventDefault();let le=Z.nativeEvent.submitter,me=le?.getAttribute("formmethod")||f,D=()=>X(le||Z.currentTarget,{fetcherKey:e,method:me,navigate:n,replace:o,state:u,relative:p,preventScrollReset:T,viewTransition:S});F&&n!==!1?U.startTransition(()=>D()):D()};return U.createElement("form",{ref:k,method:Y,action:L,onSubmit:s?g:re,...C,"data-discover":!ie&&r==="render"?"true":void 0})});Aw.displayName="Form";function bw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U0(r){let e=U.useContext(wo);return ft(e,bw(r)),e}function ww(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:m}={}){let g=Qh(),p=vr(),T=mu(r,{relative:u});return U.useCallback(S=>{if(iw(S,e)){S.preventDefault();let C=n!==void 0?n:eu(p)===eu(T),k=()=>g(r,{replace:C,state:s,preventScrollReset:o,relative:u,viewTransition:f});m?U.startTransition(()=>k()):k()}},[p,g,T,n,s,e,r,o,u,f,m])}var Rw=0,Cw=()=>`__${String(++Rw)}__`;function Iw(){let{router:r}=U0("useSubmit"),{basename:e}=U.useContext(Kn),n=Gb(),s=r.fetch,o=r.navigate;return U.useCallback(async(u,f={})=>{let{action:m,method:g,encType:p,formData:T,body:S}=aw(u,e);if(f.navigate===!1){let C=f.fetcherKey||Cw();await s(C,n,f.action||m,{preventScrollReset:f.preventScrollReset,formData:T,body:S,formMethod:f.method||g,formEncType:f.encType||p,flushSync:f.flushSync})}else await o(f.action||m,{preventScrollReset:f.preventScrollReset,formData:T,body:S,formMethod:f.method||g,formEncType:f.encType||p,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function Nw(r,{relative:e}={}){let{basename:n}=U.useContext(Kn),s=U.useContext(ci);ft(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...mu(r||".",{relative:e})},f=vr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(T=>T==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:hr([n,u.pathname])),eu(u)}function Dw(r,{relative:e}={}){let n=U.useContext(D0);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=U0("useViewTransitionState"),o=mu(r,{relative:e});if(!n.isTransitioning)return!1;let u=mr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=mr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ah(o.pathname,f)!=null||Ah(o.pathname,u)!=null}const xw=()=>{};var $v={};const z0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Ow=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},B0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,T=u>>2,S=(u&3)<<4|m>>4;let C=(m&15)<<2|p>>6,k=p&63;g||(k=64,f||(C=64)),s.push(n[T],n[S],n[C],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(z0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Ow(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||S==null)throw new Mw;const C=u<<2|m>>4;if(s.push(C),p!==64){const k=m<<4&240|p>>2;if(s.push(k),S!==64){const F=p<<6&192|S;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Mw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vw=function(r){const e=z0(r);return B0.encodeByteArray(e,!0)},bh=function(r){return Vw(r).replace(/\./g,"")},q0=function(r){try{return B0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Pw=()=>kw().__FIREBASE_DEFAULTS__,Lw=()=>{if(typeof process>"u"||typeof $v>"u")return;const r=$v.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},jw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&q0(r[1]);return e&&JSON.parse(e)},Yh=()=>{try{return xw()||Pw()||Lw()||jw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},H0=r=>Yh()?.emulatorHosts?.[r],Uw=r=>{const e=H0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},F0=()=>Yh()?.config,G0=r=>Yh()?.[`_${r}`];class zw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Q0(r){return(await fetch(r,{credentials:"include"})).ok}function Bw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[bh(JSON.stringify(n)),bh(JSON.stringify(f)),""].join(".")}const Yl={};function qw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Yl))Yl[e]?r.emulator.push(e):r.prod.push(e);return r}function Hw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Jv=!1;function K0(r,e){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||Yl[r]===e||Yl[r]||Jv)return;Yl[r]=e;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",u=qw().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function g(C,k){C.setAttribute("width","24"),C.setAttribute("id",k),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function p(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Jv=!0,f()},C}function T(C,k){C.setAttribute("id",k),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function S(){const C=Hw(s),k=n("text"),F=document.getElementById(k)||document.createElement("span"),X=n("learnmore"),L=document.getElementById(X)||document.createElement("a"),Y=n("preprendIcon"),ie=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const re=C.element;m(re),T(L,X);const Z=p();g(ie,Y),re.append(ie,F,L,Z),document.body.appendChild(re)}u?(F.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function Gw(){const r=Yh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Qw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Yw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xw(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function $w(){return!Gw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jw(){try{return typeof indexedDB=="object"}catch{return!1}}function Zw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Ww="FirebaseError";class Er extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Ww,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?eR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Er(o,m,s)}}function eR(r,e){return r.replace(tR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const tR=/\{\$([^}]+)}/g;function nR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ta(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Zv(u)&&Zv(f)){if(!ta(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Zv(r){return r!==null&&typeof r=="object"}function gu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ql(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Hl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function iR(r,e){const n=new rR(r,e);return n.subscribe.bind(n)}class rR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");sR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Rm),o.error===void 0&&(o.error=Rm),o.complete===void 0&&(o.complete=Rm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Rm(){}function Ft(r){return r&&r._delegate?r._delegate:r}class na{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zs="[DEFAULT]";class aR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new zw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lR(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:oR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oR(r){return r===Zs?void 0:r}function lR(r){return r.instantiationMode==="EAGER"}class uR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const cR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},hR=Me.INFO,fR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},dR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=fR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ap{constructor(e){this.name=e,this._logLevel=hR,this._logHandler=dR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const mR=(r,e)=>e.some(n=>r instanceof n);let Wv,eE;function pR(){return Wv||(Wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gR(){return eE||(eE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y0=new WeakMap,Bm=new WeakMap,X0=new WeakMap,Cm=new WeakMap,bp=new WeakMap;function yR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(as(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Y0.set(n,r)}).catch(()=>{}),bp.set(e,r),e}function _R(r){if(Bm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Bm.set(r,e)}let qm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Bm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||X0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function vR(r){qm=r(qm)}function ER(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Im(this),e,...n);return X0.set(s,e.sort?e.sort():[e]),as(s)}:gR().includes(r)?function(...e){return r.apply(Im(this),e),as(Y0.get(this))}:function(...e){return as(r.apply(Im(this),e))}}function TR(r){return typeof r=="function"?ER(r):(r instanceof IDBTransaction&&_R(r),mR(r,pR())?new Proxy(r,qm):r)}function as(r){if(r instanceof IDBRequest)return yR(r);if(Cm.has(r))return Cm.get(r);const e=TR(r);return e!==r&&(Cm.set(r,e),bp.set(e,r)),e}const Im=r=>bp.get(r);function SR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=as(f);return s&&f.addEventListener("upgradeneeded",g=>{s(as(f.result),g.oldVersion,g.newVersion,as(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const AR=["get","getKey","getAll","getAllKeys","count"],bR=["put","add","delete","clear"],Nm=new Map;function tE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=bR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||AR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Nm.set(e,u),u}vR(r=>({...r,get:(e,n,s)=>tE(e,n)||r.get(e,n,s),has:(e,n)=>!!tE(e,n)||r.has(e,n)}));class wR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function RR(r){return r.getComponent()?.type==="VERSION"}const Hm="@firebase/app",nE="0.14.6";const pr=new Ap("@firebase/app"),CR="@firebase/app-compat",IR="@firebase/analytics-compat",NR="@firebase/analytics",DR="@firebase/app-check-compat",xR="@firebase/app-check",OR="@firebase/auth",MR="@firebase/auth-compat",VR="@firebase/database",kR="@firebase/data-connect",PR="@firebase/database-compat",LR="@firebase/functions",jR="@firebase/functions-compat",UR="@firebase/installations",zR="@firebase/installations-compat",BR="@firebase/messaging",qR="@firebase/messaging-compat",HR="@firebase/performance",FR="@firebase/performance-compat",GR="@firebase/remote-config",QR="@firebase/remote-config-compat",KR="@firebase/storage",YR="@firebase/storage-compat",XR="@firebase/firestore",$R="@firebase/ai",JR="@firebase/firestore-compat",ZR="firebase",WR="12.6.0";const Fm="[DEFAULT]",eC={[Hm]:"fire-core",[CR]:"fire-core-compat",[NR]:"fire-analytics",[IR]:"fire-analytics-compat",[xR]:"fire-app-check",[DR]:"fire-app-check-compat",[OR]:"fire-auth",[MR]:"fire-auth-compat",[VR]:"fire-rtdb",[kR]:"fire-data-connect",[PR]:"fire-rtdb-compat",[LR]:"fire-fn",[jR]:"fire-fn-compat",[UR]:"fire-iid",[zR]:"fire-iid-compat",[BR]:"fire-fcm",[qR]:"fire-fcm-compat",[HR]:"fire-perf",[FR]:"fire-perf-compat",[GR]:"fire-rc",[QR]:"fire-rc-compat",[KR]:"fire-gcs",[YR]:"fire-gcs-compat",[XR]:"fire-fst",[JR]:"fire-fst-compat",[$R]:"fire-vertex","fire-js":"fire-js",[ZR]:"fire-js-all"};const wh=new Map,tC=new Map,Gm=new Map;function iE(r,e){try{r.container.addComponent(e)}catch(n){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function fo(r){const e=r.name;if(Gm.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,r);for(const n of wh.values())iE(n,r);for(const n of tC.values())iE(n,r);return!0}function wp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Hn(r){return r==null?!1:r.settings!==void 0}const nC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new pu("app","Firebase",nC);class iC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}const Io=WR;function $0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Fm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw os.create("bad-app-name",{appName:String(o)});if(n||(n=F0()),!n)throw os.create("no-options");const u=wh.get(o);if(u){if(ta(n,u.options)&&ta(s,u.config))return u;throw os.create("duplicate-app",{appName:o})}const f=new uR(o);for(const g of Gm.values())f.addComponent(g);const m=new iC(n,s,f);return wh.set(o,m),m}function J0(r=Fm){const e=wh.get(r);if(!e&&r===Fm&&F0())return $0();if(!e)throw os.create("no-app",{appName:r});return e}function ls(r,e,n){let s=eC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(f.join(" "));return}fo(new na(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const rC="firebase-heartbeat-database",sC=1,tu="firebase-heartbeat-store";let Dm=null;function Z0(){return Dm||(Dm=SR(rC,sC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(r=>{throw os.create("idb-open",{originalErrorMessage:r.message})})),Dm}async function aC(r){try{const n=(await Z0()).transaction(tu),s=await n.objectStore(tu).get(W0(r));return await n.done,s}catch(e){if(e instanceof Er)pr.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e?.message});pr.warn(n.message)}}}async function rE(r,e){try{const s=(await Z0()).transaction(tu,"readwrite");await s.objectStore(tu).put(e,W0(r)),await s.done}catch(n){if(n instanceof Er)pr.warn(n.message);else{const s=os.create("idb-set",{originalErrorMessage:n?.message});pr.warn(s.message)}}}function W0(r){return`${r.name}!${r.options.appId}`}const oC=1024,lC=30;class uC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>lC){const o=fC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sE(),{heartbeatsToSend:n,unsentEntries:s}=cC(this._heartbeatsCache.heartbeats),o=bh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return pr.warn(e),""}}}function sE(){return new Date().toISOString().substring(0,10)}function cC(r,e=oC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),aE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),aE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class hC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jw()?Zw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return rE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return rE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function aE(r){return bh(JSON.stringify({version:2,heartbeats:r})).length}function fC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function dC(r){fo(new na("platform-logger",e=>new wR(e),"PRIVATE")),fo(new na("heartbeat",e=>new uC(e),"PRIVATE")),ls(Hm,nE,r),ls(Hm,nE,"esm2020"),ls("fire-js","")}dC("");var mC="firebase",pC="12.7.0";ls(mC,pC,"app");function eT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gC=eT,tT=new pu("auth","Firebase",eT());const Rh=new Ap("@firebase/auth");function yC(r,...e){Rh.logLevel<=Me.WARN&&Rh.warn(`Auth (${Io}): ${r}`,...e)}function dh(r,...e){Rh.logLevel<=Me.ERROR&&Rh.error(`Auth (${Io}): ${r}`,...e)}function oi(r,...e){throw Rp(r,...e)}function ki(r,...e){return Rp(r,...e)}function nT(r,e,n){const s={...gC(),[e]:n};return new pu("auth","Firebase",s).create(e,{appName:r.name})}function fr(r){return nT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return tT.create(r,...e)}function ve(r,e,...n){if(!r)throw Rp(e,...n)}function ur(r){const e="INTERNAL ASSERTION FAILED: "+r;throw dh(e),new Error(e)}function gr(r,e){r||ur(e)}function Qm(){return typeof self<"u"&&self.location?.href||""}function _C(){return oE()==="http:"||oE()==="https:"}function oE(){return typeof self<"u"&&self.location?.protocol||null}function vC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_C()||Kw()||"connection"in navigator)?navigator.onLine:!0}function EC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,gr(n>e,"Short delay should be less than long delay!"),this.isMobile=Fw()||Yw()}get(){return vC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cp(r,e){gr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class iT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const TC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AC=new yu(3e4,6e4);function ys(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function _s(r,e,n,s,o={}){return rT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=gu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...u};return Qw()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Co(r.emulatorConfig.host)&&(p.credentials="include"),iT.fetch()(await sT(r,r.config.apiHost,n,m),p)})}async function rT(r,e,n){r._canInitEmulator=!1;const s={...TC,...e};try{const o=new wC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw rh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw rh(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw rh(r,"user-disabled",f);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw nT(r,T,p);oi(r,T)}}catch(o){if(o instanceof Er)throw o;oi(r,"network-request-failed",{message:String(o)})}}async function _u(r,e,n,s,o={}){const u=await _s(r,e,n,s,o);return"mfaPendingCredential"in u&&oi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function sT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Cp(r.config,o):`${r.config.apiScheme}://${o}`;return SC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function bC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ki(this.auth,"network-request-failed")),AC.get())})}}function rh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ki(r,e,s);return o.customData._tokenResponse=n,o}function lE(r){return r!==void 0&&r.enterprise!==void 0}class RC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CC(r,e){return _s(r,"GET","/v2/recaptchaConfig",ys(r,e))}async function IC(r,e){return _s(r,"POST","/v1/accounts:delete",e)}async function Ch(r,e){return _s(r,"POST","/v1/accounts:lookup",e)}function Xl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NC(r,e=!1){const n=Ft(r),s=await n.getIdToken(e),o=Ip(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Xl(xm(o.auth_time)),issuedAtTime:Xl(xm(o.iat)),expirationTime:Xl(xm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function xm(r){return Number(r)*1e3}function Ip(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=q0(n);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function uE(r){const e=Ip(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function nu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Er&&DC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function DC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class xC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Km{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ih(r){const e=r.auth,n=await r.getIdToken(),s=await nu(r,Ch(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?aT(o.providerUserInfo):[],f=MC(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,p=m?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,T)}async function OC(r){const e=Ft(r);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function aT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function VC(r,e){const n=await rT(r,{},async()=>{const s=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await sT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Co(r.emulatorConfig.host)&&(g.credentials="include"),iT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kC(r,e){return _s(r,"POST","/v2/accounts:revokeToken",ys(r,e))}class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=uE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await VC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new oo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return ur("not implemented")}}function es(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new xC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Km(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await nu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NC(this,e)}reload(){return OC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await nu(this,IC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:C,isAnonymous:k,providerData:F,stsTokenManager:X}=n;ve(S&&X,e,"internal-error");const L=oo.fromJSON(this.name,X);ve(typeof S=="string",e,"internal-error"),es(s,e.name),es(o,e.name),ve(typeof C=="boolean",e,"internal-error"),ve(typeof k=="boolean",e,"internal-error"),es(u,e.name),es(f,e.name),es(m,e.name),es(g,e.name),es(p,e.name),es(T,e.name);const Y=new ai({uid:S,auth:e,email:o,emailVerified:C,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:L,createdAt:p,lastLoginAt:T});return F&&Array.isArray(F)&&(Y.providerData=F.map(ie=>({...ie}))),g&&(Y._redirectEventId=g),Y}static async _fromIdTokenResponse(e,n,s=!1){const o=new oo;o.updateFromServerResponse(n);const u=new ai({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ih(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?aT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new oo;m.updateFromIdToken(s);const g=new ai({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const cE=new Map;function cr(r){gr(r instanceof Function,"Expected a class definition");let e=cE.get(r);return e?(gr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,cE.set(r,e),e)}class oT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oT.type="NONE";const hE=oT;function mh(r,e,n){return`firebase:${r}:${e}:${n}`}class lo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=mh(this.userKey,o.apiKey,u),this.fullPersistenceKey=mh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ch(this.auth,{idToken:e}).catch(()=>{});return n?ai._fromGetAccountInfoResponse(this.auth,n,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new lo(cr(hE),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||cr(hE);const f=mh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const T=await p._get(f);if(T){let S;if(typeof T=="string"){const C=await Ch(e,{idToken:T}).catch(()=>{});if(!C)break;S=await ai._fromGetAccountInfoResponse(e,C,T)}else S=ai._fromJSON(e,T);p!==u&&(m=S),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new lo(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new lo(u,e,s))}}function fE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dT(e))return"Blackberry";if(mT(e))return"Webos";if(uT(e))return"Safari";if((e.includes("chrome/")||cT(e))&&!e.includes("edge/"))return"Chrome";if(fT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function lT(r=an()){return/firefox\//i.test(r)}function uT(r=an()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cT(r=an()){return/crios\//i.test(r)}function hT(r=an()){return/iemobile/i.test(r)}function fT(r=an()){return/android/i.test(r)}function dT(r=an()){return/blackberry/i.test(r)}function mT(r=an()){return/webos/i.test(r)}function Np(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function PC(r=an()){return Np(r)&&!!window.navigator?.standalone}function LC(){return Xw()&&document.documentMode===10}function pT(r=an()){return Np(r)||fT(r)||mT(r)||dT(r)||/windows phone/i.test(r)||hT(r)}function gT(r,e=[]){let n;switch(r){case"Browser":n=fE(an());break;case"Worker":n=`${fE(an())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Io}/${s}`}class jC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function UC(r,e={}){return _s(r,"GET","/v2/passwordPolicy",ys(r,e))}const zC=6;class BC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class qC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dE(this),this.idTokenSubscription=new dE(this),this.beforeStateQueue=new jC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ch(this,{idToken:e}),s=await ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Hn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(fr(this));const n=e?Ft(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UC(this),n=new BC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await kC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function oa(r){return Ft(r)}class dE{constructor(e){this.auth=e,this.observer=null,this.addObserver=iR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HC(r){Xh=r}function yT(r){return Xh.loadJS(r)}function FC(){return Xh.recaptchaEnterpriseScript}function GC(){return Xh.gapiScript}function QC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class KC{constructor(){this.enterprise=new YC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class YC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const XC="recaptcha-enterprise",_T="NO_RECAPTCHA";class $C{constructor(e){this.type=XC,this.auth=oa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{CC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new RC(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,f(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;lE(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{f(p)}).catch(()=>{f(_T)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&lE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=FC();g.length!==0&&(g+=m),yT(g).then(()=>{o(m,u,f)}).catch(p=>{f(p)})}}).catch(m=>{f(m)})})}}async function mE(r,e,n,s=!1,o=!1){const u=new $C(r);let f;if(o)f=_T;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Ym(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await mE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await mE(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function JC(r,e){const n=wp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ta(u,e??{}))return o;oi(o,"already-initialized")}return n.initialize({options:e})}function ZC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(cr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function WC(r,e,n){const s=oa(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=vT(e),{host:f,port:m}=e2(e),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(ta(p,s.config.emulator)&&ta(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Co(f)?(Q0(`${u}//${f}${g}`),K0("Auth",!0)):t2()}function vT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function e2(r){const e=vT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:pE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:pE(f)}}}function pE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function t2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Dp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function n2(r,e){return _s(r,"POST","/v1/accounts:signUp",e)}async function i2(r,e){return _u(r,"POST","/v1/accounts:signInWithPassword",ys(r,e))}async function r2(r,e){return _u(r,"POST","/v1/accounts:signInWithEmailLink",ys(r,e))}async function s2(r,e){return _u(r,"POST","/v1/accounts:signInWithEmailLink",ys(r,e))}class iu extends Dp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new iu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new iu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ym(e,n,"signInWithPassword",i2);case"emailLink":return r2(e,{email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ym(e,s,"signUpPassword",n2);case"emailLink":return s2(e,{idToken:n,email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function uo(r,e){return _u(r,"POST","/v1/accounts:signInWithIdp",ys(r,e))}const a2="http://localhost";class ia extends Dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ia(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,uo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:a2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}function o2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function l2(r){const e=ql(Hl(r)).link,n=e?ql(Hl(e)).deep_link_id:null,s=ql(Hl(r)).deep_link_id;return(s?ql(Hl(s)).link:null)||s||n||e||r}class xp{constructor(e){const n=ql(Hl(e)),s=n.apiKey??null,o=n.oobCode??null,u=o2(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=l2(e);try{return new xp(n)}catch{return null}}}class No{constructor(){this.providerId=No.PROVIDER_ID}static credential(e,n){return iu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=xp.parseLink(n);return ve(s,"argument-error"),iu._fromEmailAndCode(e,s.code,s.tenantId)}}No.PROVIDER_ID="password";No.EMAIL_PASSWORD_SIGN_IN_METHOD="password";No.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ET{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vu extends ET{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ts extends vu{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";class ns extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ia._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";class is extends vu{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";class rs extends vu{constructor(){super("twitter.com")}static credential(e,n){return ia._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";async function u2(r,e){return _u(r,"POST","/v1/accounts:signUp",ys(r,e))}class ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ai._fromIdTokenResponse(e,s,o),f=gE(s);return new ra({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=gE(s);return new ra({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function gE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Nh extends Er{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Nh(e,n,s,o)}}function TT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(r,u,e,s):u})}async function c2(r,e,n=!1){const s=await nu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ra._forOperation(r,"link",s)}async function h2(r,e,n=!1){const{auth:s}=r;if(Hn(s.app))return Promise.reject(fr(s));const o="reauthenticate";try{const u=await nu(r,TT(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=Ip(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),ra._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&oi(s,"user-mismatch"),u}}async function ST(r,e,n=!1){if(Hn(r.app))return Promise.reject(fr(r));const s="signIn",o=await TT(r,s,e),u=await ra._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function f2(r,e){return ST(oa(r),e)}async function AT(r){const e=oa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function d2(r,e,n){if(Hn(r.app))return Promise.reject(fr(r));const s=oa(r),f=await Ym(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",u2).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&AT(r),g}),m=await ra._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function m2(r,e,n){return Hn(r.app)?Promise.reject(fr(r)):f2(Ft(r),No.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&AT(r),s})}function p2(r,e,n,s){return Ft(r).onIdTokenChanged(e,n,s)}function g2(r,e,n){return Ft(r).beforeAuthStateChanged(e,n)}function y2(r,e,n,s){return Ft(r).onAuthStateChanged(e,n,s)}function _2(r){return Ft(r).signOut()}const Dh="__sak";class bT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const v2=1e3,E2=10;class wT extends bT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);LC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,E2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},v2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wT.type="LOCAL";const T2=wT;class RT extends bT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RT.type="SESSION";const CT=RT;function S2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new $h(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await S2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];function Op(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class A2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=Op("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const C=S;if(C.data.eventId===p)switch(C.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Pi(){return window}function b2(r){Pi().location.href=r}function IT(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function w2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function R2(){return navigator?.serviceWorker?.controller||null}function C2(){return IT()?self:null}const NT="firebaseLocalStorageDb",I2=1,xh="firebaseLocalStorage",DT="fbase_key";class Eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(r,e){return r.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function N2(){const r=indexedDB.deleteDatabase(NT);return new Eu(r).toPromise()}function Xm(){const r=indexedDB.open(NT,I2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(xh,{keyPath:DT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(xh)?e(s):(s.close(),await N2(),e(await Xm()))})})}async function yE(r,e,n){const s=Jh(r,!0).put({[DT]:e,value:n});return new Eu(s).toPromise()}async function D2(r,e){const n=Jh(r,!1).get(e),s=await new Eu(n).toPromise();return s===void 0?null:s.value}function _E(r,e){const n=Jh(r,!0).delete(e);return new Eu(n).toPromise()}const x2=800,O2=3;class xT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>O2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(C2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await w2(),!this.activeServiceWorker)return;this.sender=new A2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||R2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xm();return await yE(e,Dh,"1"),await _E(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>yE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>D2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_E(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Jh(o,!1).getAll();return new Eu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xT.type="LOCAL";const M2=xT;new yu(3e4,6e4);function V2(r,e){return e?cr(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Mp extends Dp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function k2(r){return ST(r.auth,new Mp(r),r.bypassAuthState)}function P2(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),h2(n,new Mp(r),r.bypassAuthState)}async function L2(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),c2(n,new Mp(r),r.bypassAuthState)}class OT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k2;case"linkViaPopup":case"linkViaRedirect":return L2;case"reauthViaPopup":case"reauthViaRedirect":return P2;default:oi(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const j2=new yu(2e3,1e4);class ao extends OT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=Op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j2.get())};e()}}ao.currentPopupAction=null;const U2="pendingRedirect",ph=new Map;class z2 extends OT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const s=await B2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B2(r,e){const n=F2(e),s=H2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function q2(r,e){ph.set(r._key(),e)}function H2(r){return cr(r._redirectPersistence)}function F2(r){return mh(U2,r.config.apiKey,r.name)}async function G2(r,e,n=!1){if(Hn(r.app))return Promise.reject(fr(r));const s=oa(r),o=V2(s,e),f=await new z2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const Q2=600*1e3;class K2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!MT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ki(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q2&&this.cachedEventUids.clear(),this.cachedEventUids.has(vE(e))}saveEventToCache(e){this.cachedEventUids.add(vE(e)),this.lastProcessedEventTime=Date.now()}}function vE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function MT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Y2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MT(r);default:return!1}}async function X2(r,e={}){return _s(r,"GET","/v1/projects",e)}const $2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,J2=/^https?/;async function Z2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await X2(r);for(const n of e)try{if(W2(n))return}catch{}oi(r,"unauthorized-domain")}function W2(r){const e=Qm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!J2.test(n))return!1;if($2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const eI=new yu(3e4,6e4);function EE(){const r=Pi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function tI(r){return new Promise((e,n)=>{function s(){EE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EE(),n(ki(r,"network-request-failed"))},timeout:eI.get()})}if(Pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pi().gapi?.load)s();else{const o=QC("iframefcb");return Pi()[o]=()=>{gapi.load?s():n(ki(r,"network-request-failed"))},yT(`${GC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw gh=null,e})}let gh=null;function nI(r){return gh=gh||tI(r),gh}const iI=new yu(5e3,15e3),rI="__/auth/iframe",sI="emulator/auth/iframe",aI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lI(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Cp(e,sI):`https://${r.config.authDomain}/${rI}`,s={apiKey:e.apiKey,appName:r.name,v:Io},o=oI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${gu(s).slice(1)}`}async function uI(r){const e=await nI(r),n=Pi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:lI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ki(r,"network-request-failed"),m=Pi().setTimeout(()=>{u(f)},iI.get());function g(){Pi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const cI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hI=500,fI=600,dI="_blank",mI="http://localhost";class TE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pI(r,e,n,s=hI,o=fI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...cI,width:s.toString(),height:o.toString(),top:u,left:f},p=an().toLowerCase();n&&(m=cT(p)?dI:n),lT(p)&&(e=e||mI,g.scrollbars="yes");const T=Object.entries(g).reduce((C,[k,F])=>`${C}${k}=${F},`,"");if(PC(p)&&m!=="_self")return gI(e||"",m),new TE(null);const S=window.open(e||"",m,T);ve(S,r,"popup-blocked");try{S.focus()}catch{}return new TE(S)}function gI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const yI="__/auth/handler",_I="emulator/auth/handler",vI=encodeURIComponent("fac");async function SE(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Io,eventId:o};if(e instanceof ET){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",nR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))f[T]=S}if(e instanceof vu){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=await r._getAppCheckToken(),p=g?`#${vI}=${encodeURIComponent(g)}`:"";return`${EI(r)}?${gu(m).slice(1)}${p}`}function EI({config:r}){return r.emulator?Cp(r,_I):`https://${r.authDomain}/${yI}`}const Om="webStorageSupport";class TI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CT,this._completeRedirectFn=G2,this._overrideRedirectResult=q2}async _openPopup(e,n,s,o){gr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await SE(e,n,s,Qm(),o);return pI(e,u,Op())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await SE(e,n,s,Qm(),o);return b2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(gr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await uI(e),s=new K2(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},o=>{const u=o?.[0]?.[Om];u!==void 0&&n(!!u),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Z2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pT()||uT()||Np()}}const SI=TI;var AE="@firebase/auth",bE="1.12.0";class AI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wI(r){fo(new na("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gT(r)},p=new qC(s,o,u,g);return ZC(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),fo(new na("auth-internal",e=>{const n=oa(e.getProvider("auth").getImmediate());return(s=>new AI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ls(AE,bE,bI(r)),ls(AE,bE,"esm2020")}const RI=300,CI=G0("authIdTokenMaxAge")||RI;let wE=null;const II=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>CI)return;const o=n?.token;wE!==o&&(wE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function NI(r=J0()){const e=wp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=JC(r,{popupRedirectResolver:SI,persistence:[M2,T2,CT]}),s=G0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=II(u.toString());g2(n,f,()=>f(n.currentUser)),p2(n,m=>f(m))}}const o=H0("auth");return o&&WC(n,`http://${o}`),n}function DI(){return document.getElementsByTagName("head")?.[0]??document}HC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ki("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",DI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wI("Browser");var RE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var us,VT;(function(){var r;function e(D,w){function I(){}I.prototype=w.prototype,D.F=w.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(O,R,M){for(var N=Array(arguments.length-2),He=2;He<arguments.length;He++)N[He-2]=arguments[He];return w.prototype[R].apply(O,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,I){I||(I=0);const O=Array(16);if(typeof w=="string")for(var R=0;R<16;++R)O[R]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(R=0;R<16;++R)O[R]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=D.g[0],I=D.g[1],R=D.g[2];let M=D.g[3],N;N=w+(M^I&(R^M))+O[0]+3614090360&4294967295,w=I+(N<<7&4294967295|N>>>25),N=M+(R^w&(I^R))+O[1]+3905402710&4294967295,M=w+(N<<12&4294967295|N>>>20),N=R+(I^M&(w^I))+O[2]+606105819&4294967295,R=M+(N<<17&4294967295|N>>>15),N=I+(w^R&(M^w))+O[3]+3250441966&4294967295,I=R+(N<<22&4294967295|N>>>10),N=w+(M^I&(R^M))+O[4]+4118548399&4294967295,w=I+(N<<7&4294967295|N>>>25),N=M+(R^w&(I^R))+O[5]+1200080426&4294967295,M=w+(N<<12&4294967295|N>>>20),N=R+(I^M&(w^I))+O[6]+2821735955&4294967295,R=M+(N<<17&4294967295|N>>>15),N=I+(w^R&(M^w))+O[7]+4249261313&4294967295,I=R+(N<<22&4294967295|N>>>10),N=w+(M^I&(R^M))+O[8]+1770035416&4294967295,w=I+(N<<7&4294967295|N>>>25),N=M+(R^w&(I^R))+O[9]+2336552879&4294967295,M=w+(N<<12&4294967295|N>>>20),N=R+(I^M&(w^I))+O[10]+4294925233&4294967295,R=M+(N<<17&4294967295|N>>>15),N=I+(w^R&(M^w))+O[11]+2304563134&4294967295,I=R+(N<<22&4294967295|N>>>10),N=w+(M^I&(R^M))+O[12]+1804603682&4294967295,w=I+(N<<7&4294967295|N>>>25),N=M+(R^w&(I^R))+O[13]+4254626195&4294967295,M=w+(N<<12&4294967295|N>>>20),N=R+(I^M&(w^I))+O[14]+2792965006&4294967295,R=M+(N<<17&4294967295|N>>>15),N=I+(w^R&(M^w))+O[15]+1236535329&4294967295,I=R+(N<<22&4294967295|N>>>10),N=w+(R^M&(I^R))+O[1]+4129170786&4294967295,w=I+(N<<5&4294967295|N>>>27),N=M+(I^R&(w^I))+O[6]+3225465664&4294967295,M=w+(N<<9&4294967295|N>>>23),N=R+(w^I&(M^w))+O[11]+643717713&4294967295,R=M+(N<<14&4294967295|N>>>18),N=I+(M^w&(R^M))+O[0]+3921069994&4294967295,I=R+(N<<20&4294967295|N>>>12),N=w+(R^M&(I^R))+O[5]+3593408605&4294967295,w=I+(N<<5&4294967295|N>>>27),N=M+(I^R&(w^I))+O[10]+38016083&4294967295,M=w+(N<<9&4294967295|N>>>23),N=R+(w^I&(M^w))+O[15]+3634488961&4294967295,R=M+(N<<14&4294967295|N>>>18),N=I+(M^w&(R^M))+O[4]+3889429448&4294967295,I=R+(N<<20&4294967295|N>>>12),N=w+(R^M&(I^R))+O[9]+568446438&4294967295,w=I+(N<<5&4294967295|N>>>27),N=M+(I^R&(w^I))+O[14]+3275163606&4294967295,M=w+(N<<9&4294967295|N>>>23),N=R+(w^I&(M^w))+O[3]+4107603335&4294967295,R=M+(N<<14&4294967295|N>>>18),N=I+(M^w&(R^M))+O[8]+1163531501&4294967295,I=R+(N<<20&4294967295|N>>>12),N=w+(R^M&(I^R))+O[13]+2850285829&4294967295,w=I+(N<<5&4294967295|N>>>27),N=M+(I^R&(w^I))+O[2]+4243563512&4294967295,M=w+(N<<9&4294967295|N>>>23),N=R+(w^I&(M^w))+O[7]+1735328473&4294967295,R=M+(N<<14&4294967295|N>>>18),N=I+(M^w&(R^M))+O[12]+2368359562&4294967295,I=R+(N<<20&4294967295|N>>>12),N=w+(I^R^M)+O[5]+4294588738&4294967295,w=I+(N<<4&4294967295|N>>>28),N=M+(w^I^R)+O[8]+2272392833&4294967295,M=w+(N<<11&4294967295|N>>>21),N=R+(M^w^I)+O[11]+1839030562&4294967295,R=M+(N<<16&4294967295|N>>>16),N=I+(R^M^w)+O[14]+4259657740&4294967295,I=R+(N<<23&4294967295|N>>>9),N=w+(I^R^M)+O[1]+2763975236&4294967295,w=I+(N<<4&4294967295|N>>>28),N=M+(w^I^R)+O[4]+1272893353&4294967295,M=w+(N<<11&4294967295|N>>>21),N=R+(M^w^I)+O[7]+4139469664&4294967295,R=M+(N<<16&4294967295|N>>>16),N=I+(R^M^w)+O[10]+3200236656&4294967295,I=R+(N<<23&4294967295|N>>>9),N=w+(I^R^M)+O[13]+681279174&4294967295,w=I+(N<<4&4294967295|N>>>28),N=M+(w^I^R)+O[0]+3936430074&4294967295,M=w+(N<<11&4294967295|N>>>21),N=R+(M^w^I)+O[3]+3572445317&4294967295,R=M+(N<<16&4294967295|N>>>16),N=I+(R^M^w)+O[6]+76029189&4294967295,I=R+(N<<23&4294967295|N>>>9),N=w+(I^R^M)+O[9]+3654602809&4294967295,w=I+(N<<4&4294967295|N>>>28),N=M+(w^I^R)+O[12]+3873151461&4294967295,M=w+(N<<11&4294967295|N>>>21),N=R+(M^w^I)+O[15]+530742520&4294967295,R=M+(N<<16&4294967295|N>>>16),N=I+(R^M^w)+O[2]+3299628645&4294967295,I=R+(N<<23&4294967295|N>>>9),N=w+(R^(I|~M))+O[0]+4096336452&4294967295,w=I+(N<<6&4294967295|N>>>26),N=M+(I^(w|~R))+O[7]+1126891415&4294967295,M=w+(N<<10&4294967295|N>>>22),N=R+(w^(M|~I))+O[14]+2878612391&4294967295,R=M+(N<<15&4294967295|N>>>17),N=I+(M^(R|~w))+O[5]+4237533241&4294967295,I=R+(N<<21&4294967295|N>>>11),N=w+(R^(I|~M))+O[12]+1700485571&4294967295,w=I+(N<<6&4294967295|N>>>26),N=M+(I^(w|~R))+O[3]+2399980690&4294967295,M=w+(N<<10&4294967295|N>>>22),N=R+(w^(M|~I))+O[10]+4293915773&4294967295,R=M+(N<<15&4294967295|N>>>17),N=I+(M^(R|~w))+O[1]+2240044497&4294967295,I=R+(N<<21&4294967295|N>>>11),N=w+(R^(I|~M))+O[8]+1873313359&4294967295,w=I+(N<<6&4294967295|N>>>26),N=M+(I^(w|~R))+O[15]+4264355552&4294967295,M=w+(N<<10&4294967295|N>>>22),N=R+(w^(M|~I))+O[6]+2734768916&4294967295,R=M+(N<<15&4294967295|N>>>17),N=I+(M^(R|~w))+O[13]+1309151649&4294967295,I=R+(N<<21&4294967295|N>>>11),N=w+(R^(I|~M))+O[4]+4149444226&4294967295,w=I+(N<<6&4294967295|N>>>26),N=M+(I^(w|~R))+O[11]+3174756917&4294967295,M=w+(N<<10&4294967295|N>>>22),N=R+(w^(M|~I))+O[2]+718787259&4294967295,R=M+(N<<15&4294967295|N>>>17),N=I+(M^(R|~w))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+R&4294967295,D.g[3]=D.g[3]+M&4294967295}s.prototype.v=function(D,w){w===void 0&&(w=D.length);const I=w-this.blockSize,O=this.C;let R=this.h,M=0;for(;M<w;){if(R==0)for(;M<=I;)o(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<w;)if(O[R++]=D.charCodeAt(M++),R==this.blockSize){o(this,O),R=0;break}}else for(;M<w;)if(O[R++]=D[M++],R==this.blockSize){o(this,O),R=0;break}}this.h=R,this.o+=w},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,I=0;I<4;++I)for(let O=0;O<32;O+=8)D[w++]=this.g[I]>>>O&255;return D};function u(D,w){var I=m;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=w(D)}function f(D,w){this.h=w;const I=[];let O=!0;for(let R=D.length-1;R>=0;R--){const M=D[R]|0;O&&M==w||(I[R]=M,O=!1)}this.g=I}var m={};function g(D){return-128<=D&&D<128?u(D,function(w){return new f([w|0],w<0?-1:0)}):new f([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return L(p(-D));const w=[];let I=1;for(let O=0;D>=I;O++)w[O]=D/I|0,I*=4294967296;return new f(w,0)}function T(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return L(T(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(w,8));let O=S;for(let M=0;M<D.length;M+=8){var R=Math.min(8,D.length-M);const N=parseInt(D.substring(M,M+R),w);R<8?(R=p(Math.pow(w,R)),O=O.j(R).add(p(N))):(O=O.j(I),O=O.add(p(N)))}return O}var S=g(0),C=g(1),k=g(16777216);r=f.prototype,r.m=function(){if(X(this))return-L(this).m();let D=0,w=1;for(let I=0;I<this.g.length;I++){const O=this.i(I);D+=(O>=0?O:4294967296+O)*w,w*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(F(this))return"0";if(X(this))return"-"+L(this).toString(D);const w=p(Math.pow(D,6));var I=this;let O="";for(;;){const R=Z(I,w).g;I=Y(I,R.j(w));let M=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=R,F(I))return M+O;for(;M.length<6;)M="0"+M;O=M+O}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function F(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function X(D){return D.h==-1}r.l=function(D){return D=Y(this,D),X(D)?-1:F(D)?0:1};function L(D){const w=D.g.length,I=[];for(let O=0;O<w;O++)I[O]=~D.g[O];return new f(I,~D.h).add(C)}r.abs=function(){return X(this)?L(this):this},r.add=function(D){const w=Math.max(this.g.length,D.g.length),I=[];let O=0;for(let R=0;R<=w;R++){let M=O+(this.i(R)&65535)+(D.i(R)&65535),N=(M>>>16)+(this.i(R)>>>16)+(D.i(R)>>>16);O=N>>>16,M&=65535,N&=65535,I[R]=N<<16|M}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Y(D,w){return D.add(L(w))}r.j=function(D){if(F(this)||F(D))return S;if(X(this))return X(D)?L(this).j(L(D)):L(L(this).j(D));if(X(D))return L(this.j(L(D)));if(this.l(k)<0&&D.l(k)<0)return p(this.m()*D.m());const w=this.g.length+D.g.length,I=[];for(var O=0;O<2*w;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(let R=0;R<D.g.length;R++){const M=this.i(O)>>>16,N=this.i(O)&65535,He=D.i(R)>>>16,it=D.i(R)&65535;I[2*O+2*R]+=N*it,ie(I,2*O+2*R),I[2*O+2*R+1]+=M*it,ie(I,2*O+2*R+1),I[2*O+2*R+1]+=N*He,ie(I,2*O+2*R+1),I[2*O+2*R+2]+=M*He,ie(I,2*O+2*R+2)}for(D=0;D<w;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=w;D<2*w;D++)I[D]=0;return new f(I,0)};function ie(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function re(D,w){this.g=D,this.h=w}function Z(D,w){if(F(w))throw Error("division by zero");if(F(D))return new re(S,S);if(X(D))return w=Z(L(D),w),new re(L(w.g),L(w.h));if(X(w))return w=Z(D,L(w)),new re(L(w.g),w.h);if(D.g.length>30){if(X(D)||X(w))throw Error("slowDivide_ only works with positive integers.");for(var I=C,O=w;O.l(D)<=0;)I=le(I),O=le(O);var R=me(I,1),M=me(O,1);for(O=me(O,2),I=me(I,2);!F(O);){var N=M.add(O);N.l(D)<=0&&(R=R.add(I),M=N),O=me(O,1),I=me(I,1)}return w=Y(D,R.j(w)),new re(R,w)}for(R=S;D.l(w)>=0;){for(I=Math.max(1,Math.floor(D.m()/w.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),M=p(I),N=M.j(w);X(N)||N.l(D)>0;)I-=O,M=p(I),N=M.j(w);F(M)&&(M=C),R=R.add(M),D=Y(D,N)}return new re(R,D)}r.B=function(D){return Z(this,D).h},r.and=function(D){const w=Math.max(this.g.length,D.g.length),I=[];for(let O=0;O<w;O++)I[O]=this.i(O)&D.i(O);return new f(I,this.h&D.h)},r.or=function(D){const w=Math.max(this.g.length,D.g.length),I=[];for(let O=0;O<w;O++)I[O]=this.i(O)|D.i(O);return new f(I,this.h|D.h)},r.xor=function(D){const w=Math.max(this.g.length,D.g.length),I=[];for(let O=0;O<w;O++)I[O]=this.i(O)^D.i(O);return new f(I,this.h^D.h)};function le(D){const w=D.g.length+1,I=[];for(let O=0;O<w;O++)I[O]=D.i(O)<<1|D.i(O-1)>>>31;return new f(I,D.h)}function me(D,w){const I=w>>5;w%=32;const O=D.g.length-I,R=[];for(let M=0;M<O;M++)R[M]=w>0?D.i(M+I)>>>w|D.i(M+I+1)<<32-w:D.i(M+I);return new f(R,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,VT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=T,us=f}).apply(typeof RE<"u"?RE:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kT,Fl,PT,yh,$m,LT,jT,UT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in v))break e;v=v[z]}c=c[c.length-1],b=v[c],y=y(b),y!=b&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&v.push([b,y[b]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,v){return c.call.apply(c.bind,arguments)}function p(c,y,v){return p=g,p.apply(null,arguments)}function T(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function S(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,z,G){for(var se=Array(arguments.length-2),we=2;we<arguments.length;we++)se[we-2]=arguments[we];return y.prototype[z].apply(b,se)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const y=c.length;if(y>0){const v=Array(y);for(let b=0;b<y;b++)v[b]=c[b];return v}return[]}function F(c,y){for(let b=1;b<arguments.length;b++){const z=arguments[b];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const G=z.length||0;c.length=v+G;for(let se=0;se<G;se++)c[v+se]=z[se]}else c.push(z)}}class X{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(c){f.setTimeout(()=>{throw c},0)}function Y(){var c=D;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,v){const b=re.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var re=new X(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let le,me=!1,D=new ie,w=()=>{const c=Promise.resolve(void 0);le=()=>{c.then(I)}};function I(){for(var c;c=Y();){try{c.h.call(c.g)}catch(v){L(v)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}me=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function He(c,y){R.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}S(He,R),He.prototype.init=function(c,y){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var it="closure_listenable_"+(Math.random()*1e6|0),K=0;function ae(c,y,v,b,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=z,this.key=++K,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,y,v){for(const b in c)y.call(v,c[b],b,c)}function Ke(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function P(c){const y={};for(const v in c)y[v]=c[v];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let v,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(v in b)c[v]=b[v];for(let G=0;G<te.length;G++)v=te[G],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,y,v,b,z){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const se=Ce(c,y,b,z);return se>-1?(y=c[se],v||(y.fa=!1)):(y=new ae(y,this.src,G,!!b,z),y.fa=v,c.push(y)),y};function Te(c,y){const v=y.type;if(v in c.g){var b=c.g[v],z=Array.prototype.indexOf.call(b,y,void 0),G;(G=z>=0)&&Array.prototype.splice.call(b,z,1),G&&(ye(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,y,v,b){for(let z=0;z<c.length;++z){const G=c[z];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==b)return z}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Pt={};function ut(c,y,v,b,z){if(Array.isArray(y)){for(let G=0;G<y.length;G++)ut(c,y[G],v,b,z);return null}return v=Lo(v),c&&c[it]?c.J(y,v,m(b)?!!b.capture:!1,z):Ts(c,y,v,!1,b,z)}function Ts(c,y,v,b,z,G){if(!y)throw Error("Invalid event type");const se=m(z)?!!z.capture:!!z;let we=Ss(c);if(we||(c[Le]=we=new he(c)),v=we.add(y,v,b,se,G),v.proxy)return v;if(b=fa(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)M||(z=se),z===void 0&&(z=!1),c.addEventListener(y.toString(),b,z);else if(c.attachEvent)c.attachEvent(hi(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function fa(){function c(v){return y.call(c.src,c.listener,v)}const y=ko;return c}function da(c,y,v,b,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)da(c,y[G],v,b,z);else b=m(b)?!!b.capture:!!b,v=Lo(v),c&&c[it]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],v=Ce(y,v,b,z),v>-1&&(ye(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=Ss(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,v,b,z)),(v=c>-1?y[c]:null)&&ma(v))}function ma(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[it])Te(y.i,c);else{var v=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(v,b,c.capture):y.detachEvent?y.detachEvent(hi(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=Ss(y))?(Te(v,c),v.h==0&&(v.src=null,y[Le]=null)):ye(c)}}}function hi(c){return c in Pt?Pt[c]:Pt[c]="on"+c}function ko(c,y){if(c.da)c=!0;else{y=new He(y,this);const v=c.listener,b=c.ha||c.src;c.fa&&ma(c),c=v.call(b,y)}return c}function Ss(c){return c=c[Le],c instanceof he?c:null}var Po="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lo(c){return typeof c=="function"?c:(c[Po]||(c[Po]=function(y){return c.handleEvent(y)}),c[Po])}function St(){O.call(this),this.i=new he(this),this.M=this,this.G=null}S(St,O),St.prototype[it]=!0,St.prototype.removeEventListener=function(c,y,v,b){da(this,c,y,v,b)};function Lt(c,y){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new R(y,c);else if(y instanceof R)y.target=y.target||c;else{var z=y;y=new R(b,c),oe(y,z)}z=!0;let G,se;if(v)for(se=v.length-1;se>=0;se--)G=y.g=v[se],z=Tr(G,b,!0,y)&&z;if(G=y.g=c,z=Tr(G,b,!0,y)&&z,z=Tr(G,b,!1,y)&&z,v)for(se=0;se<v.length;se++)G=y.g=v[se],z=Tr(G,b,!1,y)&&z}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let b=0;b<v.length;b++)ye(v[b]);delete c.g[y],c.h--}}this.G=null},St.prototype.J=function(c,y,v,b){return this.i.add(String(c),y,!1,v,b)},St.prototype.K=function(c,y,v,b){return this.i.add(String(c),y,!0,v,b)};function Tr(c,y,v,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let G=0;G<y.length;++G){const se=y[G];if(se&&!se.da&&se.capture==v){const we=se.listener,yt=se.ha||se.src;se.fa&&Te(c.i,se),z=we.call(yt,b)!==!1&&z}}return z&&!b.defaultPrevented}function Ef(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Iu(c){c.g=Ef(()=>{c.g=null,c.i&&(c.i=!1,Iu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class on extends O{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Iu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(c){O.call(this),this.h=c,this.g={}}S(As,O);var jo=[];function Uo(c){Ue(c.g,function(y,v){this.g.hasOwnProperty(v)&&ma(y)},c),c.g={}}As.prototype.N=function(){As.Z.N.call(this),Uo(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sr=f.JSON.stringify,Tf=f.JSON.parse,Nu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Du(){}function xu(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){R.call(this,"d")}S(Gt,R);function Dn(){R.call(this,"c")}S(Dn,R);var gt={},Ou=null;function pa(){return Ou=Ou||new St}gt.Ia="serverreachability";function Mu(c){R.call(this,gt.Ia,c)}S(Mu,R);function fi(c){const y=pa();Lt(y,new Mu(y))}gt.STAT_EVENT="statevent";function bs(c,y){R.call(this,gt.STAT_EVENT,c),this.stat=y}S(bs,R);function At(c){const y=pa();Lt(y,new bs(y,c))}gt.Ja="timingevent";function di(c,y){R.call(this,gt.Ja,c),this.size=y}S(di,R);function mi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Sf(c,y,v,b,z,G){c.info(function(){if(c.g)if(G){var se="",we=G.split("&");for(let Fe=0;Fe<we.length;Fe++){var yt=we[Fe].split("=");if(yt.length>1){const ct=yt[0];yt=yt[1];const Vn=ct.split("_");se=Vn.length>=2&&Vn[1]=="type"?se+(ct+"="+yt+"&"):se+(ct+"=redacted&")}}}else se=null;else se=G;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+y+`
`+v+`
`+se})}function Vu(c,y,v,b,z,G,se){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+y+`
`+v+`
`+G+" "+se})}function pi(c,y,v,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Af(c,v)+(b?" "+b:"")})}function ws(c,y){c.info(function(){return"TIMEOUT: "+y})}Xn.prototype.info=function(){};function Af(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var z=b[0];if(z!="noop"&&z!="stop"&&z!="close")for(let se=1;se<b.length;se++)b[se]=""}}}}return Sr(G)}catch{return y}}var Rs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bo;function Cs(){}S(Cs,Du),Cs.prototype.g=function(){return new XMLHttpRequest},Bo=new Cs;function Hi(c){return encodeURIComponent(String(c))}function ku(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function $n(c,y,v,b){this.j=c,this.i=y,this.l=v,this.S=b||1,this.V=new As(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var bt={},zt={};function gi(c,y,v){c.M=1,c.A=Is(Rt(y)),c.u=v,c.R=!0,ga(c,null)}function ga(c,y){c.F=Date.now(),yi(c),c.B=Rt(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),Ea(v.i,"t",b),c.C=0,v=c.j.L,c.h=new Jn,c.g=$u(c.j,v?y:null,!c.u),c.P>0&&(c.O=new on(p(c.Y,c,c.g),c.P)),y=c.V,v=c.g,b=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(jo[0]=z.toString()),z=jo);for(let G=0;G<z.length;G++){const se=ut(v,z[G],b||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?P(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),fi(),Sf(c.i,c.v,c.B,c.l,c.S,c.u)}$n.prototype.ba=function(c){c=c.target;const y=this.O;y&&ei(c)==3?y.j():this.Y(c)},$n.prototype.Y=function(c){try{if(c==this.g)e:{const we=ei(this.g),yt=this.g.ya(),Fe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||we!=4||yt==7||(yt==8||Fe<=0?fi(3):fi(2)),_i(this);var y=this.g.ca();this.X=y;var v=bf(this);if(this.o=y==200,Vu(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var b,z=this.g;if((b=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(b)){var G=b;break t}}G=null}if(c=G)pi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,c);else{this.o=!1,this.m=3,At(12),En(this),xn(this);break e}}if(this.R){c=!0;let ct;for(;!this.K&&this.C<v.length;)if(ct=Lu(this,v),ct==zt){we==4&&(this.m=4,At(14),c=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==bt){this.m=4,At(15),pi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else pi(this.i,this.l,ct,null),vi(this,ct);if(Pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,At(16),c=!1),this.o=this.o&&c,!c)pi(this.i,this.l,v,"[Invalid Chunked Response]"),En(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),nl(se),se.P=!0,At(11))}}else pi(this.i,this.l,v,null),vi(this,v);we==4&&En(this),this.o&&!this.K&&(we==4?Qu(this.j,this):(this.o=!1,yi(this)))}else Gi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),En(this),xn(this)}}}catch{}};function bf(c){if(!Pu(c))return c.g.la();const y=Qt(c.g);if(y==="")return"";let v="";const b=y.length,z=ei(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return En(c),xn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<b;G++)c.h.h=!0,v+=c.h.i.decode(y[G],{stream:!(z&&G==b-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Pu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Lu(c,y){var v=c.C,b=y.indexOf(`
`,v);return b==-1?zt:(v=Number(y.substring(v,b)),isNaN(v)?bt:(b+=1,b+v>y.length?zt:(y=y.slice(b,b+v),c.C=b+v,y)))}$n.prototype.cancel=function(){this.K=!0,En(this)};function yi(c){c.T=Date.now()+c.H,ya(c,c.H)}function ya(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=mi(p(c.aa,c),y)}function _i(c){c.D&&(f.clearTimeout(c.D),c.D=null)}$n.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ws(this.i,this.B),this.M!=2&&(fi(),At(17)),En(this),this.m=2,xn(this)):ya(this,this.T-c)};function xn(c){c.j.I==0||c.K||Qu(c.j,c)}function En(c){_i(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Uo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function vi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||Ti(v.h,c))){if(!c.L&&Ti(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)wa(v),Dr(v);else break e;ks(v),At(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=mi(p(v.Va,v),6e3));Ei(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ci(v,11)}else if((c.L||v.g==c)&&wa(v),!N(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let Fe=z[y];const ct=Fe[0];if(!(ct<=v.K))if(v.K=ct,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const Vn=Fe[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const Ii=Fe[4];Ii!=null&&(v.za=Ii,v.j.info("SVER="+v.za));const ti=Fe[5];ti!=null&&typeof ti=="number"&&ti>0&&(b=1.5*ti,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const ni=c.g;if(ni){const Ps=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var G=b.h;G.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Fo(G,G.h),G.h=null))}if(b.G){const Ra=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(b.wa=Ra,Ye(b.J,b.G,Ra))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var se=c;if(b.na=Xu(b,b.L?b.ba:null,b.W),se.L){Go(b.h,se);var we=se,yt=b.O;yt&&(we.H=yt),we.D&&(_i(we),yi(we)),b.g=se}else Fu(b);v.i.length>0&&Ri(v)}else Fe[0]!="stop"&&Fe[0]!="close"||Ci(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ci(v,7):el(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}fi(4)}catch{}}var wt=class{constructor(c,y){this.g=c,this.map=y}};function qo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ho(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ei(c){return c.h?1:c.g?c.g.size:0}function Ti(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Fo(c,y){c.g?c.g.add(y):c.h=y}function Go(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}qo.prototype.cancel=function(){if(this.i=Qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Qo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return k(c.i)}var ju=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let z,G=null;b>=0?(z=c[v].substring(0,b),G=c[v].substring(b+1)):z=c[v],y(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Tn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Tn?(this.l=c.l,Bt(this,c.j),this.o=c.o,this.g=c.g,Ar(this,c.u),this.h=c.h,Ko(this,qu(c.i)),this.m=c.m):c&&(y=String(c).match(ju))?(this.l=!1,Bt(this,y[1]||"",!0),this.o=Si(y[2]||""),this.g=Si(y[3]||"",!0),Ar(this,y[4]),this.h=Si(y[5]||"",!0),Ko(this,y[6]||"",!0),this.m=Si(y[7]||"")):(this.l=!1,this.i=new wr(null,this.l))}Tn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ns(y,va,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ns(y,va,!0),"@"),c.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ns(v,v.charAt(0)=="/"?Yo:Uu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ns(v,zu)),c.join("")},Tn.prototype.resolve=function(c){const y=Rt(this);let v=!!c.j;v?Bt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var b=c.h;if(v)Ar(y,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var z=y.h.lastIndexOf("/");z!=-1&&(b=y.h.slice(0,z+1)+b)}if(z=b,z==".."||z==".")b="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){b=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let se=0;se<z.length;){const we=z[se++];we=="."?b&&se==z.length&&G.push(""):we==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),b&&se==z.length&&G.push("")):(G.push(we),b=!0)}b=G.join("/")}else b=z}return v?y.h=b:v=c.i.toString()!=="",v?Ko(y,qu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function Rt(c){return new Tn(c)}function Bt(c,y,v){c.j=v?Si(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ar(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Ko(c,y,v){y instanceof wr?(c.i=y,Ta(c.i,c.l)):(v||(y=Ns(y,br)),c.i=new wr(y,c.l))}function Ye(c,y,v){c.i.set(y,v)}function Is(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Si(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ns(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,cn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var va=/[#\/\?@]/g,Uu=/[#\?:]/g,Yo=/[#\?]/g,br=/[#\?@]/g,zu=/#/g;function wr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function hn(c){c.g||(c.g=new Map,c.h=0,c.i&&_a(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=wr.prototype,r.add=function(c,y){hn(this),this.i=null,c=Rr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Bu(c,y){hn(c),y=Rr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Xo(c,y){return hn(c),y=Rr(c,y),c.g.has(y)}r.forEach=function(c,y){hn(this),this.g.forEach(function(v,b){v.forEach(function(z){c.call(y,z,b,this)},this)},this)};function $o(c,y){hn(c);let v=[];if(typeof y=="string")Xo(c,y)&&(v=v.concat(c.g.get(Rr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return hn(this),this.i=null,c=Rr(this,c),Xo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=$o(this,c),c.length>0?String(c[0]):y):y};function Ea(c,y,v){Bu(c,y),v.length>0&&(c.i=null,c.g.set(Rr(c,y),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var v=y[b];const z=Hi(v);v=$o(this,v);for(let G=0;G<v.length;G++){let se=z;v[G]!==""&&(se+="="+Hi(v[G])),c.push(se)}}return this.i=c.join("&")};function qu(c){const y=new wr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Rr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ta(c,y){y&&!c.j&&(hn(c),c.i=null,c.g.forEach(function(v,b){const z=b.toLowerCase();b!=z&&(Bu(this,b),Ea(this,z,v))},c)),c.j=y}function Zn(c,y){const v=new Xn;if(f.Image){const b=new Image;b.onload=T(On,v,"TestLoadImage: loaded",!0,y,b),b.onerror=T(On,v,"TestLoadImage: error",!1,y,b),b.onabort=T(On,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=T(On,v,"TestLoadImage: timeout",!1,y,b),f.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Jo(c,y){const v=new Xn,b=new AbortController,z=setTimeout(()=>{b.abort(),On(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(G=>{clearTimeout(z),G.ok?On(v,"TestPingServer: ok",!0,y):On(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),On(v,"TestPingServer: error",!1,y)})}function On(c,y,v,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(v)}catch{}}function Cr(){this.g=new Nu}function Ai(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Ai,Du),Ai.prototype.g=function(){return new Ds(this.i,this.h)};function Ds(c,y){St.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ds,St),r=Ds.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Wn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ir(this):Wn(this),this.readyState==3&&Sa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ir(this))},r.Na=function(c){this.g&&(this.response=c,Ir(this))},r.ga=function(){this.g&&Ir(this)};function Ir(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Wn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mn(c){let y="";return Ue(c,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function xs(c,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Mn(v),typeof c=="string"?v!=null&&Hi(v):Ye(c,y,v))}function Je(c){St.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Je,St);var bi=/^https?$/i,Zo=["POST","PUT"];r=Je.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bo.g(),this.g.onreadystatechange=C(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Os(this,G);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)v.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())v.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Zo,y,void 0)>=0)||b||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of v)this.g.setRequestHeader(G,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Os(this,G)}};function Os(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Wo(c),Fi(c)}function Wo(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Lt(this,"complete"),Lt(this,"abort"),Fi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ms(this):this.Xa())},r.Xa=function(){Ms(this)};function Ms(c){if(c.h&&typeof u<"u"){if(c.v&&ei(c)==4)setTimeout(c.Ca.bind(c),0);else if(Lt(c,"readystatechange"),ei(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=G===0){let se=String(c.D).match(ju)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),b=!bi.test(se?se.toLowerCase():"")}v=b}if(v)Lt(c,"complete"),Lt(c,"success");else{c.o=6;try{var z=ei(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Wo(c)}}finally{Fi(c)}}}}function Fi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Lt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ei(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Tf(y)}};function Qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(c){const y={};c=(c.g&&ei(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(N(c[b]))continue;var v=ku(c[b]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[z]||[];y[z]=G,G.push(v)}Ke(y,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Nr(c){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wi("baseRetryDelayMs",5e3,c),this.Za=wi("retryDelaySeedMs",1e4,c),this.Ta=wi("forwardChannelMaxRetries",2,c),this.va=wi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new qo(c&&c.concurrentRequestLimit),this.Ba=new Cr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Nr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,b){At(0),this.W=c,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Xu(this,null,this.W),Ri(this)};function el(c){if(Aa(c),c.I==3){var y=c.V++,v=Rt(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),Vs(c,v),y=new $n(c,c.j,y),y.M=2,y.A=Is(Rt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=$u(y.j,null),y.g.ea(y.A)),y.F=Date.now(),yi(y)}Yu(c)}function Dr(c){c.g&&(nl(c),c.g.cancel(),c.g=null)}function Aa(c){Dr(c),c.v&&(f.clearTimeout(c.v),c.v=null),wa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ri(c){if(!Ho(c.h)&&!c.m){c.m=!0;var y=c.Ea;le||w(),me||(le(),me=!0),D.add(y,c),c.D=0}}function ba(c,y){return Ei(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=mi(p(c.Ea,c,y),Ku(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new $n(this,this.j,c);let G=this.o;if(this.U&&(G?(G=P(G),oe(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Hu(this,z,y),v=Rt(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),Vs(this,v),G&&(this.R?y="headers="+Hi(Mn(G))+"&"+y:this.u&&xs(v,this.u,G)),Fo(this.h,z),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",y),Ye(v,"SID","null"),z.U=!0,gi(z,v,null)):gi(z,v,y),this.I=2}}else this.I==3&&(c?tl(this,c):this.i.length==0||Ho(this.h)||tl(this))};function tl(c,y){var v;y?v=y.l:v=c.V++;const b=Rt(c.J);Ye(b,"SID",c.M),Ye(b,"RID",v),Ye(b,"AID",c.K),Vs(c,b),c.u&&c.o&&xs(b,c.u,c.o),v=new $n(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Hu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Fo(c.h,v),gi(v,b,y)}function Vs(c,y){c.H&&Ue(c.H,function(v,b){Ye(y,b,v)}),c.l&&Ue({},function(v,b){Ye(y,b,v)})}function Hu(c,y,v){v=Math.min(c.i.length,v);const b=c.l?p(c.l.Ka,c.l,c):null;e:{var z=c.i;let we=-1;for(;;){const yt=["count="+v];we==-1?v>0?(we=z[0].g,yt.push("ofs="+we)):we=0:yt.push("ofs="+we);let Fe=!0;for(let ct=0;ct<v;ct++){var G=z[ct].g;const Vn=z[ct].map;if(G-=we,G<0)we=Math.max(0,z[ct].g-100),Fe=!1;else try{G="req"+G+"_"||"";try{var se=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ii,ti]of se){let ni=ti;m(ti)&&(ni=Sr(ti)),yt.push(G+Ii+"="+encodeURIComponent(ni))}}catch(Ii){throw yt.push(G+"type="+encodeURIComponent("_badmap")),Ii}}catch{b&&b(Vn)}}if(Fe){se=yt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),y.G=c,se}function Fu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;le||w(),me||(le(),me=!0),D.add(y,c),c.A=0}}function ks(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=mi(p(c.Da,c),Ku(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=mi(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Dr(this),Gu(this))};function nl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Gu(c){c.g=new $n(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Rt(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),Vs(c,y),c.u&&c.o&&xs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Is(Rt(y)),v.u=null,v.R=!0,ga(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Dr(this),ks(this),At(19))};function wa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Qu(c,y){var v=null;if(c.g==y){wa(c),nl(c),c.g=null;var b=2}else if(Ti(c.h,y))v=y.G,Go(c.h,y),b=1;else return;if(c.I!=0){if(y.o)if(b==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;b=pa(),Lt(b,new di(b,v)),Ri(c)}else Fu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(b==1&&ba(c,y)||b==2&&ks(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function Ku(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ci(c,y){if(c.j.info("Error code "+y),y==2){var v=p(c.bb,c),b=c.Ua;const z=!b;b=new Tn(b||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Bt(b,"https"),Is(b),z?Zn(b.toString(),v):Jo(b.toString(),v)}else At(2);c.I=0,c.l&&c.l.pa(y),Yu(c),Aa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Yu(c){if(c.I=0,c.ja=[],c.l){const y=Qo(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ja,y),F(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Xu(c,y,v){var b=v instanceof Tn?Rt(v):new Tn(v);if(b.g!="")y&&(b.g=y+"."+b.g),Ar(b,b.u);else{var z=f.location;b=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const G=new Tn(null);b&&Bt(G,b),y&&(G.g=y),z&&Ar(G,z),v&&(G.h=v),b=G}return v=c.G,y=c.wa,v&&y&&Ye(b,v,y),Ye(b,"VER",c.ka),Vs(c,b),b}function $u(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Je(new Ai({ab:v})):new Je(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}r=Ju.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function xr(){}xr.prototype.g=function(c,y){return new ln(c,y)};function ln(c,y){St.call(this),this.g=new Nr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Qi(this)}S(ln,St),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){el(this.g)},ln.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Sr(c),c=v);y.i.push(new wt(y.Ya++,c)),y.I==3&&Ri(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,ln.Z.N.call(this)};function Zu(c){Gt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}S(Zu,Gt);function Wu(){Dn.call(this),this.status=1}S(Wu,Dn);function Qi(c){this.g=c}S(Qi,Ju),Qi.prototype.ra=function(){Lt(this.g,"a")},Qi.prototype.qa=function(c){Lt(this.g,new Zu(c))},Qi.prototype.pa=function(c){Lt(this.g,new Wu)},Qi.prototype.oa=function(){Lt(this.g,"b")},xr.prototype.createWebChannel=xr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,UT=function(){return new xr},jT=function(){return pa()},LT=gt,$m={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rs.NO_ERROR=0,Rs.TIMEOUT=8,Rs.HTTP_ERROR=6,yh=Rs,zo.COMPLETE="complete",PT=zo,xu.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",St.prototype.listen=St.prototype.J,Fl=xu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,kT=Je}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const CE="@firebase/firestore",IE="4.9.3";let nn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let Do="12.7.0";const sa=new Ap("@firebase/firestore");function no(){return sa.logLevel}function ce(r,...e){if(sa.logLevel<=Me.DEBUG){const n=e.map(Vp);sa.debug(`Firestore (${Do}): ${r}`,...n)}}function yr(r,...e){if(sa.logLevel<=Me.ERROR){const n=e.map(Vp);sa.error(`Firestore (${Do}): ${r}`,...n)}}function mo(r,...e){if(sa.logLevel<=Me.WARN){const n=e.map(Vp);sa.warn(`Firestore (${Do}): ${r}`,...n)}}function Vp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,zT(r,s,n)}function zT(r,e,n){let s=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw yr(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||zT(e,o,s)}function be(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class BT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class OI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class MI{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new dr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new dr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new BT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class VI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new VI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class NE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new NE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new NE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function LI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class kp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=LI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Jm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Mm(o)===Mm(u)?Ve(o,u):Mm(o)?1:-1}return Ve(r.length,e.length)}const jI=55296,UI=57343;function Mm(r){const e=r.charCodeAt(0);return e>=jI&&e<=UI}function po(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const DE="__name__";class Vi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Vi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Vi.isNumericId(e),o=Vi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):Jm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class rt extends Vi{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const zI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Vi{construct(e,n,s){return new Zt(e,n,s)}static isValidIdentifier(e){return zI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DE}static keyField(){return new Zt([DE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ue(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(rt.fromString(e))}static fromName(e){return new ge(rt.fromString(e).popFirst(5))}static empty(){return new ge(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new rt(e.slice()))}}function qT(r,e,n){if(!n)throw new ue(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function BI(r,e,n,s){if(e===!0&&s===!0)throw new ue(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function xE(r){if(!ge.isDocumentKey(r))throw new ue(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function OE(r){if(ge.isDocumentKey(r))throw new ue(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function HT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Zh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function li(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zh(r);throw new ue(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function kt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Tu(r,e){if(!HT(r))throw new ue(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(ee.INVALID_ARGUMENT,n);return!0}const ME=-62135596800,VE=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*VE);return new lt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ME)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tu(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ME;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:kt("string",lt._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new lt(0,0))}static max(){return new Se(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ru=-1;function qI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new lt(n+1,0):new lt(n,s));return new hs(o,ge.empty(),e)}function HI(r){return new hs(r.readTime,r.key,ru)}class hs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new hs(Se.min(),ge.empty(),ru)}static max(){return new hs(Se.max(),ge.empty(),ru)}}function FI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const GI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function xo(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==GI)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((T=>{f[p]=T,++m,m===u&&s(f)}),(T=>o(T)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function KI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oo(r){return r.name==="IndexedDbTransactionError"}class Wh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wh.ce=-1;const Pp=-1;function ef(r){return r==null}function Oh(r){return r===0&&1/r==-1/0}function YI(r){return typeof r=="number"&&Number.isInteger(r)&&!Oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const FT="";function XI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=kE(e)),e=$I(r.get(n),e);return kE(e)}function $I(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case FT:n+="";break;default:n+=u}}return n}function kE(r){return r+FT+""}function PE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function vs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function GT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class dt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Jt.RED,this.left=o??Jt.EMPTY,this.right=u??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Jt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LE(this.data.getIterator())}getIteratorFrom(e){return new LE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class LE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new Ut(Zt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class QT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new QT("Invalid base64 string: "+u):u}})(e);return new Wt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const JI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=JI.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(r.seconds),nanos:Et(r.nanos)}}function Et(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ds(r){return typeof r=="string"?Wt.fromBase64String(r):Wt.fromUint8Array(r)}const KT="server_timestamp",YT="__type__",XT="__previous_value__",$T="__local_write_time__";function Lp(r){return(r?.mapValue?.fields||{})[YT]?.stringValue===KT}function tf(r){const e=r.mapValue.fields[XT];return Lp(e)?tf(e):e}function su(r){const e=fs(r.mapValue.fields[$T].timestampValue);return new lt(e.seconds,e.nanos)}class ZI{constructor(e,n,s,o,u,f,m,g,p,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=T}}const Mh="(default)";class au{constructor(e,n){this.projectId=e,this.database=n||Mh}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}const JT="__type__",WI="__max__",oh={mapValue:{}},ZT="__vector__",Vh="value";function ms(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lp(r)?4:tN(r)?9007199254740991:eN(r)?10:11:Ee(28295,{value:r})}function qi(r,e){if(r===e)return!0;const n=ms(r);if(n!==ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return su(r).isEqual(su(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=fs(o.timestampValue),m=fs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ds(o.bytesValue).isEqual(ds(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Et(o.doubleValue),m=Et(u.doubleValue);return f===m?Oh(f)===Oh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return po(r.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(PE(f)!==PE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!qi(f[g],m[g])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function ou(r,e){return(r.values||[]).find((n=>qi(n,e)))!==void 0}function go(r,e){if(r===e)return 0;const n=ms(r),s=ms(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Et(u.integerValue||u.doubleValue),g=Et(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return jE(r.timestampValue,e.timestampValue);case 4:return jE(su(r),su(e));case 5:return Jm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ds(u),g=ds(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const T=Ve(m[p],g[p]);if(T!==0)return T}return Ve(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(Et(u.latitude),Et(f.latitude));return m!==0?m:Ve(Et(u.longitude),Et(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return UE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},p=m[Vh]?.arrayValue,T=g[Vh]?.arrayValue,S=Ve(p?.values?.length||0,T?.values?.length||0);return S!==0?S:UE(p,T)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===oh.mapValue&&f===oh.mapValue)return 0;if(u===oh.mapValue)return 1;if(f===oh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},T=Object.keys(p);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const C=Jm(g[S],T[S]);if(C!==0)return C;const k=go(m[g[S]],p[T[S]]);if(k!==0)return k}return Ve(g.length,T.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function jE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=fs(r),s=fs(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function UE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=go(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function yo(r){return Zm(r)}function Zm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=fs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ds(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Zm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Zm(n.fields[f])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function _h(r){switch(ms(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tf(r);return e?16+_h(e):16;case 5:return 2*r.stringValue.length;case 6:return ds(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+_h(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return vs(s.fields,((u,f)=>{o+=u.length+_h(f)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function zE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Wm(r){return!!r&&"integerValue"in r}function jp(r){return!!r&&"arrayValue"in r}function BE(r){return!!r&&"nullValue"in r}function qE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function vh(r){return!!r&&"mapValue"in r}function eN(r){return(r?.mapValue?.fields||{})[JT]?.stringValue===ZT}function $l(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return vs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=$l(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$l(r.arrayValue.values[n]);return e}return{...r}}function tN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===WI}class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(n)}setAll(e){let n=Zt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=$l(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){vs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new _n($l(this.value))}}function WT(r){const e=[];return vs(r.fields,((n,s)=>{const o=new Zt([n]);if(vh(s)){const u=WT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Nn(e)}class rn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new rn(e,0,Se.min(),Se.min(),Se.min(),_n.empty(),0)}static newFoundDocument(e,n,s,o){return new rn(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new rn(e,2,n,Se.min(),Se.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,Se.min(),Se.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kh{constructor(e,n){this.position=e,this.inclusive=n}}function HE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=go(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function FE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!qi(r.position[n],e.position[n]))return!1;return!0}class Ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function nN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class e1{}class Mt extends e1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new rN(e,n,s):n==="array-contains"?new oN(e,s):n==="in"?new lN(e,s):n==="not-in"?new uN(e,s):n==="array-contains-any"?new cN(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new sN(e,s):new aN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends e1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ui(e,n)}matches(e){return t1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function t1(r){return r.op==="and"}function n1(r){return iN(r)&&t1(r)}function iN(r){for(const e of r.filters)if(e instanceof ui)return!1;return!0}function ep(r){if(r instanceof Mt)return r.field.canonicalString()+r.op.toString()+yo(r.value);if(n1(r))return r.filters.map((e=>ep(e))).join(",");{const e=r.filters.map((n=>ep(n))).join(",");return`${r.op}(${e})`}}function i1(r,e){return r instanceof Mt?(function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&qi(s.value,o.value)})(r,e):r instanceof ui?(function(s,o){return o instanceof ui&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&i1(f,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function r1(r){return r instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`})(r):r instanceof ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(r1).join(" ,")+"}"})(r):"Filter"}class rN extends Mt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class sN extends Mt{constructor(e,n){super(e,"in",n),this.keys=s1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class aN extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=s1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function s1(r,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class oN extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jp(n)&&ou(n.arrayValue,this.value)}}class lN extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class uN extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ou(this.value.arrayValue,n)}}class cN extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ou(this.value.arrayValue,s)))}}class hN{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function GE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new hN(r,e,n,s,o,u,f)}function Up(r){const e=be(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ep(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>yo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>yo(s))).join(",")),e.Te=n}return e.Te}function zp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!nN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!i1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!FE(r.startAt,e.startAt)&&FE(r.endAt,e.endAt)}function tp(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Su{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fN(r,e,n,s,o,u,f,m){return new Su(r,e,n,s,o,u,f,m)}function Bp(r){return new Su(r)}function QE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function a1(r){return r.collectionGroup!==null}function Jl(r){const e=be(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ut(Zt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ph(u,s))})),n.has(Zt.keyField().canonicalString())||e.Ie.push(new Ph(Zt.keyField(),s))}return e.Ie}function Li(r){const e=be(r);return e.Ee||(e.Ee=dN(e,Jl(r))),e.Ee}function dN(r,e){if(r.limitType==="F")return GE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ph(o.field,u)}));const n=r.endAt?new kh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new kh(r.startAt.position,r.startAt.inclusive):null;return GE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function np(r,e){const n=r.filters.concat([e]);return new Su(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ip(r,e,n){return new Su(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function nf(r,e){return zp(Li(r),Li(e))&&r.limitType===e.limitType}function o1(r){return`${Up(Li(r))}|lt:${r.limitType}`}function io(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>r1(o))).join(", ")}]`),ef(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>yo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>yo(o))).join(",")),`Target(${s})`})(Li(r))}; limitType=${r.limitType})`}function rf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const p=HE(f,m,g);return f.inclusive?p<=0:p<0})(s.startAt,Jl(s),o)||s.endAt&&!(function(f,m,g){const p=HE(f,m,g);return f.inclusive?p>=0:p>0})(s.endAt,Jl(s),o))})(r,e)}function mN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function l1(r){return(e,n)=>{let s=!1;for(const o of Jl(r)){const u=pN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function pN(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?go(g,p):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return GT(this.inner)}size(){return this.innerSize}}const gN=new dt(ge.comparator);function _r(){return gN}const u1=new dt(ge.comparator);function Gl(...r){let e=u1;for(const n of r)e=e.insert(n.key,n);return e}function c1(r){let e=u1;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ws(){return Zl()}function h1(){return Zl()}function Zl(){return new la((r=>r.toString()),((r,e)=>r.isEqual(e)))}const yN=new dt(ge.comparator),_N=new Ut(ge.comparator);function ke(...r){let e=_N;for(const n of r)e=e.add(n);return e}const vN=new Ut(Ve);function EN(){return vN}function qp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function f1(r){return{integerValue:""+r}}function TN(r,e){return YI(e)?f1(e):qp(r,e)}class sf{constructor(){this._=void 0}}function SN(r,e,n){return r instanceof Lh?(function(o,u){const f={fields:{[YT]:{stringValue:KT},[$T]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Lp(u)&&(u=tf(u)),u&&(f.fields[XT]=u),{mapValue:f}})(n,e):r instanceof lu?m1(r,e):r instanceof uu?p1(r,e):(function(o,u){const f=d1(o,u),m=KE(f)+KE(o.Ae);return Wm(f)&&Wm(o.Ae)?f1(m):qp(o.serializer,m)})(r,e)}function AN(r,e,n){return r instanceof lu?m1(r,e):r instanceof uu?p1(r,e):n}function d1(r,e){return r instanceof jh?(function(s){return Wm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Lh extends sf{}class lu extends sf{constructor(e){super(),this.elements=e}}function m1(r,e){const n=g1(e);for(const s of r.elements)n.some((o=>qi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class uu extends sf{constructor(e){super(),this.elements=e}}function p1(r,e){let n=g1(e);for(const s of r.elements)n=n.filter((o=>!qi(o,s)));return{arrayValue:{values:n}}}class jh extends sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function KE(r){return Et(r.integerValue||r.doubleValue)}function g1(r){return jp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function bN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof lu&&o instanceof lu||s instanceof uu&&o instanceof uu?po(s.elements,o.elements,qi):s instanceof jh&&o instanceof jh?qi(s.Ae,o.Ae):s instanceof Lh&&o instanceof Lh})(r.transform,e.transform)}class wN{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class af{}function y1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Hp(r.key,Gn.none()):new Au(r.key,r.data,Gn.none());{const n=r.data,s=_n.empty();let o=new Ut(Zt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Es(r.key,s,new Nn(o.toArray()),Gn.none())}}function RN(r,e,n){r instanceof Au?(function(o,u,f){const m=o.value.clone(),g=XE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Es?(function(o,u,f){if(!Eh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=XE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(_1(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Wl(r,e,n,s){return r instanceof Au?(function(u,f,m,g){if(!Eh(u.precondition,f))return m;const p=u.value.clone(),T=$E(u.fieldTransforms,g,f);return p.setAll(T),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof Es?(function(u,f,m,g){if(!Eh(u.precondition,f))return m;const p=$E(u.fieldTransforms,g,f),T=f.data;return T.setAll(_1(u)),T.setAll(p),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(u,f,m){return Eh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function CN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=d1(s.transform,o||null);u!=null&&(n===null&&(n=_n.empty()),n.set(s.field,u))}return n||null}function YE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&po(s,o,((u,f)=>bN(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Au extends af{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Es extends af{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function XE(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,AN(f,m,n[o]))}return s}function $E(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,SN(u,f,e))}return s}class Hp extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IN extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&RN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=h1();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=y1(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,((n,s)=>YE(n,s)))&&po(this.baseMutations,e.baseMutations,((n,s)=>YE(n,s)))}}class Fp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return yN})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Fp(e,n,s,o)}}class DN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class xN{constructor(e,n){this.count=e,this.unchangedNames=n}}var xt,je;function ON(r){switch(r){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function v1(r){if(r===void 0)return yr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case xt.OK:return ee.OK;case xt.CANCELLED:return ee.CANCELLED;case xt.UNKNOWN:return ee.UNKNOWN;case xt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case xt.INTERNAL:return ee.INTERNAL;case xt.UNAVAILABLE:return ee.UNAVAILABLE;case xt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case xt.NOT_FOUND:return ee.NOT_FOUND;case xt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case xt.ABORTED:return ee.ABORTED;case xt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case xt.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:r})}}(je=xt||(xt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function MN(){return new TextEncoder}const VN=new us([4294967295,4294967295],0);function JE(r){const e=MN().encode(r),n=new VT;return n.update(e),new Uint8Array(n.digest())}function ZE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new us([n,s],0),new us([o,u],0)]}class Gp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=us.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(us.fromNumber(s)));return o.compare(VN)===1&&(o=new us([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=JE(e),[s,o]=ZE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Gp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=JE(e),[s,o]=ZE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class of{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new of(Se.min(),o,new dt(Ve),_r(),ke())}}class bu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new bu(s,n,ke(),ke(),ke())}}class Th{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class E1{constructor(e,n){this.targetId=e,this.Ce=n}}class T1{constructor(e,n,s=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class WE{constructor(){this.ve=0,this.Fe=e0(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new bu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=e0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kN{constructor(e){this.Ge=e,this.ze=new Map,this.je=_r(),this.Je=lh(),this.He=lh(),this.Ye=new dt(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(tp(u))if(s===0){const f=new ge(u.path);this.et(n,f,rn.newNoDocument(f,Se.min()))}else Qe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ds(s).toUint8Array()}catch(g){if(g instanceof QT)return mo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Gp(f,o,u)}catch(g){return mo(g instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&tp(m.target)){const g=new ge(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,rn.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new of(e,n,this.Ye,this.je,s);return this.je=_r(),this.Je=lh(),this.He=lh(),this.Ye=new dt(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new WE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ut(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ut(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new WE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lh(){return new dt(ge.comparator)}function e0(){return new dt(ge.comparator)}const PN={asc:"ASCENDING",desc:"DESCENDING"},LN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jN={and:"AND",or:"OR"};class UN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rp(r,e){return r.useProto3Json||ef(e)?e:{value:e}}function Uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function zN(r,e){return Uh(r,e.toTimestamp())}function ji(r){return Qe(!!r,49232),Se.fromTimestamp((function(n){const s=fs(n);return new lt(s.seconds,s.nanos)})(r))}function Qp(r,e){return sp(r,e).canonicalString()}function sp(r,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function A1(r){const e=rt.fromString(r);return Qe(I1(e),10190,{key:e.toString()}),e}function ap(r,e){return Qp(r.databaseId,e.path)}function Vm(r,e){const n=A1(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(w1(n))}function b1(r,e){return Qp(r.databaseId,e)}function BN(r){const e=A1(r);return e.length===4?rt.emptyPath():w1(e)}function op(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function w1(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function t0(r,e,n){return{name:ap(r,e),fields:n.value.mapValue.fields}}function qN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,T){return p.useProto3Json?(Qe(T===void 0||typeof T=="string",58123),Wt.fromBase64String(T||"")):(Qe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Wt.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(p){const T=p.code===void 0?ee.UNKNOWN:v1(p.code);return new ue(T,p.message||"")})(f);n=new T1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Vm(r,s.document.name),u=ji(s.document.updateTime),f=s.document.createTime?ji(s.document.createTime):Se.min(),m=new _n({mapValue:{fields:s.document.fields}}),g=rn.newFoundDocument(o,u,f,m),p=s.targetIds||[],T=s.removedTargetIds||[];n=new Th(p,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Vm(r,s.document),u=s.readTime?ji(s.readTime):Se.min(),f=rn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Th([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Vm(r,s.document),u=s.removedTargetIds||[];n=new Th([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new xN(o,u),m=s.targetId;n=new E1(m,f)}}return n}function HN(r,e){let n;if(e instanceof Au)n={update:t0(r,e.key,e.value)};else if(e instanceof Hp)n={delete:ap(r,e.key)};else if(e instanceof Es)n={update:t0(r,e.key,e.data),updateMask:ZN(e.fieldMask)};else{if(!(e instanceof IN))return Ee(16599,{Vt:e.type});n={verify:ap(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Lh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof lu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof uu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof jh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:zN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function FN(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?ji(o.updateTime):ji(u);return f.isEqual(Se.min())&&(f=ji(u)),new wN(f,o.transformResults||[])})(n,e)))):[]}function GN(r,e){return{documents:[b1(r,e.path)]}}function QN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=b1(r,o);const u=(function(p){if(p.length!==0)return C1(ui.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((T=>(function(C){return{field:ro(C.field),direction:XN(C.dir)}})(T)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=rp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function KN(r){let e=BN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const C=R1(S);return C instanceof ui&&n1(C)?C.getFilters():[C]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((C=>(function(F){return new Ph(so(F.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(C)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let C;return C=typeof S=="object"?S.value:S,ef(C)?null:C})(n.limit));let g=null;n.startAt&&(g=(function(S){const C=!!S.before,k=S.values||[];return new kh(k,C)})(n.startAt));let p=null;return n.endAt&&(p=(function(S){const C=!S.before,k=S.values||[];return new kh(k,C)})(n.endAt)),fN(e,o,f,u,m,"F",g,p)}function YN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function R1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=so(n.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=so(n.unaryFilter.field);return Mt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Mt.create(so(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ui.create(n.compositeFilter.filters.map((s=>R1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function XN(r){return PN[r]}function $N(r){return LN[r]}function JN(r){return jN[r]}function ro(r){return{fieldPath:r.canonicalString()}}function so(r){return Zt.fromServerFormat(r.fieldPath)}function C1(r){return r instanceof Mt?(function(n){if(n.op==="=="){if(qE(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(BE(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qE(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(BE(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:$N(n.op),value:n.value}}})(r):r instanceof ui?(function(n){const s=n.getFilters().map((o=>C1(o)));return s.length===1?s[0]:{compositeFilter:{op:JN(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function ZN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function I1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ss{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Wt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class WN{constructor(e){this.yt=e}}function eD(r){const e=KN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ip(e,e.limit,"L"):e}class tD{constructor(){this.Cn=new nD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(hs.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class nD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(rt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(rt.comparator)).toArray()}}const n0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},N1=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(N1,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class _o{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _o(0)}static cr(){return new _o(-1)}}const i0="LruGarbageCollector",iD=1048576;function r0([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class rD{constructor(e){this.Ir=e,this.buffer=new Ut(r0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();r0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(i0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oo(n)?ce(i0,"Ignoring IndexedDB error during garbage collection: ",n):await xo(n)}await this.Vr(3e5)}))}}class aD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Wh.ce);const s=new rD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(n0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,g,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(p=Date.now(),no()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(p-g)+`ms
Total Duration: ${p-T}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function oD(r,e){return new aD(r,e)}class lD{constructor(){this.changes=new la((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class cD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Wl(s.mutation,o,Nn.empty(),lt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=Ws();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Gl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Ws();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=_r();const f=Zl(),m=(function(){return Zl()})();return n.forEach(((g,p)=>{const T=s.get(p.key);o.has(p.key)&&(T===void 0||T.mutation instanceof Es)?u=u.insert(p.key,p):T!==void 0?(f.set(p.key,T.mutation.getFieldMask()),Wl(T.mutation,p,T.mutation.getFieldMask(),lt.now())):f.set(p.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,T)=>f.set(p,T))),n.forEach(((p,T)=>m.set(p,new uD(T,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Zl();let o=new dt(((f,m)=>f-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let T=s.get(g)||Nn.empty();T=m.applyToLocalView(p,T),s.set(g,T);const S=(o.get(m.batchId)||ke()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,T=g.value,S=h1();T.forEach((C=>{if(!u.has(C)){const k=y1(n.get(C),s.get(C));k!==null&&S.set(C,k),u=u.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(e,p,S))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):a1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Ws());let m=ru,g=u;return f.next((p=>ne.forEach(p,((T,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(T)?ne.resolve():this.remoteDocumentCache.getEntry(e,T).next((C=>{g=g.insert(T,C)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,ke()))).next((T=>({batchId:m,changes:c1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Gl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(g=>{const p=(function(S,C){return new Su(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((T=>{T.forEach(((S,C)=>{f=f.insert(S,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,p)=>{const T=p.getKey();f.get(T)===null&&(f=f.insert(T,rn.newInvalidDocument(T)))}));let m=Gl();return f.forEach(((g,p)=>{const T=u.get(g);T!==void 0&&Wl(T.mutation,p,Nn.empty(),lt.now()),rf(n,p)&&(m=m.insert(g,p))})),m}))}}class hD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ji(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:eD(o.bundledQuery),readTime:ji(o.readTime)}})(n)),ne.resolve()}}class fD{constructor(){this.overlays=new dt(ge.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ws();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Ws(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new dt(((p,T)=>p-T));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let T=u.get(p.largestBatchId);T===null&&(T=Ws(),u=u.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const m=Ws(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,T)=>m.set(p,T))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new DN(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class dD{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Kp{constructor(){this.Qr=new Ut(Ht.$r),this.Ur=new Ut(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ht(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ht(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ge(new rt([])),s=new Ht(n,e),o=new Ht(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new rt([])),s=new Ht(n,e),o=new Ht(n,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Ht(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}class mD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(Ht.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new NN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ht(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Pp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ht(n,0),o=new Ht(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(Ve);return n.forEach((o=>{const u=new Ht(o,0),f=new Ht(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Ht(new ge(u),0);let m=new Ut(Ve);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),f),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new Ht(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ht(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class pD{constructor(e){this.ri=e,this.docs=(function(){return new dt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let s=_r();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=_r();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:T}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||FI(HI(T),s)<=0||(o.has(T.key)||rf(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new gD(this)}getSize(e){return ne.resolve(this.size)}}class gD extends lD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class yD{constructor(e){this.persistence=e,this.si=new la((n=>Up(n)),zp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Kp,this.targetCount=0,this.ai=_o.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class D1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Wh(0),this.li=!1,this.li=!0,this.hi=new dD,this.referenceDelegate=e(this),this.Pi=new yD(this),this.indexManager=new tD,this.remoteDocumentCache=(function(o){return new pD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new WN(n),this.Ii=new hD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new mD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new _D(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class _D extends QI{constructor(e){super(),this.currentSequenceNumber=e}}class Yp{constructor(e){this.persistence=e,this.Ri=new Kp,this.Vi=null}static mi(e){return new Yp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.pi=new la((s=>XI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=oD(this,n)}static mi(e,n){return new zh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_h(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Xp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Xp(e,n.fromCache,s,o)}}class vD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ED{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $w()?8:KI(an())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new vD;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(no()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(no()<=Me.DEBUG&&ce("QueryEngine","Query:",io(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(no()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(n))):ne.resolve())}ys(e,n){if(QE(n))return ne.resolve(null);let s=Li(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ip(n,null,"F"),s=Li(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ke(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,f,g.readTime)?this.ys(e,ip(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,s,o){return QE(n)||o.isEqual(Se.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ne.resolve(null):(no()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(n)),this.vs(e,f,n,qI(o,ru)).next((m=>m)))}))}Ds(e,n){let s=new Ut(l1(e));return n.forEach(((o,u)=>{rf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return no()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",io(n)),this.ps.getDocumentsMatchingQuery(e,n,hs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const $p="LocalStore",TD=3e8;class SD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new dt(Ve),this.xs=new la((u=>Up(u)),zp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function AD(r,e,n,s){return new SD(r,e,n,s)}async function x1(r,e){const n=be(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=ke();for(const p of o){f.push(p.batchId);for(const T of p.mutations)g=g.add(T.key)}for(const p of u){m.push(p.batchId);for(const T of p.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ls:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function bD(r,e){const n=be(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,T){const S=p.batch,C=S.keys();let k=ne.resolve();return C.forEach((F=>{k=k.next((()=>T.getEntry(g,F))).next((X=>{const L=p.docVersions.get(F);Qe(L!==null,48541),X.version.compareTo(L)<0&&(S.applyToRemoteDocument(X,p),X.isValidDocument()&&(X.setReadTime(p.commitVersion),T.addEntry(X)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=ke();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function O1(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function wD(r,e){const n=be(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((T,S)=>{const C=o.get(S);if(!C)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,S))));let k=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?k=k.withResumeToken(Wt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(T.resumeToken,s)),o=o.insert(S,k),(function(X,L,Y){return X.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=TD?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(C,k,T)&&m.push(n.Pi.updateTargetData(u,k))}));let g=_r(),p=ke();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(RD(u,f,e.documentUpdates).next((T=>{g=T.ks,p=T.qs}))),!s.isEqual(Se.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(T)}return ne.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function RD(r,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=_r();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ce($p,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function CD(r,e){const n=be(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ID(r,e){const n=be(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new ss(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function lp(r,e,n){const s=be(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Oo(f))throw f;ce($p,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function s0(r,e,n){const s=be(r);let o=Se.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,p,T){const S=be(g),C=S.xs.get(T);return C!==void 0?ne.resolve(S.Ms.get(C)):S.Pi.getTargetData(p,T)})(s,f,Li(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:ke()))).next((m=>(ND(s,mN(e),m),{documents:m,Qs:u})))))}function ND(r,e,n){let s=r.Os.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class a0{constructor(){this.activeTargetIds=EN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DD{constructor(){this.Mo=new a0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new a0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xD{Oo(e){}shutdown(){}}const o0="ConnectivityMonitor";class l0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(o0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(o0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let uh=null;function up(){return uh===null?uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():uh++,"0x"+uh.toString(16)}const km="RestConnection",OD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=up(),m=this.zo(e,n.toUriEncodedString());ce(km,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),T=Co(p);return this.Jo(e,m,g,s,T).then((S=>(ce(km,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw mo(km,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=OD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class VD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const tn="WebChannelConnection";class kD extends MD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=up();return new Promise(((m,g)=>{const p=new kT;p.setWithCredentials(!0),p.listenOnce(PT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case yh.NO_ERROR:const S=p.getResponseJson();ce(tn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case yh.TIMEOUT:ce(tn,`RPC '${e}' ${f} timed out`),g(new ue(ee.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const C=p.getStatus();if(ce(tn,`RPC '${e}' ${f} failed with status:`,C,"response text:",p.getResponseText()),C>0){let k=p.getResponseJson();Array.isArray(k)&&(k=k[0]);const F=k?.error;if(F&&F.status&&F.message){const X=(function(Y){const ie=Y.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ie)>=0?ie:ee.UNKNOWN})(F.status);g(new ue(X,F.message))}else g(new ue(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ue(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(tn,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(o);ce(tn,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=up(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=UT(),m=jT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const T=u.join("");ce(tn,`Creating RPC '${e}' stream ${o}: ${T}`,g);const S=f.createWebChannel(T,g);this.I_(S);let C=!1,k=!1;const F=new VD({Yo:L=>{k?ce(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(C||(ce(tn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),C=!0),ce(tn,`RPC '${e}' stream ${o} sending:`,L),S.send(L))},Zo:()=>S.close()}),X=(L,Y,ie)=>{L.listen(Y,(re=>{try{ie(re)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return X(S,Fl.EventType.OPEN,(()=>{k||(ce(tn,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),X(S,Fl.EventType.CLOSE,(()=>{k||(k=!0,ce(tn,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(S))})),X(S,Fl.EventType.ERROR,(L=>{k||(k=!0,mo(tn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),F.a_(new ue(ee.UNAVAILABLE,"The operation could not be completed")))})),X(S,Fl.EventType.MESSAGE,(L=>{if(!k){const Y=L.data[0];Qe(!!Y,16349);const ie=Y,re=ie?.error||ie[0]?.error;if(re){ce(tn,`RPC '${e}' stream ${o} received error:`,re);const Z=re.status;let le=(function(w){const I=xt[w];if(I!==void 0)return v1(I)})(Z),me=re.message;le===void 0&&(le=ee.INTERNAL,me="Unknown error status: "+Z+" with message "+re.message),k=!0,F.a_(new ue(le,me)),S.close()}else ce(tn,`RPC '${e}' stream ${o} received:`,Y),F.u_(Y)}})),X(m,LT.STAT_EVENT,(L=>{L.stat===$m.PROXY?ce(tn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===$m.NOPROXY&&ce(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Pm(){return typeof document<"u"?document:null}function lf(r){return new UN(r,!0)}class M1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const u0="PersistentStream";class V1{constructor(e,n,s,o,u,f,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new M1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(u0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(u0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PD extends V1{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=qN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?ji(f.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=op(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=tp(g)?{documents:GN(u,g)}:{query:QN(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=S1(u,f.resumeToken);const p=rp(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=Uh(u,f.snapshotVersion.toTimestamp());const p=rp(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=YN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=op(this.serializer),n.removeTarget=e,this.q_(n)}}class LD extends V1{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=FN(e.writeResults,e.commitTime),s=ji(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=op(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>HN(this.serializer,s)))};this.q_(n)}}class jD{}class UD extends jD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,sp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,sp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class BD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ua(this)&&(ce(aa,"Restarting streams for network reachability change."),await(async function(g){const p=be(g);p.Ea.add(4),await wu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await uf(p)})(this))}))})),this.Ra=new zD(s,o)}}async function uf(r){if(ua(r))for(const e of r.da)await e(!0)}async function wu(r){for(const e of r.da)await e(!1)}function k1(r,e){const n=be(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),eg(n)?Wp(n):Mo(n).O_()&&Zp(n,e))}function Jp(r,e){const n=be(r),s=Mo(n);n.Ia.delete(e),s.O_()&&P1(n,e),n.Ia.size===0&&(s.O_()?s.L_():ua(n)&&n.Ra.set("Unknown"))}function Zp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(r).Y_(e)}function P1(r,e){r.Va.Ue(e),Mo(r).Z_(e)}function Wp(r){r.Va=new kN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Mo(r).start(),r.Ra.ua()}function eg(r){return ua(r)&&!Mo(r).x_()&&r.Ia.size>0}function ua(r){return be(r).Ea.size===0}function L1(r){r.Va=void 0}async function qD(r){r.Ra.set("Online")}async function HD(r){r.Ia.forEach(((e,n)=>{Zp(r,e)}))}async function FD(r,e){L1(r),eg(r)?(r.Ra.ha(e),Wp(r)):r.Ra.set("Unknown")}async function GD(r,e,n){if(r.Ra.set("Online"),e instanceof T1&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ce(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Bh(r,s)}else if(e instanceof Th?r.Va.Ze(e):e instanceof E1?r.Va.st(e):r.Va.tt(e),!n.isEqual(Se.min()))try{const s=await O1(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(p);T&&u.Ia.set(p,T.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,p)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(Wt.EMPTY_BYTE_STRING,T.snapshotVersion)),P1(u,g);const S=new ss(T.target,g,p,T.sequenceNumber);Zp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(aa,"Failed to raise snapshot:",s),await Bh(r,s)}}async function Bh(r,e,n){if(!Oo(e))throw e;r.Ea.add(1),await wu(r),r.Ra.set("Offline"),n||(n=()=>O1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(aa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await uf(r)}))}function j1(r,e){return e().catch((n=>Bh(r,n,e)))}async function cf(r){const e=be(r),n=ps(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pp;for(;QD(e);)try{const o=await CD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,KD(e,o)}catch(o){await Bh(e,o)}U1(e)&&z1(e)}function QD(r){return ua(r)&&r.Ta.length<10}function KD(r,e){r.Ta.push(e);const n=ps(r);n.O_()&&n.X_&&n.ea(e.mutations)}function U1(r){return ua(r)&&!ps(r).x_()&&r.Ta.length>0}function z1(r){ps(r).start()}async function YD(r){ps(r).ra()}async function XD(r){const e=ps(r);for(const n of r.Ta)e.ea(n.mutations)}async function $D(r,e,n){const s=r.Ta.shift(),o=Fp.from(s,e,n);await j1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await cf(r)}async function JD(r,e){e&&ps(r).X_&&await(async function(s,o){if((function(f){return ON(f)&&f!==ee.ABORTED})(o.code)){const u=s.Ta.shift();ps(s).B_(),await j1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await cf(s)}})(r,e),U1(r)&&z1(r)}async function c0(r,e){const n=be(r);n.asyncQueue.verifyOperationInProgress(),ce(aa,"RemoteStore received new credentials");const s=ua(n);n.Ea.add(3),await wu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await uf(n)}async function ZD(r,e){const n=be(r);e?(n.Ea.delete(2),await uf(n)):e||(n.Ea.add(2),await wu(n),n.Ra.set("Unknown"))}function Mo(r){return r.ma||(r.ma=(function(n,s,o){const u=be(n);return u.sa(),new PD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:qD.bind(null,r),t_:HD.bind(null,r),r_:FD.bind(null,r),H_:GD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),eg(r)?Wp(r):r.Ra.set("Unknown")):(await r.ma.stop(),L1(r))}))),r.ma}function ps(r){return r.fa||(r.fa=(function(n,s,o){const u=be(n);return u.sa(),new LD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:YD.bind(null,r),r_:JD.bind(null,r),ta:XD.bind(null,r),na:$D.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await cf(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(aa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class tg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new tg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(r,e){if(yr("AsyncQueue",`${e}: ${r}`),Oo(r))return new ue(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Gl(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class h0{constructor(){this.ga=new dt(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class vo{constructor(e,n,s,o,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new vo(e,n,co.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class WD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ex{constructor(){this.queries=f0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=be(n),u=o.queries;o.queries=f0(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new ue(ee.ABORTED,"Firestore shutting down"))}}function f0(){return new la((r=>o1(r)),nf)}async function B1(r,e){const n=be(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new WD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=ng(f,`Initialization of query '${io(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ig(n)}async function q1(r,e){const n=be(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function tx(r,e){const n=be(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&ig(n)}function nx(r,e,n){const s=be(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function ig(r){r.Ca.forEach((e=>{e.next()}))}var cp,d0;(d0=cp||(cp={})).Ma="default",d0.Cache="cache";class H1{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cp.Cache}}class F1{constructor(e){this.key=e}}class G1{constructor(e){this.key=e}}class ix{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=l1(e),this.tu=new co(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new h0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,S)=>{const C=o.get(T),k=rf(this.query,S)?S:null,F=!!C&&this.mutatedKeys.has(C.key),X=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let L=!1;C&&k?C.data.isEqual(k.data)?F!==X&&(s.track({type:3,doc:k}),L=!0):this.su(C,k)||(s.track({type:2,doc:k}),L=!0,(g&&this.eu(k,g)>0||p&&this.eu(k,p)<0)&&(m=!0)):!C&&k?(s.track({type:0,doc:k}),L=!0):C&&!k&&(s.track({type:1,doc:C}),L=!0,(g||p)&&(m=!0)),L&&(k?(f=f.add(k),u=X?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,S)=>(function(k,F){const X=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:L})}};return X(k)-X(F)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,f.length!==0||p?{snapshot:new vo(this.query,e.tu,u,f,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new h0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new G1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new F1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rg="SyncEngine";class rx{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class sx{constructor(e){this.key=e,this.hu=!1}}class ax{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new la((m=>o1(m)),nf),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ge.comparator),this.Au=new Map,this.Ru=new Kp,this.Vu={},this.mu=new Map,this.fu=_o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ox(r,e,n=!0){const s=J1(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Q1(s,e,n,!0),o}async function lx(r,e){const n=J1(r);await Q1(n,e,!0,!1)}async function Q1(r,e,n,s){const o=await ID(r.localStore,Li(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await ux(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&k1(r.remoteStore,o),m}async function ux(r,e,n,s,o){r.pu=(S,C,k)=>(async function(X,L,Y,ie){let re=L.view.ru(Y);re.Cs&&(re=await s0(X.localStore,L.query,!1).then((({documents:D})=>L.view.ru(D,re))));const Z=ie&&ie.targetChanges.get(L.targetId),le=ie&&ie.targetMismatches.get(L.targetId)!=null,me=L.view.applyChanges(re,X.isPrimaryClient,Z,le);return p0(X,L.targetId,me.au),me.snapshot})(r,S,C,k);const u=await s0(r.localStore,e,!0),f=new ix(e,u.Qs),m=f.ru(u.documents),g=bu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=f.applyChanges(m,r.isPrimaryClient,g);p0(r,n,p.au);const T=new rx(e,n,f);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function cx(r,e,n){const s=be(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!nf(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await lp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Jp(s.remoteStore,o.targetId),hp(s,o.targetId)})).catch(xo)):(hp(s,o.targetId),await lp(s.localStore,o.targetId,!0))}async function hx(r,e){const n=be(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Jp(n.remoteStore,s.targetId))}async function fx(r,e,n){const s=vx(r);try{const o=await(function(f,m){const g=be(f),p=lt.now(),T=m.reduce(((k,F)=>k.add(F.key)),ke());let S,C;return g.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let F=_r(),X=ke();return g.Ns.getEntries(k,T).next((L=>{F=L,F.forEach(((Y,ie)=>{ie.isValidDocument()||(X=X.add(Y))}))})).next((()=>g.localDocuments.getOverlayedDocuments(k,F))).next((L=>{S=L;const Y=[];for(const ie of m){const re=CN(ie,S.get(ie.key).overlayedDocument);re!=null&&Y.push(new Es(ie.key,re,WT(re.value.mapValue),Gn.exists(!0)))}return g.mutationQueue.addMutationBatch(k,p,Y,m)})).next((L=>{C=L;const Y=L.applyToLocalDocumentSet(S,X);return g.documentOverlayCache.saveOverlays(k,L.batchId,Y)}))})).then((()=>({batchId:C.batchId,changes:c1(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let p=f.Vu[f.currentUser.toKey()];p||(p=new dt(Ve)),p=p.insert(m,g),f.Vu[f.currentUser.toKey()]=p})(s,o.batchId,n),await Ru(s,o.changes),await cf(s.remoteStore)}catch(o){const u=ng(o,"Failed to persist write");n.reject(u)}}async function K1(r,e){const n=be(r);try{const s=await wD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await Ru(n,s,e)}catch(s){await xo(s)}}function m0(r,e,n){const s=be(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=be(f);g.onlineState=m;let p=!1;g.queries.forEach(((T,S)=>{for(const C of S.Sa)C.va(m)&&(p=!0)})),p&&ig(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function dx(r,e,n){const s=be(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new dt(ge.comparator);f=f.insert(u,rn.newNoDocument(u,Se.min()));const m=ke().add(u),g=new of(Se.min(),new Map,new dt(Ve),f,m);await K1(s,g),s.du=s.du.remove(u),s.Au.delete(e),sg(s)}else await lp(s.localStore,e,!1).then((()=>hp(s,e,n))).catch(xo)}async function mx(r,e){const n=be(r),s=e.batch.batchId;try{const o=await bD(n.localStore,e);X1(n,s,null),Y1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ru(n,o)}catch(o){await xo(o)}}async function px(r,e,n){const s=be(r);try{const o=await(function(f,m){const g=be(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return g.mutationQueue.lookupMutationBatch(p,m).next((S=>(Qe(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(p,S)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,T,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>g.localDocuments.getDocuments(p,T)))}))})(s.localStore,e);X1(s,e,n),Y1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ru(s,o)}catch(o){await xo(o)}}function Y1(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function X1(r,e,n){const s=be(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function hp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||$1(r,s)}))}function $1(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Jp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),sg(r))}function p0(r,e,n){for(const s of n)s instanceof F1?(r.Ru.addReference(s.key,e),gx(r,s)):s instanceof G1?(ce(rg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||$1(r,s.key)):Ee(19791,{wu:s})}function gx(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(rg,"New document in limbo: "+n),r.Eu.add(s),sg(r))}function sg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(rt.fromString(e)),s=r.fu.next();r.Au.set(s,new sx(n)),r.du=r.du.insert(n,s),k1(r.remoteStore,new ss(Li(Bp(n.path)),s,"TargetPurposeLimboResolution",Wh.ce))}}async function Ru(r,e,n){const s=be(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const T=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(p){o.push(p);const T=Xp.As(g.targetId,p);u.push(T)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,p){const T=be(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ne.forEach(p,(C=>ne.forEach(C.Es,(k=>T.persistence.referenceDelegate.addReference(S,C.targetId,k))).next((()=>ne.forEach(C.ds,(k=>T.persistence.referenceDelegate.removeReference(S,C.targetId,k)))))))))}catch(S){if(!Oo(S))throw S;ce($p,"Failed to update sequence numbers: "+S)}for(const S of p){const C=S.targetId;if(!S.fromCache){const k=T.Ms.get(C),F=k.snapshotVersion,X=k.withLastLimboFreeSnapshotVersion(F);T.Ms=T.Ms.insert(C,X)}}})(s.localStore,u))}async function yx(r,e){const n=be(r);if(!n.currentUser.isEqual(e)){ce(rg,"User change. New user:",e.toKey());const s=await x1(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ue(ee.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ru(n,s.Ls)}}function _x(r,e){const n=be(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function J1(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=K1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_x.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dx.bind(null,e),e.Pu.H_=tx.bind(null,e.eventManager),e.Pu.yu=nx.bind(null,e.eventManager),e}function vx(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=px.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return AD(this.persistence,new ED,e.initialUser,this.serializer)}Cu(e){return new D1(Yp.mi,this.serializer)}Du(e){return new DD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class Ex extends qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new sD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new D1((s=>zh.mi(s,n)),this.serializer)}}class fp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>m0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=yx.bind(null,this.syncEngine),await ZD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ex})()}createDatastore(e){const n=lf(e.databaseInfo.databaseId),s=(function(u){return new kD(u)})(e.databaseInfo);return(function(u,f,m,g){return new UD(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new BD(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>m0(this.syncEngine,n,0)),(function(){return l0.v()?new l0:new xD})())}createSyncEngine(e,n){return(function(o,u,f,m,g,p,T){const S=new ax(o,u,f,m,g,p);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=be(n);ce(aa,"RemoteStore shutting down."),s.Ea.add(5),await wu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fp.provider={build:()=>new fp};class Z1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const gs="FirestoreClient";class Tx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(gs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(gs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ng(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Lm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(gs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await x1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function g0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await Sx(r);ce(gs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>c0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>c0(e.remoteStore,o))),r._onlineComponents=e}async function Sx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(gs,"Using user provided OfflineComponentProvider");try{await Lm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await Lm(r,new qh)}}else ce(gs,"Using default OfflineComponentProvider"),await Lm(r,new Ex(void 0));return r._offlineComponents}async function W1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(gs,"Using user provided OnlineComponentProvider"),await g0(r,r._uninitializedComponentsProvider._online)):(ce(gs,"Using default OnlineComponentProvider"),await g0(r,new fp))),r._onlineComponents}function Ax(r){return W1(r).then((e=>e.syncEngine))}async function eS(r){const e=await W1(r),n=e.eventManager;return n.onListen=ox.bind(null,e.syncEngine),n.onUnlisten=cx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hx.bind(null,e.syncEngine),n}function bx(r,e,n={}){const s=new dr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const T=new Z1({next:C=>{T.Nu(),f.enqueueAndForget((()=>q1(u,S)));const k=C.docs.has(m);!k&&C.fromCache?p.reject(new ue(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&C.fromCache&&g&&g.source==="server"?p.reject(new ue(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(C)},error:C=>p.reject(C)}),S=new H1(Bp(m.path),T,{includeMetadataChanges:!0,qa:!0});return B1(u,S)})(await eS(r),r.asyncQueue,e,n,s))),s.promise}function wx(r,e,n={}){const s=new dr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const T=new Z1({next:C=>{T.Nu(),f.enqueueAndForget((()=>q1(u,S))),C.fromCache&&g.source==="server"?p.reject(new ue(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(C)},error:C=>p.reject(C)}),S=new H1(m,T,{includeMetadataChanges:!0,qa:!0});return B1(u,S)})(await eS(r),r.asyncQueue,e,n,s))),s.promise}function tS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const y0=new Map;const nS="firestore.googleapis.com",_0=!0;class v0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nS,this.ssl=_0}else this.host=e.host,this.ssl=e.ssl??_0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=N1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iD)throw new ue(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new xI;switch(s.type){case"firstParty":return new kI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=y0.get(n);s&&(ce("ComponentProvider","Removing Datastore"),y0.delete(n),s.terminate())})(this),Promise.resolve()}}function Rx(r,e,n,s={}){r=li(r,hf);const o=Co(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Q0(`https://${m}`),K0("Firestore",!0)),u.host!==nS&&u.host!==m&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!ta(g,f)&&(r._setSettings(g),s.mockUserToken)){let p,T;if(typeof s.mockUserToken=="string")p=s.mockUserToken,T=nn.MOCK_USER;else{p=Bw(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ue(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new nn(S)}r._authCredentials=new OI(new BT(p,T))}}class Vo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vo(this.firestore,e,this._query)}}class Tt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Tu(n,Tt._jsonSchema))return new Tt(e,s||null,new ge(rt.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:kt("string",Tt._jsonSchemaVersion),referencePath:kt("string")};class cs extends Vo{constructor(e,n,s){super(e,n,Bp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new ge(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function Ot(r,e,...n){if(r=Ft(r),qT("collection","path",e),r instanceof hf){const s=rt.fromString(e,...n);return OE(s),new cs(r,null,s)}{if(!(r instanceof Tt||r instanceof cs))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return OE(s),new cs(r.firestore,null,s)}}function vn(r,e,...n){if(r=Ft(r),arguments.length===1&&(e=kp.newId()),qT("doc","path",e),r instanceof hf){const s=rt.fromString(e,...n);return xE(s),new Tt(r,null,new ge(s))}{if(!(r instanceof Tt||r instanceof cs))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return xE(s),new Tt(r.firestore,r instanceof cs?r.converter:null,new ge(s))}}const E0="AsyncQueue";class T0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new M1(this,"async_queue_retry"),this._c=()=>{const s=Pm();s&&ce(E0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Oo(e))throw e;ce(E0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,yr("INTERNAL UNHANDLED ERROR: ",S0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=tg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:S0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function S0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ca extends hf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new T0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T0(e),this._firestoreClient=void 0,await e}}}function Cx(r,e){const n=typeof r=="object"?r:J0(),s=typeof r=="string"?r:Mh,o=wp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Uw("firestore");u&&Rx(o,...u)}return o}function ag(r){if(r._terminated)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Ix(r),r._firestoreClient}function Ix(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new ZI(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,tS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Tx(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Wt.fromBase64String(e))}catch(n){throw new ue(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tu(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:kt("string",Fn._jsonSchemaVersion),bytes:kt("string")};class ff{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class og{constructor(e){this._methodName=e}}class Ui{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(Tu(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:kt("string",Ui._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};class zi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tu(e,zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new zi(e.vectorValues);throw new ue(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:kt("string",zi._jsonSchemaVersion),vectorValues:kt("object")};const Nx=/^__.*__$/;class Dx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,n,this.fieldTransforms):new Au(e,this.data,n,this.fieldTransforms)}}class iS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function rS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class lg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(rS(this.Ac)&&Nx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||lf(e)}Cc(e,n,s,o=!1){return new lg({Ac:e,methodName:n,Dc:s,path:Zt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function df(r){const e=r._freezeSettings(),n=lf(r._databaseId);return new xx(r._databaseId,!!e.ignoreUndefinedProperties,n)}function sS(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);ug("Data must be an object, but it was:",f,s);const m=aS(s,f);let g,p;if(u.merge)g=new Nn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const C=dp(e,S,n);if(!f.contains(C))throw new ue(ee.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);lS(T,C)||T.push(C)}g=new Nn(T),p=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,p=f.fieldTransforms;return new Dx(new _n(m),g,p)}class mf extends og{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mf}}function Ox(r,e,n,s){const o=r.Cc(1,e,n);ug("Data must be an object, but it was:",o,s);const u=[],f=_n.empty();vs(s,((g,p)=>{const T=cg(e,g,n);p=Ft(p);const S=o.yc(T);if(p instanceof mf)u.push(T);else{const C=Cu(p,S);C!=null&&(u.push(T),f.set(T,C))}}));const m=new Nn(u);return new iS(f,m,o.fieldTransforms)}function Mx(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[dp(e,s,n)],g=[o];if(u.length%2!=0)throw new ue(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)m.push(dp(e,u[C])),g.push(u[C+1]);const p=[],T=_n.empty();for(let C=m.length-1;C>=0;--C)if(!lS(p,m[C])){const k=m[C];let F=g[C];F=Ft(F);const X=f.yc(k);if(F instanceof mf)p.push(k);else{const L=Cu(F,X);L!=null&&(p.push(k),T.set(k,L))}}const S=new Nn(p);return new iS(T,S,f.fieldTransforms)}function Vx(r,e,n,s=!1){return Cu(n,r.Cc(s?4:3,e))}function Cu(r,e){if(oS(r=Ft(r)))return ug("Unsupported field value:",e,r),aS(r,e);if(r instanceof og)return(function(s,o){if(!rS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=Cu(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Ft(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return TN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=lt.fromDate(s);return{timestampValue:Uh(o.serializer,u)}}if(s instanceof lt){const u=new lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,u)}}if(s instanceof Ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:S1(o.serializer,s._byteString)};if(s instanceof Tt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Qp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof zi)return(function(f,m){return{mapValue:{fields:{[JT]:{stringValue:ZT},[Vh]:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return qp(m.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Zh(s)}`)})(r,e)}function aS(r,e){const n={};return GT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(r,((s,o)=>{const u=Cu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function oS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof lt||r instanceof Ui||r instanceof Fn||r instanceof Tt||r instanceof og||r instanceof zi)}function ug(r,e,n){if(!oS(n)||!HT(n)){const s=Zh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function dp(r,e,n){if((e=Ft(e))instanceof ff)return e._internalPath;if(typeof e=="string")return cg(r,e);throw Hh("Field path arguments must be of type string or ",r,!1,void 0,n)}const kx=new RegExp("[~\\*/\\[\\]]");function cg(r,e,n){if(e.search(kx)>=0)throw Hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ff(...e.split("."))._internalPath}catch{throw Hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Hh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ue(ee.INVALID_ARGUMENT,m+r+g)}function lS(r,e){return r.some((n=>n.isEqual(e)))}class uS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Px(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Px extends uS{data(){return super.data()}}function hg(r,e){return typeof e=="string"?cg(r,e):e instanceof ff?e._internalPath:e._delegate._internalPath}function Lx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fg{}class jx extends fg{}function cu(r,e,...n){let s=[];e instanceof fg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof dg)).length,m=u.filter((g=>g instanceof pf)).length;if(f>1||f>0&&m>0)throw new ue(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class pf extends jx{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new pf(e,n,s)}_apply(e){const n=this._parse(e);return cS(e._query,n),new Vo(e.firestore,e.converter,np(e._query,n))}_parse(e){const n=df(e.firestore);return(function(u,f,m,g,p,T,S){let C;if(p.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){b0(S,T);const F=[];for(const X of S)F.push(A0(g,u,X));C={arrayValue:{values:F}}}else C=A0(g,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||b0(S,T),C=Vx(m,f,S,T==="in"||T==="not-in");return Mt.create(p,T,C)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function hu(r,e,n){const s=e,o=hg("where",r);return pf._create(o,s,n)}class dg extends fg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)cS(f,g),f=np(f,g)})(e._query,n),new Vo(e.firestore,e.converter,np(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function A0(r,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new ue(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!a1(e)&&n.indexOf("/")!==-1)throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!ge.isDocumentKey(s))throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return zE(r,new ge(s))}if(n instanceof Tt)return zE(r,n._key);throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zh(n)}.`)}function b0(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cS(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ux{convertValue(e,n="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return vs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Vh].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new zi(n)}convertGeoPoint(e){return new Ui(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=tf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const n=fs(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Qe(I1(s),9688,{name:e});const o=new au(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||yr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function hS(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ea extends uS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(hg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:kt("string",ea._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class Sh extends ea{data(e={}){return super.data(e)}}class ho{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Sh(this._firestore,this._userDataWriter,s.key,s,new Kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new Sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,T=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:zx(m.type),doc:g,oldIndex:p,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ho._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}function Bx(r){r=li(r,Tt);const e=li(r.firestore,ca);return bx(ag(e),r._key).then((n=>Hx(e,r,n)))}ho._jsonSchemaVersion="firestore/querySnapshot/1.0",ho._jsonSchema={type:kt("string",ho._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class fS extends Ux{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function Bi(r){r=li(r,Vo);const e=li(r.firestore,ca),n=ag(e),s=new fS(e);return Lx(r._query),wx(n,r._query).then((o=>new ho(e,s,r,o)))}function qx(r,e,n){r=li(r,Tt);const s=li(r.firestore,ca),o=hS(r.converter,e);return gf(s,[sS(df(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Gn.none())])}function fu(r,e,n,...s){r=li(r,Tt);const o=li(r.firestore,ca),u=df(o);let f;return f=typeof(e=Ft(e))=="string"||e instanceof ff?Mx(u,"updateDoc",r._key,e,n,s):Ox(u,"updateDoc",r._key,e),gf(o,[f.toMutation(r._key,Gn.exists(!0))])}function Eo(r){return gf(li(r.firestore,ca),[new Hp(r._key,Gn.none())])}function To(r,e){const n=li(r.firestore,ca),s=vn(r),o=hS(r.converter,e);return gf(n,[sS(df(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then((()=>s))}function gf(r,e){return(function(s,o){const u=new dr;return s.asyncQueue.enqueueAndForget((async()=>fx(await Ax(s),o,u))),u.promise})(ag(r),e)}function Hx(r,e,n){const s=n.docs.get(e._key),o=new fS(r);return new ea(r,o,e._key,s,new Kl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Do=o})(Io),fo(new na("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ca(new MI(s.getProvider("auth-internal")),new PI(f,s.getProvider("app-check-internal")),(function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ue(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(p.options.projectId,T)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ls(CE,IE,e),ls(CE,IE,"esm2020")})();const Fx={apiKey:"AIzaSyDut67p76S-dtZddcXrtjHA94F3VGtS4Og",authDomain:"ecovecino-d017f.firebaseapp.com",projectId:"ecovecino-d017f",storageBucket:"ecovecino-d017f.firebasestorage.app",messagingSenderId:"377006069148",appId:"1:377006069148:web:4d371b5c1333ae933e6459",measurementId:"G-08CFJXVHDF"},dS=$0(Fx),ch=NI(dS),ze=Cx(dS),mS=U.createContext(null),Gx=({children:r})=>{const[e,n]=U.useState(null),[s,o]=U.useState(!0);U.useEffect(()=>{const g=y2(ch,async p=>{if(p){const T=await Bx(vn(ze,"users",p.uid));T.exists()?n({...p,...T.data()}):n(p)}else n(null);o(!1)});return()=>g()},[]);const u=async(g,p)=>{try{return await m2(ch,g,p),!0}catch(T){throw console.error("Error al iniciar sesin:",T),T}},f=async g=>{try{const T=(await d2(ch,g.email,g.password)).user,S={uid:T.uid,email:g.email,name:g.name,role:g.role,phone:g.phone||"",unit:g.unit||"",community_id:g.community_id||null,created_at:new Date().toISOString()};return await qx(vn(ze,"users",T.uid),S),!0}catch(p){throw console.error("Error al registrarse:",p),p}},m=async()=>{try{await _2(ch),n(null)}catch(g){console.error("Error al cerrar sesin:",g)}};return E.jsx(mS.Provider,{value:{user:e,login:u,signup:f,logout:m,isAuthenticated:!!e,loading:s},children:!s&&r})},ha=()=>U.useContext(mS);const Qx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),w0=r=>{const e=Kx(r);return e.charAt(0).toUpperCase()+e.slice(1)},pS=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),Yx=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Xx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $x=U.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},g)=>U.createElement("svg",{ref:g,...Xx,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:pS("lucide",o),...!u&&!Yx(m)&&{"aria-hidden":"true"},...m},[...f.map(([p,T])=>U.createElement(p,T)),...Array.isArray(u)?u:[u]]));const nt=(r,e)=>{const n=U.forwardRef(({className:s,...o},u)=>U.createElement($x,{ref:u,iconNode:e,className:pS(`lucide-${Qx(w0(r))}`,`lucide-${r}`,s),...o}));return n.displayName=w0(r),n};const Jx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Zx=nt("arrow-right",Jx);const Wx=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Fh=nt("building",Wx);const eO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tO=nt("calendar",eO);const nO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],iO=nt("circle-alert",nO);const rO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sO=nt("clock",rO);const aO=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],oO=nt("code",aO);const lO=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],uO=nt("github",lO);const cO=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],hO=nt("heart",cO);const fO=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],dO=nt("key-round",fO);const mO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],pO=nt("lock",mO);const gO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],yO=nt("log-out",gO);const _O=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],vO=nt("mail",_O);const EO=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],TO=nt("map-pin",EO);const SO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],AO=nt("menu",SO);const bO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],wO=nt("message-square",bO);const RO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],CO=nt("moon",RO);const IO=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],NO=nt("phone",IO);const DO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],So=nt("plus",DO);const xO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],OO=nt("shield-check",xO);const MO=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],yf=nt("square-pen",MO);const VO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],kO=nt("sun",VO);const PO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ao=nt("trash-2",PO);const LO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],mp=nt("user",LO);const jO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gS=nt("users",jO);const UO=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],zO=nt("video",UO);const BO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_f=nt("x",BO);const qO=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],HO=nt("zap",qO);function st({children:r,variant:e="primary",size:n="md",onClick:s,type:o="button",disabled:u=!1,className:f=""}){return E.jsx("button",{type:o,onClick:s,disabled:u,className:`btn btn-${e} btn-${n} ${f}`,children:r})}function jm(){const[r,e]=U.useState(()=>typeof window<"u"?localStorage.getItem("theme")==="dark"||!localStorage.getItem("theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches:!1),[n,s]=U.useState(!1);U.useEffect(()=>{r?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"),localStorage.setItem("theme","light"))},[r]);const o=()=>s(!n);return E.jsx("nav",{className:"navbar",children:E.jsxs("div",{className:"navbar-container container",children:[E.jsxs(lr,{to:"/",className:"navbar-logo",children:[E.jsx("img",{src:"/logo.png",alt:"Eco Vecinos",className:"logo-img"}),E.jsx("span",{children:"Eco Vecinos"})]}),E.jsx("button",{className:"menu-toggle",onClick:o,children:n?E.jsx(_f,{size:24}):E.jsx(AO,{size:24})}),E.jsxs("div",{className:`navbar-links ${n?"active":""}`,children:[E.jsx(lr,{to:"/",className:"nav-link",onClick:()=>s(!1),children:"Inicio"}),E.jsx(lr,{to:"/about",className:"nav-link",onClick:()=>s(!1),children:"Sobre Nosotros"}),E.jsx("button",{onClick:()=>e(!r),className:"theme-toggle","aria-label":"Toggle theme",children:r?E.jsx(kO,{size:20}):E.jsx(CO,{size:20})}),E.jsx(lr,{to:"/login",onClick:()=>s(!1),children:E.jsx(st,{size:"sm",children:"Acceder"})})]})]})})}function FO(){const{user:r,logout:e}=ha(),n=vr(),s=Qh();if(!r)return E.jsx(Xb,{to:"/login",replace:!0});const o=p=>n.pathname===p,u=()=>{e(),s("/login")},f=()=>{switch(r.role){case"super_admin":return"Panel de Administracin";case"president":return"Panel de Presidencia";default:return"rea de Vecinos"}},g=[{path:"/dashboard",label:"Tabln",icon:wO,roles:["super_admin","president","owner","tenant"]},{path:"/dashboard/communities",label:"Comunidades",icon:Fh,roles:["super_admin"]},{path:"/dashboard/neighbors",label:"Vecinos",icon:gS,roles:["super_admin","president"]},{path:"/dashboard/incidents",label:"Incidencias",icon:iO,roles:["super_admin","president","owner","tenant"]},{path:"/dashboard/meetings",label:"Juntas",icon:tO,roles:["super_admin","president","owner","tenant"]}].filter(p=>p.roles.includes(r.role));return E.jsxs("div",{className:"dashboard-layout",children:[E.jsxs("aside",{className:"dashboard-sidebar",children:[E.jsxs("div",{className:"sidebar-header",children:[E.jsx("img",{src:"/logo.png",alt:"Eco Vecinos",className:"sidebar-logo"}),E.jsxs("div",{className:"user-info",children:[E.jsx("p",{className:"user-name",children:r.name}),E.jsx("span",{className:"panel-badge",children:f()})]})]}),E.jsx("nav",{className:"sidebar-nav",children:g.map(p=>E.jsxs(lr,{to:p.path,className:`nav-item ${o(p.path)?"active":""}`,children:[E.jsx(p.icon,{size:20}),E.jsx("span",{children:p.label})]},p.path))}),E.jsx("div",{className:"sidebar-footer",children:E.jsxs("button",{onClick:u,className:"nav-item logout-btn",children:[E.jsx(yO,{size:20}),E.jsx("span",{children:"Cerrar sesin"})]})})]}),E.jsx("main",{className:"dashboard-main",children:E.jsx($b,{})})]})}function GO(){return E.jsxs("div",{className:"landing-page",children:[E.jsx("section",{className:"hero",children:E.jsx("div",{className:"container",children:E.jsxs("div",{className:"hero-content",children:[E.jsxs("h1",{children:["Gestin de Comunidades ",E.jsx("br",{}),E.jsx("span",{className:"gradient-text",children:"Inteligente y Sostenible"})]}),E.jsx("p",{className:"hero-description",children:"Olvdate del papel y los chats desordenados. Eco Vecinos centraliza incidencias, juntas y votaciones en una plataforma diseada para la tranquilidad de tu hogar."}),E.jsxs("div",{className:"hero-buttons",children:[E.jsx(lr,{to:"/login",children:E.jsxs(st,{size:"lg",children:["Empezar ahora ",E.jsx(Zx,{size:18})]})}),E.jsx(lr,{to:"/about",children:E.jsx(st,{variant:"outline",size:"lg",children:"Conocer ms"})})]})]})})}),E.jsx("section",{className:"features section",children:E.jsx("div",{className:"container",children:E.jsxs("div",{className:"features-grid",children:[E.jsxs("div",{className:"feature-card",children:[E.jsx("div",{className:"feature-icon",children:E.jsx(HO,{size:24})}),E.jsx("h3",{children:"Incidencias en tiempo real"}),E.jsx("p",{children:"Reporta averas desde el mvil y sigue su estado hasta la reparacin. Sin intermediarios."})]}),E.jsxs("div",{className:"feature-card",children:[E.jsx("div",{className:"feature-icon",children:E.jsx(gS,{size:24})}),E.jsx("h3",{children:"Juntas Virtuales"}),E.jsx("p",{children:"Asiste a las reuniones desde el sof. Vota decisiones importantes con un solo clic."})]}),E.jsxs("div",{className:"feature-card",children:[E.jsx("div",{className:"feature-icon",children:E.jsx(OO,{size:24})}),E.jsx("h3",{children:"Transparencia Total"}),E.jsx("p",{children:"Accede a las actas, cuentas y tabln de anuncios oficial. Todo claro, todo seguro."})]}),E.jsxs("div",{className:"feature-card",children:[E.jsx("div",{className:"feature-icon",children:E.jsx(Fh,{size:24})}),E.jsx("h3",{children:"Multi-Comunidad"}),E.jsx("p",{children:"Tienes una segunda residencia? Gestiona todas tus propiedades desde una nica cuenta."})]})]})})})]})}function sn({children:r,className:e=""}){return E.jsx("div",{className:`card ${e}`,children:r})}function QO(){return E.jsx("div",{className:"about-page page-wrapper",children:E.jsxs("div",{className:"container",children:[E.jsxs("div",{className:"about-header",children:[E.jsxs("h1",{children:["Sobre ",E.jsx("span",{className:"text-primary",children:"Eco Vecinos"})]}),E.jsx("p",{children:"Una iniciativa tecnolgica para modernizar la convivencia."})]}),E.jsxs(sn,{className:"author-card",children:[E.jsx("div",{className:"author-avatar",children:E.jsx(mp,{size:48})}),E.jsx("h2",{children:"Carlos Javier Castaos Blanco"}),E.jsx("span",{className:"role-badge",children:"Desarrollador Full Stack & Estudiante DAW"}),E.jsx("p",{className:"bio",children:"Apasionado por la tecnologa y la sostenibilidad. Cre Eco Vecinos como proyecto de 1 de DAW para resolver un problema real: la falta de transparencia y agilidad en las comunidades de vecinos. Mi objetivo es simplificar la vida a las personas mediante software intuitivo y accesible."}),E.jsx("div",{className:"social-links",children:E.jsx("a",{href:"https://github.com/carlitic",target:"_blank",rel:"noopener noreferrer",className:"social-link","aria-label":"GitHub",children:E.jsx(uO,{size:20})})})]}),E.jsxs("div",{className:"mission-grid",children:[E.jsxs(sn,{className:"mission-card",children:[E.jsx(oO,{size:32,className:"mission-icon"}),E.jsx("h3",{children:"Cdigo Limpio"}),E.jsx("p",{children:"Desarrollado con las ltimas tecnologas web para garantizar velocidad y seguridad."})]}),E.jsxs(sn,{className:"mission-card",children:[E.jsx(hO,{size:32,className:"mission-icon"}),E.jsx("h3",{children:"Hecho con Pasin"}),E.jsx("p",{children:"Cada lnea de cdigo est pensada para mejorar la experiencia del usuario final."})]})]})]})})}function Vt({label:r,type:e="text",placeholder:n,value:s,onChange:o,required:u=!1,icon:f,error:m,...g}){return E.jsxs("div",{className:"input-group",children:[r&&E.jsxs("label",{className:"input-label",children:[r,u&&E.jsx("span",{className:"required",children:"*"})]}),E.jsxs("div",{className:"input-wrapper",children:[f&&E.jsx(f,{className:"input-icon",size:18}),E.jsx("input",{type:e,placeholder:n,value:s,onChange:o,required:u,className:`input ${f?"input-with-icon":""} ${m?"input-error":""}`,...g})]}),m&&E.jsx("span",{className:"error-message",children:m})]})}function KO(){const{login:r,signup:e}=ha(),[n,s]=U.useState(!0),o=Qh(),[u,f]=U.useState({email:"",password:"",name:"",phone:"",role:"owner",community_id:"",unit:""}),[m,g]=U.useState([]);U.useEffect(()=>{(async()=>{try{const k=(await Bi(Ot(ze,"communities"))).docs.map(F=>({id:F.id,...F.data()}));g(k)}catch(C){console.error("Error fetching communities:",C)}})()},[]);const p=S=>{f({...u,[S.target.name]:S.target.value})},T=async S=>{S.preventDefault();try{n?await r(u.email,u.password):await e(u),o("/dashboard")}catch(C){console.error("Authentication error:",C),alert("Error de autenticacin: "+C.message)}};return E.jsx("div",{className:"login-page",children:E.jsxs(sn,{className:"login-card",children:[E.jsxs("div",{className:"login-header",children:[E.jsx("h2",{children:n?"Bienvenido de nuevo":"nete a Eco Vecinos"}),E.jsx("p",{children:n?"Accede a tu comunidad":"Gestiona tu comunidad de forma eficiente"})]}),E.jsxs("form",{onSubmit:T,className:"login-form",children:[!n&&E.jsxs(E.Fragment,{children:[E.jsx(Vt,{label:"Nombre completo",type:"text",name:"name",placeholder:"Juan Prez",value:u.name,onChange:p,icon:mp,required:!0}),E.jsxs("div",{className:"form-row",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[E.jsx(Vt,{label:"Telfono",type:"tel",name:"phone",placeholder:"600 000 000",value:u.phone,onChange:p,icon:NO,required:!0}),E.jsx(Vt,{label:"Piso / Puerta",type:"text",name:"unit",placeholder:"Ej: 1 A",value:u.unit,onChange:p,icon:Fh,required:!0})]}),E.jsxs("div",{className:"input-group",children:[E.jsxs("label",{className:"input-label",children:["Rol en la comunidad ",E.jsx("span",{className:"required",children:"*"})]}),E.jsxs("div",{className:"role-selector",style:{gridTemplateColumns:"1fr 1fr 1fr"},children:[E.jsxs("button",{type:"button",className:`role-btn ${u.role==="president"?"active":""}`,onClick:()=>f({...u,role:"president"}),children:[E.jsx(dO,{size:16})," Presidente"]}),E.jsxs("button",{type:"button",className:`role-btn ${u.role==="owner"?"active":""}`,onClick:()=>f({...u,role:"owner"}),children:[E.jsx(mp,{size:16})," Vecino"]})]})]}),u.role==="owner"&&E.jsxs("div",{className:"input-group",style:{marginTop:"0.5rem"},children:[E.jsxs("label",{className:"input-label",children:["Comunidad ",E.jsx("span",{className:"required",children:"*"})]}),E.jsxs("div",{className:"input-wrapper",children:[E.jsx(Fh,{className:"input-icon",size:18}),E.jsxs("select",{name:"community_id",value:u.community_id,onChange:p,required:!0,className:"input input-with-icon",children:[E.jsx("option",{value:"",children:"-- Seleccionar comunidad --"}),m.map(S=>E.jsx("option",{value:S.id,children:S.name},S.id))]})]})]})]}),E.jsx(Vt,{label:"Correo electrnico",type:"email",name:"email",placeholder:"tu@email.com",value:u.email,onChange:p,icon:vO,required:!0}),E.jsx(Vt,{label:"Contrasea",type:"password",name:"password",placeholder:"",value:u.password,onChange:p,icon:pO,required:!0}),E.jsx(st,{type:"submit",className:"btn-block",children:n?"Iniciar sesin":"Registrarse"})]}),E.jsx("div",{className:"login-footer",children:E.jsxs("p",{children:[n?"No tienes cuenta?":"Ya tienes cuenta?",E.jsx("button",{type:"button",onClick:()=>s(!n),className:"toggle-btn",children:n?"Regstrate":"Inicia sesin"})]})})]})})}function vf({isOpen:r,onClose:e,onConfirm:n,title:s,message:o}){return r?E.jsx("div",{className:"modal-overlay",children:E.jsxs("div",{className:"modal-content",children:[E.jsxs("div",{className:"modal-header",children:[E.jsx("h3",{children:s}),E.jsx("button",{className:"icon-btn close-btn",onClick:e,children:E.jsx(_f,{size:20})})]}),E.jsx("div",{className:"modal-body",children:E.jsx("p",{children:o})}),E.jsxs("div",{className:"modal-footer",children:[E.jsx(st,{variant:"ghost",onClick:e,children:"Cancelar"}),E.jsx(st,{variant:"danger",onClick:n,children:"Eliminar"})]})]})}):null}function YO(){const{user:r}=ha(),[e,n]=U.useState([]),[s,o]=U.useState([]),[u,f]=U.useState(!0),[m,g]=U.useState(!1),[p,T]=U.useState(!1),[S,C]=U.useState({title:"",content:""}),[k,F]=U.useState({id:null,name:"",contact:"",phone:""}),[X,L]=U.useState([]);U.useEffect(()=>{r&&(ie(),r.role==="super_admin"&&Y())},[r]);const Y=async()=>{try{const R=await Bi(Ot(ze,"communities"));L(R.docs.map(M=>({id:M.id,...M.data()})))}catch(R){console.error("Error fetching communities:",R)}},ie=async()=>{try{if(!r.community_id&&r.role!=="super_admin"){f(!1);return}let R,M;r.role==="super_admin"?(R=Ot(ze,"posts"),M=Ot(ze,"services")):(R=cu(Ot(ze,"posts"),hu("community_id","==",r.community_id)),M=cu(Ot(ze,"services"),hu("community_id","==",r.community_id)));const[N,He]=await Promise.all([Bi(R),Bi(M)]),it=N.docs.map(K=>({id:K.id,...K.data()}));it.sort((K,ae)=>new Date(ae.created_at)-new Date(K.created_at)),n(it),o(He.docs.map(K=>({id:K.id,...K.data()})))}catch(R){console.error("Error cargando tablero:",R)}finally{f(!1)}},re=async R=>{R.preventDefault();try{const M=r.role==="super_admin"?S.community_id:r.community_id;if(!M){alert("Debes seleccionar una comunidad");return}const N={title:S.title,content:S.content,community_id:M,author_id:r.uid||r.id,created_at:new Date().toISOString()},He=await To(Ot(ze,"posts"),N);n([{id:He.id,...N},...e]),C({title:"",content:"",community_id:""}),g(!1)}catch(M){console.error("Error creando post:",M),alert("Error: "+M.message)}},Z=async R=>{R.preventDefault();try{const M=r.role==="super_admin"?k.community_id:r.community_id;if(!M){alert("Debes seleccionar una comunidad");return}if(k.id){const N=vn(ze,"services",k.id),{id:He,...it}=k;r.role==="super_admin"&&(it.community_id=M),await fu(N,it),o(s.map(K=>K.id===k.id?{...K,...it,community_id:M}:K))}else{const N={name:k.name,contact:k.contact,phone:k.phone,community_id:M},He=await To(Ot(ze,"services"),N);o([...s,{id:He.id,...N}])}F({id:null,name:"",contact:"",phone:"",community_id:""}),T(!1)}catch(M){console.error("Error guardando servicio:",M),alert("Error: "+M.message)}},[le,me]=U.useState({isOpen:!1,title:"",message:"",onConfirm:null}),D=R=>{me({isOpen:!0,title:"Borrar Anuncio",message:"Ests seguro de que quieres borrar este anuncio?",onConfirm:async()=>{try{await Eo(vn(ze,"posts",R)),n(M=>M.filter(N=>N.id!==R)),me({...le,isOpen:!1})}catch(M){console.error("Error borrando post:",M)}}})},w=R=>{me({isOpen:!0,title:"Eliminar Servicio",message:"Ests seguro de que quieres eliminar este servicio de contacto?",onConfirm:async()=>{try{await Eo(vn(ze,"services",R)),o(M=>M.filter(N=>N.id!==R)),me({...le,isOpen:!1})}catch(M){console.error("Error borrando servicio:",M)}}})},I=R=>{F({...R,community_id:R.community_id||""}),T(!0)},O=r.role==="president"||r.role==="super_admin";return u?E.jsx("div",{className:"p-4",children:"Cargando tablero..."}):E.jsxs("div",{className:"notice-board-page",children:[E.jsxs("div",{className:"page-header",children:[E.jsxs("div",{children:[E.jsx("h1",{children:"Tabln de Anuncios"}),E.jsx("p",{children:"Informacin y avisos de la comunidad"})]}),O&&E.jsxs("div",{className:"header-actions",style:{display:"flex",gap:"1rem"},children:[E.jsxs(st,{onClick:()=>{F({id:null,name:"",contact:"",phone:"",community_id:""}),T(!p)},variant:"secondary",children:[E.jsx(So,{size:18})," Servicio"]}),E.jsxs(st,{onClick:()=>{C({title:"",content:"",community_id:""}),g(!m)},children:[E.jsx(So,{size:18})," Anuncio"]})]})]}),m&&E.jsxs(sn,{className:"post-form",children:[E.jsx("h3",{children:"Publicar nuevo anuncio"}),E.jsxs("form",{onSubmit:re,className:"form-grid",children:[r.role==="super_admin"&&E.jsxs("div",{className:"input-group",children:[E.jsxs("label",{className:"input-label",children:["Comunidad ",E.jsx("span",{className:"required",children:"*"})]}),E.jsxs("select",{className:"input",value:S.community_id,onChange:R=>C({...S,community_id:R.target.value}),required:!0,children:[E.jsx("option",{value:"",children:"Selecciona una comunidad"}),X.map(R=>E.jsx("option",{value:R.id,children:R.name},R.id))]})]}),E.jsx(Vt,{label:"Ttulo",placeholder:"Ej: Horario de limpieza modificado",value:S.title,onChange:R=>C({...S,title:R.target.value}),required:!0}),E.jsxs("div",{className:"input-group",children:[E.jsxs("label",{className:"input-label",children:["Contenido ",E.jsx("span",{className:"required",children:"*"})]}),E.jsx("textarea",{className:"input",rows:"4",placeholder:"Escribe el contenido del anuncio...",value:S.content,onChange:R=>C({...S,content:R.target.value}),required:!0})]}),E.jsxs("div",{className:"form-actions",children:[E.jsx(st,{type:"button",variant:"ghost",onClick:()=>g(!1),children:"Cancelar"}),E.jsx(st,{type:"submit",children:"Publicar"})]})]})]}),p&&E.jsxs(sn,{className:"post-form",children:[E.jsx("h3",{children:k.id?"Editar Servicio":"Nuevo Servicio de Contacto"}),E.jsxs("form",{onSubmit:Z,className:"form-grid",children:[r.role==="super_admin"&&E.jsxs("div",{className:"input-group",children:[E.jsxs("label",{className:"input-label",children:["Comunidad ",E.jsx("span",{className:"required",children:"*"})]}),E.jsxs("select",{className:"input",value:k.community_id,onChange:R=>F({...k,community_id:R.target.value}),required:!0,children:[E.jsx("option",{value:"",children:"Selecciona una comunidad"}),X.map(R=>E.jsx("option",{value:R.id,children:R.name},R.id))]})]}),E.jsx(Vt,{label:"Servicio",placeholder:"Ej: Fontanera Urgente",value:k.name,onChange:R=>F({...k,name:R.target.value}),required:!0}),E.jsx(Vt,{label:"Nombre Contacto",placeholder:"Ej: Pedro Martnez",value:k.contact,onChange:R=>F({...k,contact:R.target.value}),required:!0}),E.jsx(Vt,{label:"Telfono",placeholder:"600 000 000",value:k.phone,onChange:R=>F({...k,phone:R.target.value}),required:!0}),E.jsxs("div",{className:"form-actions",children:[E.jsx(st,{type:"button",variant:"ghost",onClick:()=>{T(!1),F({id:null,name:"",contact:"",phone:"",community_id:""})},children:"Cancelar"}),E.jsx(st,{type:"submit",children:"Guardar"})]})]})]}),E.jsxs("div",{className:"board-grid",children:[E.jsxs("div",{className:"posts-section",children:[E.jsx("h2",{children:"Anuncios"}),e.length===0?E.jsx("p",{children:"No hay anuncios."}):E.jsx("div",{className:"posts-list",children:e.map(R=>E.jsxs(sn,{className:"post-card",children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[E.jsx("h3",{children:R.title}),O&&E.jsx("button",{className:"icon-btn delete-btn",onClick:()=>D(R.id),title:"Borrar anuncio",children:E.jsx(Ao,{size:16})})]}),E.jsx("p",{children:R.content}),E.jsx("span",{className:"post-date",children:R.created_at?new Date(R.created_at).toLocaleDateString("es-ES"):""})]},R.id))})]}),E.jsxs("div",{className:"services-section",children:[E.jsx("h2",{children:"Servicios de Contacto"}),E.jsx("div",{className:"services-list",children:s.map(R=>E.jsxs(sn,{className:"service-card",children:[E.jsxs("div",{className:"service-header",style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[E.jsx("h4",{children:R.name}),O&&E.jsxs("div",{className:"service-actions",style:{display:"flex",gap:"0.25rem"},children:[E.jsx("button",{className:"icon-btn",onClick:()=>I(R),children:E.jsx(yf,{size:14})}),E.jsx("button",{className:"icon-btn delete-btn",onClick:()=>w(R.id),children:E.jsx(Ao,{size:14})})]})]}),E.jsx("p",{className:"service-contact",children:R.contact}),E.jsxs("a",{href:`tel:${R.phone} `,className:"service-phone",children:[" ",R.phone]})]},R.id))})]})]}),E.jsx(vf,{isOpen:le.isOpen,onClose:()=>me({...le,isOpen:!1}),onConfirm:le.onConfirm,title:le.title,message:le.message})]})}function XO(){const{user:r}=ha(),[e,n]=U.useState([]),[s,o]=U.useState(!0),[u,f]=U.useState(!1),[m,g]=U.useState([]),[p,T]=U.useState({title:"",description:"",community_id:""}),[S,C]=U.useState(null),[k,F]=U.useState(!1);U.useEffect(()=>{r&&(L(),r.role==="super_admin"&&X())},[r]);const X=async()=>{try{const w=await Bi(Ot(ze,"communities"));g(w.docs.map(I=>({id:I.id,...I.data()})))}catch(w){console.error("Error fetching communities:",w)}},L=async()=>{try{let w;r.role==="super_admin"?w=Ot(ze,"incidents"):w=cu(Ot(ze,"incidents"),hu("community_id","==",r.community_id||""));const O=(await Bi(w)).docs.map(R=>({id:R.id,...R.data()}));O.sort((R,M)=>new Date(M.created_at)-new Date(R.created_at)),n(O)}catch(w){console.error("Error cargando incidencias:",w)}finally{o(!1)}},Y=async w=>{w.preventDefault();try{if(S){const I=vn(ze,"incidents",S),O={title:p.title,description:p.description};r.role==="super_admin"&&p.community_id&&(O.community_id=p.community_id),await fu(I,O),n(e.map(R=>R.id===S?{...R,...O}:R)),C(null)}else{const I=r.role==="super_admin"?p.community_id:r.community_id;if(!I){alert("Debes seleccionar una comunidad");return}const O={title:p.title,description:p.description,status:"pending",community_id:I,reporter_id:r.uid||r.id,created_at:new Date().toISOString()},R=await To(Ot(ze,"incidents"),O);n([{id:R.id,...O},...e])}T({title:"",description:"",community_id:""}),f(!1)}catch(I){console.error("Error guardando incidencia:",I),alert("Error al guardar: "+I.message)}},ie=w=>{T({title:w.title,description:w.description,community_id:w.community_id}),C(w.id),f(!0)},[re,Z]=U.useState({isOpen:!1,title:"",message:"",onConfirm:null}),le=w=>{Z({isOpen:!0,title:"Eliminar Incidencia",message:"Ests seguro de que quieres eliminar esta incidencia permanentemente?",onConfirm:async()=>{try{await Eo(vn(ze,"incidents",w)),n(I=>I.filter(O=>O.id!==w)),Z({...re,isOpen:!1})}catch(I){console.error("Error eliminando:",I)}}})},me=async(w,I)=>{try{await fu(vn(ze,"incidents",w),{status:I}),n(e.map(O=>O.id===w?{...O,status:I}:O))}catch(O){console.error("Error actualizando estado:",O)}},D=w=>{const I={pending:{label:"Pendiente",class:"status-pending"},in_progress:{label:"En progreso",class:"status-progress"},resolved:{label:"Resuelta",class:"status-resolved"}};return I[w]||I.pending};return s?E.jsx("div",{className:"p-4",children:"Cargando incidencias..."}):E.jsxs("div",{className:"incidents-page",children:[E.jsxs("div",{className:"page-header",children:[E.jsxs("div",{children:[E.jsx("h1",{children:"Incidencias"}),E.jsx("p",{children:"Gestin de incidencias de la comunidad"})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[E.jsxs("label",{style:{fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[E.jsx("input",{type:"checkbox",checked:k,onChange:w=>F(w.target.checked)}),"Ver resueltas"]}),E.jsxs(st,{onClick:()=>{C(null),T({title:"",description:"",community_id:""}),f(!u)},children:[E.jsx(So,{size:18})," Nueva incidencia"]})]})]}),u&&E.jsxs(sn,{className:"incident-form",children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[E.jsx("h3",{children:S?"Editar incidencia":"Reportar nueva incidencia"}),E.jsx("button",{className:"icon-btn",onClick:()=>f(!1),children:E.jsx(_f,{size:18})})]}),E.jsxs("form",{className:"form-grid",onSubmit:Y,children:[r.role==="super_admin"&&E.jsxs("div",{className:"input-group",children:[E.jsxs("label",{className:"input-label",children:["Comunidad ",E.jsx("span",{className:"required",children:"*"})]}),E.jsxs("select",{className:"input",value:p.community_id,onChange:w=>T({...p,community_id:w.target.value}),required:!0,children:[E.jsx("option",{value:"",children:"Selecciona una comunidad"}),m.map(w=>E.jsx("option",{value:w.id,children:w.name},w.id))]})]}),E.jsx(Vt,{label:"Ttulo",placeholder:"Ej: Ascensor averiado",value:p.title,onChange:w=>T({...p,title:w.target.value}),required:!0}),E.jsxs("div",{className:"input-group",children:[E.jsxs("label",{className:"input-label",children:["Descripcin ",E.jsx("span",{className:"required",children:"*"})]}),E.jsx("textarea",{className:"input",rows:"4",placeholder:"Describe el problema...",value:p.description,onChange:w=>T({...p,description:w.target.value}),required:!0})]}),E.jsxs("div",{className:"form-actions",children:[E.jsx(st,{type:"button",variant:"ghost",onClick:()=>f(!1),children:"Cancelar"}),E.jsx(st,{type:"submit",children:S?"Guardar cambios":"Reportar"})]})]})]}),E.jsx("div",{className:"incidents-grid",children:e.length===0?E.jsx("p",{children:"No hay incidencias reportadas."}):e.filter(w=>k||w.status!=="resolved").map(w=>{const I=D(w.status),O=r.uid||r.id,R=r.role==="super_admin"||r.role==="president"||O===w.reporter_id,M=r.role==="super_admin"||r.role==="president";return E.jsxs(sn,{className:"incident-card",children:[E.jsxs("div",{className:"incident-header",children:[E.jsx("h3",{children:w.title}),E.jsx("span",{className:`status-badge ${I.class}`,children:I.label})]}),E.jsx("p",{children:w.description}),E.jsxs("div",{className:"incident-footer",children:[E.jsx("span",{className:"incident-date",children:w.created_at?new Date(w.created_at).toLocaleDateString("es-ES"):""}),E.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[R&&E.jsx("button",{className:"icon-btn",onClick:()=>ie(w),title:"Editar incidencia",children:E.jsx(yf,{size:16})}),M&&E.jsx("button",{className:"icon-btn delete-btn",onClick:()=>le(w.id),title:"Eliminar incidencia",children:E.jsx(Ao,{size:16})}),(r.role==="president"||r.role==="super_admin")&&E.jsxs("select",{className:"status-select",value:w.status,onChange:N=>me(w.id,N.target.value),children:[E.jsx("option",{value:"pending",children:"Pendiente"}),E.jsx("option",{value:"in_progress",children:"En progreso"}),E.jsx("option",{value:"resolved",children:"Resuelta"})]})]})]})]},w.id)})}),E.jsx(vf,{isOpen:re.isOpen,onClose:()=>Z({...re,isOpen:!1}),onConfirm:re.onConfirm,title:re.title,message:re.message})]})}function $O(){const{user:r}=ha(),[e,n]=U.useState([]),[s,o]=U.useState(!0),[u,f]=U.useState(null),[m,g]=U.useState(!1),[p,T]=U.useState({title:"",description:"",date:"",time:"",location:""});U.useEffect(()=>{r&&S()},[r]);const S=async()=>{try{if(!r.community_id&&r.role!=="super_admin"){o(!1);return}let L;r.role==="super_admin"?L=Ot(ze,"meetings"):L=cu(Ot(ze,"meetings"),hu("community_id","==",r.community_id));const ie=(await Bi(L)).docs.map(re=>({id:re.id,...re.data()}));ie.sort((re,Z)=>new Date(Z.date)-new Date(re.date)),n(ie)}catch(L){console.error("Error loading meetings:",L)}finally{o(!1)}},C=async L=>{L.preventDefault();try{const Y={title:p.title,description:p.description,date:p.date,time:p.time,location:p.location||"Virtual (Videollamada)",community_id:r.community_id,created_by:r.uid||r.id},ie=await To(Ot(ze,"meetings"),Y);n([{id:ie.id,...Y},...e]),T({title:"",description:"",date:"",time:"",location:""}),g(!1)}catch(Y){console.error("Error creating meeting:",Y),alert("Error: "+Y.message)}},[k,F]=U.useState({isOpen:!1,title:"",message:"",onConfirm:null}),X=L=>{F({isOpen:!0,title:"Cancelar Junta",message:"Ests seguro de que quieres cancelar esta junta? Esta accin no se puede deshacer.",onConfirm:async()=>{try{await Eo(vn(ze,"meetings",L)),n(Y=>Y.filter(ie=>ie.id!==L)),F({...k,isOpen:!1})}catch(Y){console.error("Error deleting meeting:",Y)}}})};return s?E.jsx("div",{className:"p-4",children:"Cargando juntas..."}):u?E.jsxs("div",{className:"video-call-container",children:[E.jsxs("div",{className:"video-header",children:[E.jsxs("h2",{children:["Junta en curso: ",u.title]}),E.jsxs(st,{variant:"secondary",onClick:()=>f(null),children:[E.jsx(_f,{size:18})," Salir de la junta"]})]}),E.jsx("div",{className:"video-frame",children:E.jsx("iframe",{src:`https://meet.jit.si/eco-vecinos-${u.id}`,allow:"camera; microphone; fullscreen; display-capture; autoplay",title:"Videollamada"})})]}):E.jsxs("div",{className:"meetings-page",children:[E.jsxs("div",{className:"page-header",children:[E.jsxs("div",{children:[E.jsx("h1",{children:"Juntas de Vecinos"}),E.jsx("p",{children:"Prximas reuniones de la comunidad"})]}),(r.role==="president"||r.role==="super_admin")&&E.jsxs(st,{onClick:()=>g(!m),children:[E.jsx(So,{size:18})," Convocar junta"]})]}),m&&E.jsxs(sn,{className:"meeting-form",style:{marginBottom:"2rem"},children:[E.jsx("h3",{children:"Convocar nueva junta"}),E.jsxs("form",{className:"form-grid",onSubmit:C,children:[E.jsx(Vt,{label:"Ttulo",placeholder:"Ej: Junta Ordinaria",value:p.title,onChange:L=>T({...p,title:L.target.value}),required:!0}),E.jsxs("div",{className:"input-group",children:[E.jsx("label",{className:"input-label",children:"Descripcin"}),E.jsx("textarea",{className:"input",rows:"3",value:p.description,onChange:L=>T({...p,description:L.target.value})})]}),E.jsxs("div",{className:"form-row",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[E.jsx(Vt,{label:"Fecha",type:"date",value:p.date,onChange:L=>T({...p,date:L.target.value}),required:!0}),E.jsx(Vt,{label:"Hora",type:"time",value:p.time,onChange:L=>T({...p,time:L.target.value}),required:!0})]}),E.jsx(Vt,{label:"Ubicacin",placeholder:"Dejar vaco para solo virtual",value:p.location,onChange:L=>T({...p,location:L.target.value})}),E.jsxs("div",{className:"form-actions",style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",marginTop:"1rem"},children:[E.jsx(st,{type:"button",variant:"ghost",onClick:()=>g(!1),children:"Cancelar"}),E.jsx(st,{type:"submit",children:"Convocar"})]})]})]}),E.jsx("div",{className:"meetings-grid",children:e.length===0?E.jsx("p",{children:"No hay juntas programadas."}):e.map(L=>E.jsxs(sn,{className:"meeting-card",children:[E.jsxs("div",{className:"meeting-date-badge",children:[E.jsx("span",{className:"month",children:"DIC"}),E.jsx("span",{className:"day",children:L.date?new Date(L.date).getDate():"?"})]}),E.jsxs("div",{className:"meeting-content",children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[E.jsx("h3",{children:L.title}),(r.role==="president"||r.role==="super_admin")&&E.jsx("button",{className:"icon-btn delete-btn",onClick:()=>X(L.id),title:"Cancelar junta",children:E.jsx(Ao,{size:16})})]}),E.jsx("p",{children:L.description}),E.jsxs("div",{className:"meeting-details",children:[E.jsxs("div",{className:"detail-item",children:[E.jsx(sO,{size:16}),E.jsx("span",{children:L.time})]}),E.jsxs("div",{className:"detail-item",children:[E.jsx(TO,{size:16}),E.jsx("span",{children:L.location})]})]}),E.jsxs(st,{className:"join-btn",onClick:()=>f(L),children:[E.jsx(zO,{size:18})," Unirse a videollamada"]})]})]},L.id))}),E.jsx(vf,{isOpen:k.isOpen,onClose:()=>F({...k,isOpen:!1}),onConfirm:k.onConfirm,title:k.title,message:k.message})]})}function JO(){const{user:r}=ha(),[e,n]=U.useState([]),[s,o]=U.useState(!0),[u,f]=U.useState(!1),[m,g]=U.useState({name:"",email:"",phone:"",role:"owner",unit:"",linked_owner_id:""}),[p,T]=U.useState([]),S=e.filter(Z=>Z.role==="owner"||Z.role==="president");U.useEffect(()=>{r&&(k(),r.role==="super_admin"&&C())},[r]);const C=async()=>{try{const Z=await Bi(Ot(ze,"communities"));T(Z.docs.map(le=>({id:le.id,...le.data()})))}catch(Z){console.error("Error fetching communities:",Z)}},k=async()=>{try{if(!r.community_id&&r.role!=="super_admin"){o(!1);return}let Z;const le=Ot(ze,"users");r.role==="super_admin"?Z=le:Z=cu(le,hu("community_id","==",r.community_id||""));const D=(await Bi(Z)).docs.map(w=>({id:w.id,...w.data()}));n(D.filter(w=>w.role!=="super_admin"))}catch(Z){console.error("Error loading neighbors:",Z)}finally{o(!1)}},F=async Z=>{Z.preventDefault();try{const le=r.role==="super_admin"?m.community_id:r.community_id;if(r.role==="super_admin"&&!le){alert("Debes seleccionar una comunidad");return}if(m.id){const me=vn(ze,"users",m.id),D={name:m.name,phone:m.phone,role:m.role,unit:m.unit,linked_owner_id:m.role==="tenant"?m.linked_owner_id:null};r.role==="super_admin"&&(D.community_id=le),await fu(me,D),n(e.map(w=>w.id===m.id?{...w,...D,email:m.email}:w))}else{const me={name:m.name,email:m.email,phone:m.phone,role:m.role,unit:m.unit,linked_owner_id:m.role==="tenant"?m.linked_owner_id:null,community_id:le,created_at:new Date().toISOString()},D=await To(Ot(ze,"users"),me);n([...e,{id:D.id,...me}])}g({name:"",email:"",phone:"",role:"owner",unit:"",linked_owner_id:"",community_id:""}),f(!1)}catch(le){console.error("Error saving neighbor:",le),alert("Error: "+le.message)}},[X,L]=U.useState({isOpen:!1,title:"",message:"",onConfirm:null}),Y=Z=>{L({isOpen:!0,title:"Eliminar Vecino",message:"Ests seguro de que quieres eliminar a este vecino? Esta accin borrar sus datos.",onConfirm:async()=>{try{await Eo(vn(ze,"users",Z)),n(le=>le.filter(me=>me.id!==Z)),L({...X,isOpen:!1})}catch(le){console.error("Error deleting neighbor:",le)}}})},ie=Z=>{const le=e.find(me=>me.id.toString()===Z.toString());return le?le.name:"Desconocido"},re=Z=>{const le=p.find(me=>me.id===Z);return le?le.name:"Sin comunidad"};return s?E.jsx("div",{className:"p-4",children:"Cargando vecinos..."}):E.jsxs("div",{className:"neighbors-page",children:[E.jsxs("div",{className:"page-header",children:[E.jsxs("div",{children:[E.jsx("h1",{children:"Vecinos"}),E.jsx("p",{children:"Gestin de residentes de la comunidad"})]}),(r.role==="president"||r.role==="super_admin")&&E.jsxs(st,{onClick:()=>{g({name:"",email:"",phone:"",role:"owner",unit:"",linked_owner_id:"",community_id:""}),f(!u)},children:[E.jsx(So,{size:18})," Aadir vecino"]})]}),u&&E.jsxs(sn,{className:"neighbor-form",children:[E.jsx("h3",{children:m.id?"Editar vecino":"Aadir nuevo vecino"}),E.jsxs("form",{className:"form-grid",onSubmit:F,children:[r.role==="super_admin"&&E.jsxs("div",{className:"input-group",children:[E.jsxs("label",{className:"input-label",children:["Comunidad ",E.jsx("span",{className:"required",children:"*"})]}),E.jsxs("select",{className:"input",value:m.community_id||"",onChange:Z=>g({...m,community_id:Z.target.value}),required:!0,children:[E.jsx("option",{value:"",children:"Selecciona una comunidad"}),p.map(Z=>E.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),E.jsx(Vt,{label:"Nombre completo",placeholder:"Juan Prez",value:m.name,onChange:Z=>g({...m,name:Z.target.value}),required:!0}),E.jsx(Vt,{label:"Email",type:"email",placeholder:"juan@example.com",value:m.email,onChange:Z=>g({...m,email:Z.target.value}),required:!0}),E.jsxs("div",{className:"form-row",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[E.jsx(Vt,{label:"Telfono",type:"tel",placeholder:"600 000 000",value:m.phone,onChange:Z=>g({...m,phone:Z.target.value}),required:!0}),E.jsx(Vt,{label:"Piso / Puerta",placeholder:"Ej: 1 A",value:m.unit,onChange:Z=>g({...m,unit:Z.target.value}),required:!0})]}),E.jsxs("div",{className:"form-row",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[E.jsxs("div",{className:"input-group",children:[E.jsxs("label",{className:"input-label",children:["Tipo ",E.jsx("span",{className:"required",children:"*"})]}),E.jsxs("select",{className:"input",value:m.role,onChange:Z=>g({...m,role:Z.target.value}),required:!0,children:[E.jsx("option",{value:"owner",children:"Propietario"}),E.jsx("option",{value:"tenant",children:"Inquilino"}),r.role==="super_admin"&&E.jsx("option",{value:"president",children:"Presidente"})]})]}),m.role==="tenant"&&E.jsxs("div",{className:"input-group",children:[E.jsxs("label",{className:"input-label",children:["Propietario Asociado ",E.jsx("span",{className:"required",children:"*"})]}),E.jsxs("select",{className:"input",value:m.linked_owner_id,onChange:Z=>g({...m,linked_owner_id:Z.target.value}),required:m.role==="tenant",children:[E.jsx("option",{value:"",children:"Seleccionar propietario..."}),S.map(Z=>E.jsxs("option",{value:Z.id,children:[Z.name," (",Z.unit||"Sin piso asignado",")"]},Z.id))]})]})]}),E.jsxs("div",{className:"form-actions",children:[E.jsx(st,{type:"button",variant:"ghost",onClick:()=>f(!1),children:"Cancelar"}),E.jsx(st,{type:"submit",children:"Aadir"})]})]})]}),E.jsx(sn,{className:"neighbors-table-card",children:E.jsxs("table",{className:"neighbors-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Nombre"}),E.jsx("th",{children:"Piso"}),r.role==="super_admin"&&E.jsx("th",{children:"Comunidad"}),E.jsx("th",{children:"Contacto"}),E.jsx("th",{children:"Tipo"}),(r.role==="president"||r.role==="super_admin")&&E.jsx("th",{children:"Acciones"})]})}),E.jsx("tbody",{children:e.length===0?E.jsx("tr",{children:E.jsx("td",{colSpan:"5",style:{textAlign:"center",padding:"1rem"},children:"No hay vecinos registrados."})}):e.map(Z=>E.jsxs("tr",{children:[E.jsxs("td",{children:[E.jsx("div",{style:{fontWeight:500},children:Z.name}),Z.role==="tenant"&&Z.linked_owner_id&&E.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Prop: ",ie(Z.linked_owner_id)]})]}),E.jsx("td",{children:Z.unit||"-"}),r.role==="super_admin"&&E.jsx("td",{children:re(Z.community_id)}),E.jsxs("td",{children:[E.jsx("div",{children:Z.email}),E.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:Z.phone})]}),E.jsx("td",{children:E.jsx("span",{className:`type-badge ${Z.role}`,children:Z.role==="president"?"Presidente":Z.role==="owner"?"Propietario":"Inquilino"})}),(r.role==="president"||r.role==="super_admin")&&E.jsx("td",{children:E.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[E.jsx("button",{className:"icon-btn",onClick:()=>{g({id:Z.id,name:Z.name,email:Z.email,phone:Z.phone,role:Z.role,unit:Z.unit||"",linked_owner_id:Z.linked_owner_id||"",community_id:Z.community_id||""}),f(!0)},title:"Editar vecino",children:E.jsx(yf,{size:16})}),E.jsx("button",{className:"icon-btn delete-btn",onClick:()=>Y(Z.id),title:"Eliminar vecino",children:E.jsx(Ao,{size:16})})]})})]},Z.id))})]})}),E.jsx(vf,{isOpen:X.isOpen,onClose:()=>L({...X,isOpen:!1}),onConfirm:X.onConfirm,title:X.title,message:X.message})]})}function ZO(){const{user:r}=ha(),[e,n]=U.useState([]),[s,o]=U.useState(!0),[u,f]=U.useState(!1),[m,g]=U.useState({name:"",address:""}),[p,T]=U.useState(null);U.useEffect(()=>{S()},[]);const S=async()=>{try{const Y=(await Bi(Ot(ze,"communities"))).docs.map(ie=>({id:ie.id,...ie.data()}));n(Y)}catch(L){console.error("Error cargando comunidades:",L)}finally{o(!1)}},C=async L=>{L.preventDefault();try{if(p)await fu(vn(ze,"communities",p),{name:m.name,address:m.address}),n(e.map(Y=>Y.id===p?{...Y,name:m.name,address:m.address}:Y)),T(null);else{const Y=await To(Ot(ze,"communities"),{name:m.name,address:m.address,created_at:new Date().toISOString(),president_id:null});n([...e,{id:Y.id,name:m.name,address:m.address,president_id:null}])}g({name:"",address:""}),f(!1)}catch(Y){console.error("Error guardando comunidad:",Y),alert("Error al guardar: "+Y.message)}},k=L=>{g({name:L.name,address:L.address}),T(L.id),f(!0)},F=async L=>{if(window.confirm("Ests seguro de que quieres eliminar esta comunidad?"))try{await Eo(vn(ze,"communities",L)),n(e.filter(Y=>Y.id!==L))}catch(Y){console.error("Error eliminando:",Y),alert("Error al eliminar: "+Y.message)}},X=()=>{f(!1),T(null),g({name:"",address:""})};return s?E.jsx("div",{className:"p-4",children:"Cargando comunidades..."}):E.jsxs("div",{className:"communities-page",children:[E.jsxs("div",{className:"page-header",children:[E.jsxs("div",{children:[E.jsx("h1",{children:"Comunidades"}),E.jsx("p",{children:"Gestin de comunidades del sistema"})]}),E.jsxs(st,{onClick:()=>{T(null),g({name:"",address:""}),f(!u)},children:[E.jsx(So,{size:18})," Nueva comunidad"]})]}),u&&E.jsxs(sn,{className:"community-form",children:[E.jsx("h3",{children:p?"Editar comunidad":"Crear nueva comunidad"}),E.jsxs("form",{className:"form-grid",onSubmit:C,children:[E.jsx(Vt,{label:"Nombre de la comunidad",placeholder:"Residencial Las Flores",value:m.name,onChange:L=>g({...m,name:L.target.value}),required:!0}),E.jsx(Vt,{label:"Direccin",placeholder:"Calle Mayor 123, Madrid",value:m.address,onChange:L=>g({...m,address:L.target.value}),required:!0}),E.jsxs("div",{className:"form-actions",children:[E.jsx(st,{type:"button",variant:"ghost",onClick:X,children:"Cancelar"}),E.jsx(st,{type:"submit",children:p?"Guardar cambios":"Crear"})]})]})]}),E.jsx("div",{className:"communities-grid",children:e.length===0?E.jsx("p",{children:"No hay comunidades creadas an."}):e.map(L=>E.jsxs(sn,{className:"community-card",children:[E.jsx("h3",{children:L.name}),E.jsx("p",{className:"community-address",children:L.address}),E.jsxs("div",{className:"community-footer",children:[E.jsx("span",{className:"community-status",children:L.president_id?" Con presidente":" Sin presidente"}),E.jsxs("div",{className:"community-actions",children:[E.jsx("button",{className:"icon-btn",onClick:()=>k(L),title:"Editar",children:E.jsx(yf,{size:16})}),E.jsx("button",{className:"icon-btn delete-btn",onClick:()=>F(L.id),title:"Eliminar",children:E.jsx(Ao,{size:16})})]})]})]},L.id))})]})}function WO(){return E.jsxs(Zb,{children:[E.jsx(Mi,{path:"/",element:E.jsxs(E.Fragment,{children:[E.jsx(jm,{}),E.jsx(GO,{})]})}),E.jsx(Mi,{path:"/about",element:E.jsxs(E.Fragment,{children:[E.jsx(jm,{}),E.jsx(QO,{})]})}),E.jsx(Mi,{path:"/login",element:E.jsxs(E.Fragment,{children:[E.jsx(jm,{}),E.jsx(KO,{})]})}),E.jsxs(Mi,{path:"/dashboard",element:E.jsx(FO,{}),children:[E.jsx(Mi,{index:!0,element:E.jsx(YO,{})}),E.jsx(Mi,{path:"incidents",element:E.jsx(XO,{})}),E.jsx(Mi,{path:"meetings",element:E.jsx($O,{})}),E.jsx(Mi,{path:"neighbors",element:E.jsx(JO,{})}),E.jsx(Mi,{path:"communities",element:E.jsx(ZO,{})})]})]})}nb.createRoot(document.getElementById("root")).render(E.jsx(U.StrictMode,{children:E.jsx(Gx,{children:E.jsx(Tw,{basename:"/EcoVecino/",children:E.jsx(WO,{})})})}));
